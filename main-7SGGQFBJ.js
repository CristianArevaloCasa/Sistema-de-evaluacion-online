var Dk=Object.defineProperty,Sk=Object.defineProperties;var Ak=Object.getOwnPropertyDescriptors;var Jl=Object.getOwnPropertySymbols,Rk=Object.getPrototypeOf,tC=Object.prototype.hasOwnProperty,nC=Object.prototype.propertyIsEnumerable,Pk=Reflect.get;var eC=(n,e,t)=>e in n?Dk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})tC.call(e,t)&&eC(n,t,e[t]);if(Jl)for(var t of Jl(e))nC.call(e,t)&&eC(n,t,e[t]);return n},K=(n,e)=>Sk(n,Ak(e));var em=(n,e)=>{var t={};for(var r in n)tC.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Jl)for(var r of Jl(n))e.indexOf(r)<0&&nC.call(n,r)&&(t[r]=n[r]);return t};var pr=(n,e,t)=>Pk(Rk(n),t,e);var y=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var tm;function Zl(){return tm}function $n(n){let e=tm;return tm=n,e}var rC=Symbol("NotFound");function ss(n){return n===rC||n?.name==="\u0275NotFound"}var Tt=null,Xl=!1,nm=1,Nk=null,Dt=Symbol("SIGNAL");function ce(n){let e=Tt;return Tt=n,e}function rd(){return Tt}var as={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cs(n){if(Xl)throw new Error("");if(Tt===null)return;Tt.consumerOnSignalRead(n);let e=Tt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Tt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Tt.producers,t!==void 0&&t.producer===n)){Tt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Tt&&(!r||xk(i,Tt)))return;let o=ls(Tt),s={producer:n,consumer:Tt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Tt.producersTail=s,e!==void 0?e.nextProducer=s:Tt.producers=s,o&&aC(n,s)}function iC(){nm++}function id(n){if(!(ls(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===nm)){if(!n.producerMustRecompute(n)&&!Ec(n)){nd(n);return}n.producerRecomputeValue(n),nd(n)}}function rm(n){if(n.consumers===void 0)return;let e=Xl;Xl=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Mk(r)}}finally{Xl=e}}function im(){return Tt?.consumerAllowSignalWrites!==!1}function Mk(n){n.dirty=!0,rm(n),n.consumerMarkedDirty?.(n)}function nd(n){n.dirty=!1,n.lastCleanEpoch=nm}function us(n){return n&&oC(n),ce(n)}function oC(n){n.producersTail=void 0,n.recomputing=!0}function _c(n,e){ce(e),n&&sC(n)}function sC(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(ls(n))do t=om(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ec(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(id(t),r!==t.version))return!0}return!1}function Ic(n){if(ls(n)){let e=n.producers;for(;e!==void 0;)e=om(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function aC(n,e){let t=n.consumersTail,r=ls(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)aC(i.producer,i)}function om(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ls(e)){let o=e.producers;for(;o!==void 0;)o=om(o)}return t}function ls(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function od(n){Nk?.(n)}function xk(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function sd(n,e){return Object.is(n,e)}function ad(n,e){let t=Object.create(Ok);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(id(t),cs(t),t.value===vc)throw t.error;return t.value};return r[Dt]=t,od(t),r}var ed=Symbol("UNSET"),td=Symbol("COMPUTING"),vc=Symbol("ERRORED"),Ok=K(L({},as),{value:ed,dirty:!0,error:null,equal:sd,kind:"computed",producerMustRecompute(n){return n.value===ed||n.value===td},producerRecomputeValue(n){if(n.value===td)throw new Error("");let e=n.value;n.value=td;let t=us(n),r,i=!1;try{r=n.computation(),ce(null),i=e!==ed&&e!==vc&&r!==vc&&n.equal(e,r)}catch(o){r=vc,n.error=o}finally{_c(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function kk(){throw new Error}var cC=kk;function uC(n){cC(n)}function sm(n){cC=n}var Fk=null;function am(n,e){let t=Object.create(cd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>lC(t);return r[Dt]=t,od(t),[r,s=>ds(t,s),s=>cm(t,s)]}function lC(n){return cs(n),n.value}function ds(n,e){im()||uC(n),n.equal(n.value,e)||(n.value=e,Lk(n))}function cm(n,e){im()||uC(n),ds(n,e(n.value))}var cd=K(L({},as),{equal:sd,value:void 0,kind:"signal"});function Lk(n){n.version++,iC(),rm(n),Fk?.(n)}function oe(n){return typeof n=="function"}function hs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ud=hs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Yi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ze=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof ud?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{dC(o)}catch(s){e=e??[],s instanceof ud?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ud(e)}}add(e){var t;if(e&&e!==this)if(this.closed)dC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Yi(t,e)}remove(e){let{_finalizers:t}=this;t&&Yi(t,e),e instanceof n&&e._removeParent(this)}};ze.EMPTY=(()=>{let n=new ze;return n.closed=!0,n})();var um=ze.EMPTY;function ld(n){return n instanceof ze||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function dC(n){oe(n)?n():n.unsubscribe()}var bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fs={setTimeout(n,e,...t){let{delegate:r}=fs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=fs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function dd(n){fs.setTimeout(()=>{let{onUnhandledError:e}=bn;if(e)e(n);else throw n})}function wc(){}var hC=lm("C",void 0,void 0);function fC(n){return lm("E",void 0,n)}function pC(n){return lm("N",n,void 0)}function lm(n,e,t){return{kind:n,value:e,error:t}}var Qi=null;function ps(n){if(bn.useDeprecatedSynchronousErrorHandling){let e=!Qi;if(e&&(Qi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Qi;if(Qi=null,t)throw r}}else n()}function gC(n){bn.useDeprecatedSynchronousErrorHandling&&Qi&&(Qi.errorThrown=!0,Qi.error=n)}var Ji=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ld(e)&&e.add(this)):this.destination=jk}static create(e,t,r){return new gs(e,t,r)}next(e){this.isStopped?hm(pC(e),this):this._next(e)}error(e){this.isStopped?hm(fC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hm(hC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Vk=Function.prototype.bind;function dm(n,e){return Vk.call(n,e)}var fm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){hd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){hd(r)}else hd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){hd(t)}}},gs=class extends Ji{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&bn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dm(e.next,o),error:e.error&&dm(e.error,o),complete:e.complete&&dm(e.complete,o)}):i=e}this.destination=new fm(i)}};function hd(n){bn.useDeprecatedSynchronousErrorHandling?gC(n):dd(n)}function Uk(n){throw n}function hm(n,e){let{onStoppedNotification:t}=bn;t&&fs.setTimeout(()=>t(n,e))}var jk={closed:!0,next:wc,error:Uk,complete:wc};var ms=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Kt(n){return n}function pm(...n){return gm(n)}function gm(n){return n.length===0?Kt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Z=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=$k(t)?t:new gs(t,r,i);return ps(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=mC(r),new r((i,o)=>{let s=new gs({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ms](){return this}pipe(...t){return gm(t)(this)}toPromise(t){return t=mC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function mC(n){var e;return(e=n??bn.Promise)!==null&&e!==void 0?e:Promise}function Bk(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function $k(n){return n&&n instanceof Ji||Bk(n)&&ld(n)}function mm(n){return oe(n?.lift)}function ye(n){return e=>{if(mm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new ym(n,e,t,r,i)}var ym=class extends Ji{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ys(){return ye((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var vs=class extends Z{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,mm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return ys()(this)}};var yC=hs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class n extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new fd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new yC}next(t){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?um:(this.currentObservers=null,o.push(t),new ze(()=>{this.currentObservers=null,Yi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Z;return t.source=this,t}}return n.create=(e,t)=>new fd(e,t),n})(),fd=class extends it{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:um}};var gt=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vm={now(){return(vm.delegate||Date).now()},delegate:void 0};var pd=class extends ze{constructor(e,t){super()}schedule(e,t=0){return this}};var bc={setInterval(n,e,...t){let{delegate:r}=bc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=bc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var _s=class extends pd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return bc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&bc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Yi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Es=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Es.now=vm.now;var Is=class extends Es{constructor(e,t=Es.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var _m=new Is(_s);var gd=class extends _s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var md=class extends Is{};var Em=new md(gd);var Ut=new Z(n=>n.complete());function vC(n){return n&&oe(n.schedule)}function _C(n){return n[n.length-1]}function yd(n){return oe(_C(n))?n.pop():void 0}function ei(n){return vC(_C(n))?n.pop():void 0}function Im(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function IC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function EC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zi(n){return this instanceof Zi?(this.v=n,this):new Zi(n)}function wC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(A){return Promise.resolve(A).then(v,p)}}function a(v,A){r[v]&&(i[v]=function(F){return new Promise(function(x,j){o.push([v,F,x,j])>1||u(v,F)})},A&&(i[v]=A(i[v])))}function u(v,A){try{l(r[v](A))}catch(F){g(o[0][3],F)}}function l(v){v.value instanceof Zi?Promise.resolve(v.value.v).then(h,p):g(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function g(v,A){v(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function bC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof EC=="function"?EC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var vd=n=>n&&typeof n.length=="number"&&typeof n!="function";function _d(n){return oe(n?.then)}function Ed(n){return oe(n[ms])}function Id(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function wd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Hk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bd=Hk();function Cd(n){return oe(n?.[bd])}function Td(n){return wC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Zi(t.read());if(i)return yield Zi(void 0);yield yield Zi(r)}}finally{t.releaseLock()}})}function Dd(n){return oe(n?.getReader)}function Ze(n){if(n instanceof Z)return n;if(n!=null){if(Ed(n))return zk(n);if(vd(n))return qk(n);if(_d(n))return Gk(n);if(Id(n))return CC(n);if(Cd(n))return Wk(n);if(Dd(n))return Kk(n)}throw wd(n)}function zk(n){return new Z(e=>{let t=n[ms]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qk(n){return new Z(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Gk(n){return new Z(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,dd)})}function Wk(n){return new Z(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function CC(n){return new Z(e=>{Yk(n,e).catch(t=>e.error(t))})}function Kk(n){return CC(Td(n))}function Yk(n,e){var t,r,i,o;return IC(this,void 0,void 0,function*(){try{for(t=bC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function jt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ti(n,e=0){return ye((t,r)=>{t.subscribe(pe(r,i=>jt(r,n,()=>r.next(i),e),()=>jt(r,n,()=>r.complete(),e),i=>jt(r,n,()=>r.error(i),e)))})}function ni(n,e=0){return ye((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function TC(n,e){return Ze(n).pipe(ni(e),ti(e))}function DC(n,e){return Ze(n).pipe(ni(e),ti(e))}function SC(n,e){return new Z(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function AC(n,e){return new Z(t=>{let r;return jt(t,e,()=>{r=n[bd](),jt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Sd(n,e){if(!n)throw new Error("Iterable cannot be null");return new Z(t=>{jt(t,e,()=>{let r=n[Symbol.asyncIterator]();jt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function RC(n,e){return Sd(Td(n),e)}function PC(n,e){if(n!=null){if(Ed(n))return TC(n,e);if(vd(n))return SC(n,e);if(_d(n))return DC(n,e);if(Id(n))return Sd(n,e);if(Cd(n))return AC(n,e);if(Dd(n))return RC(n,e)}throw wd(n)}function $e(n,e){return e?PC(n,e):Ze(n)}function X(...n){let e=ei(n);return $e(n,e)}function ws(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new Z(e?i=>e.schedule(r,0,i):r)}function wm(n){return!!n&&(n instanceof Z||oe(n.lift)&&oe(n.subscribe))}var gr=hs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function se(n,e){return ye((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Qk}=Array;function Jk(n,e){return Qk(e)?n(...e):n(e)}function Ad(n){return se(e=>Jk(n,e))}var{isArray:Zk}=Array,{getPrototypeOf:Xk,prototype:e1,keys:t1}=Object;function Rd(n){if(n.length===1){let e=n[0];if(Zk(e))return{args:e,keys:null};if(n1(e)){let t=t1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function n1(n){return n&&typeof n=="object"&&Xk(n)===e1}function Pd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Nd(...n){let e=ei(n),t=yd(n),{args:r,keys:i}=Rd(n);if(r.length===0)return $e([],e);let o=new Z(r1(r,e,i?s=>Pd(i,s):Kt));return t?o.pipe(Ad(t)):o}function r1(n,e,t=Kt){return r=>{NC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)NC(e,()=>{let l=$e(n[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function NC(n,e,t){n?jt(t,n,e):e()}function MC(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},v=F=>l<r?A(F):u.push(F),A=F=>{o&&e.next(F),l++;let x=!1;Ze(t(F,h++)).subscribe(pe(e,j=>{i?.(j),o?v(j):e.next(j)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let j=u.shift();s?jt(e,s,()=>A(j)):A(j)}g()}catch(j){e.error(j)}}))};return n.subscribe(pe(e,v,()=>{p=!0,g()})),()=>{a?.()}}function ot(n,e,t=1/0){return oe(e)?ot((r,i)=>se((o,s)=>e(r,o,i,s))(Ze(n(r,i))),t):(typeof e=="number"&&(t=e),ye((r,i)=>MC(r,i,n,t)))}function xC(n=1/0){return ot(Kt,n)}function OC(){return xC(1)}function bs(...n){return OC()($e(n,ei(n)))}function Cc(n){return new Z(e=>{Ze(n()).subscribe(e)})}function bm(...n){let e=yd(n),{args:t,keys:r}=Rd(n),i=new Z(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ze(t[h]).subscribe(pe(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Pd(r,a):a),o.complete())}))}});return e?i.pipe(Ad(e)):i}function dn(n,e){return ye((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ri(n){return ye((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=Ze(n(s,ri(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function kC(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Cs(n,e){return oe(e)?ot(n,e,1):ot(n,1)}function ii(n){return ye((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function mr(n){return n<=0?()=>Ut:ye((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Md(n=i1){return ye((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function i1(){return new gr}function Tc(n){return ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function yr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dn((i,o)=>n(i,o,r)):Kt,mr(1),t?ii(e):Md(()=>new gr))}function Ts(n){return n<=0?()=>Ut:ye((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Cm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dn((i,o)=>n(i,o,r)):Kt,Ts(1),t?ii(e):Md(()=>new gr))}function Tm(n,e){return ye(kC(n,e,arguments.length>=2,!0))}function Dm(...n){let e=ei(n);return ye((t,r)=>{(e?bs(n,t,e):bs(n,t)).subscribe(r)})}function Bt(n,e){return ye((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;Ze(n(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xd(n){return ye((e,t)=>{Ze(n).subscribe(pe(t,()=>t.complete(),wc)),!t.closed&&e.subscribe(t)})}function ct(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Kt}function FC(n){let e=ce(null);try{return n()}finally{ce(e)}}var eo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Um=new eo("20.3.13");var jm="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",z=class extends Error{code;constructor(e,t){super(Ss(e,t)),this.code=e}};function o1(n){return`NG0${Math.abs(n)}`}function Ss(n,e){return`${o1(n)}${e?": "+e:""}`}function De(n){for(let e in n)if(n[e]===De)return e;throw Error("")}function UC(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function _r(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(_r).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Bm(n,e){return n?e?`${n} ${e}`:n:e||""}var s1=De({__forward_ref__:De});function xt(n){return n.__forward_ref__=xt,n.toString=function(){return _r(this())},n}function mt(n){return $m(n)?n():n}function $m(n){return typeof n=="function"&&n.hasOwnProperty(s1)&&n.__forward_ref__===xt}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Hn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rc(n){return a1(n,Ld)}function Hm(n){return Rc(n)!==null}function a1(n,e){return n.hasOwnProperty(e)&&n[e]||null}function c1(n){let e=n?.[Ld]??null;return e||null}function Am(n){return n&&n.hasOwnProperty(kd)?n[kd]:null}var Ld=De({\u0275prov:De}),kd=De({\u0275inj:De}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zm(n){return n&&!!n.\u0275providers}var qm=De({\u0275cmp:De}),Gm=De({\u0275dir:De}),Wm=De({\u0275pipe:De}),Km=De({\u0275mod:De}),Sc=De({\u0275fac:De}),oo=De({__NG_ELEMENT_ID__:De}),LC=De({__NG_ENV_ID__:De});function As(n){return typeof n=="string"?n:n==null?"":String(n)}function jC(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():As(n)}var BC=De({ngErrorCode:De}),u1=De({ngErrorMessage:De}),l1=De({ngTokenPath:De});function Ym(n,e){return $C("",-200,e)}function Vd(n,e){throw new z(-201,!1)}function $C(n,e,t){let r=new z(e,n);return r[BC]=e,r[u1]=n,t&&(r[l1]=t),r}function d1(n){return n[BC]}var Rm;function HC(){return Rm}function Yt(n){let e=Rm;return Rm=n,e}function Qm(n,e,t){let r=Rc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Vd(n,"Injector")}var h1={},Xi=h1,Pm="__NG_DI_FLAG__",Nm=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=to(t)||0;try{return this.injector.get(e,r&8?null:Xi,r)}catch(i){if(ss(i))return i;throw i}}};function f1(n,e=0){let t=Zl();if(t===void 0)throw new z(-203,!1);if(t===null)return Qm(n,void 0,e);{let r=p1(e),i=t.retrieve(n,r);if(ss(i)){if(r.optional)return null;throw i}return i}}function le(n,e=0){return(HC()||f1)(mt(n),e)}function M(n,e){return le(n,to(e))}function to(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function p1(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Mm(n){let e=[];for(let t=0;t<n.length;t++){let r=mt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=g1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(le(i,o))}else e.push(le(r))}return e}function zC(n,e){return n[Pm]=e,n.prototype[Pm]=e,n}function g1(n){return n[Pm]}function no(n,e){let t=n.hasOwnProperty(Sc);return t?n[Sc]:null}function Ud(n,e){n.forEach(t=>Array.isArray(t)?Ud(t,e):e(t))}function Jm(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Pc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function qC(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function GC(n,e,t){let r=Rs(n,e);return r>=0?n[r|1]=t:(r=~r,qC(n,r,e,t)),r}function jd(n,e){let t=Rs(n,e);if(t>=0)return n[t|1]}function Rs(n,e){return m1(n,e,1)}function m1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var si={},Qt=[],Ir=new q(""),Zm=new q("",-1),Xm=new q(""),Ac=class{get(e,t=Xi){if(t===Xi){let i=$C("",-201);throw i.name="\u0275NotFound",i}return t}};function ey(n){return n[Km]||null}function ai(n){return n[qm]||null}function ty(n){return n[Gm]||null}function WC(n){return n[Wm]||null}function Jt(n){return{\u0275providers:n}}function KC(n){return Jt([{provide:Ir,multi:!0,useValue:n}])}function YC(...n){return{\u0275providers:ny(!0,n),\u0275fromNgModule:!0}}function ny(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ud(e,s=>{let a=s;Fd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&QC(i,o),t}function QC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ry(i,o=>{e(o,r)})}}function Fd(n,e,t,r){if(n=mt(n),!n)return!1;let i=null,o=Am(n),s=!o&&ai(n);if(!o&&!s){let u=n.ngModule;if(o=Am(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Fd(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ud(o.imports,h=>{Fd(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&QC(l,e)}if(!a){let l=no(i)||(()=>new i);e({provide:i,useFactory:l,deps:Qt},i),e({provide:Xm,useValue:i,multi:!0},i),e({provide:Ir,useValue:()=>le(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;ry(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ry(n,e){for(let t of n)zm(t)&&(t=t.\u0275providers),Array.isArray(t)?ry(t,e):e(t)}var y1=De({provide:String,useValue:De});function JC(n){return n!==null&&typeof n=="object"&&y1 in n}function v1(n){return!!(n&&n.useExisting)}function _1(n){return!!(n&&n.useFactory)}function ro(n){return typeof n=="function"}function ZC(n){return!!n.useClass}var Nc=new q(""),Od={},VC={},Sm;function Mc(){return Sm===void 0&&(Sm=new Ac),Sm}var st=class{},io=class extends st{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Om(e,s=>this.processProvider(s)),this.records.set(Zm,Ds(void 0,this)),i.has("environment")&&this.records.set(st,Ds(void 0,this));let o=this.records.get(Nc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xm,Qt,{self:!0}))}retrieve(e,t){let r=to(t)||0;try{return this.get(e,Xi,r)}catch(i){if(ss(i))return i;throw i}}destroy(){Dc(this),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return Dc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Dc(this);let t=$n(this),r=Yt(void 0),i;try{return e()}finally{$n(t),Yt(r)}}get(e,t=Xi,r){if(Dc(this),e.hasOwnProperty(LC))return e[LC](this);let i=to(r),o,s=$n(this),a=Yt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=C1(e)&&Rc(e);h&&this.injectableDefInScope(h)?l=Ds(xm(e),Od):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Mc():this.parent;return t=i&8&&t===Xi?null:t,u.get(e,t)}catch(u){let l=d1(u);throw l===-200||l===-201?new z(l,null):u}finally{Yt(a),$n(s)}}resolveInjectorInitializers(){let e=ce(null),t=$n(this),r=Yt(void 0),i;try{let o=this.get(Ir,Qt,{self:!0});for(let s of o)s()}finally{$n(t),Yt(r),ce(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(_r(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=mt(e);let t=ro(e)?e:mt(e&&e.provide),r=I1(e);if(!ro(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ds(void 0,Od,!0),i.factory=()=>Mm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ce(null);try{if(t.value===VC)throw Ym(_r(e));return t.value===Od&&(t.value=VC,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&b1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=mt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function xm(n){let e=Rc(n),t=e!==null?e.factory:no(n);if(t!==null)return t;if(n instanceof q)throw new z(204,!1);if(n instanceof Function)return E1(n);throw new z(204,!1)}function E1(n){if(n.length>0)throw new z(204,!1);let t=c1(n);return t!==null?()=>t.factory(n):()=>new n}function I1(n){if(JC(n))return Ds(void 0,n.useValue);{let e=iy(n);return Ds(e,Od)}}function iy(n,e,t){let r;if(ro(n)){let i=mt(n);return no(i)||xm(i)}else if(JC(n))r=()=>mt(n.useValue);else if(_1(n))r=()=>n.useFactory(...Mm(n.deps||[]));else if(v1(n))r=(i,o)=>le(mt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=mt(n&&(n.useClass||n.provide));if(w1(n))r=()=>new i(...Mm(n.deps));else return no(i)||xm(i)}return r}function Dc(n){if(n.destroyed)throw new z(205,!1)}function Ds(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function w1(n){return!!n.deps}function b1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function C1(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Om(n,e){for(let t of n)Array.isArray(t)?Om(t,e):t&&zm(t)?Om(t.\u0275providers,e):e(t)}function at(n,e){let t;n instanceof io?(Dc(n),t=n):t=new Nm(n);let r,i=$n(t),o=Yt(void 0);try{return e()}finally{$n(i),Yt(o)}}function XC(){return HC()!==void 0||Zl()!=null}var Tn=0,ue=1,ne=2,yt=3,hn=4,fn=5,xc=6,Ps=7,St=8,ci=9,wr=10,qe=11,Ns=12,oy=13,so=14,pn=15,ao=16,co=17,uo=18,Oc=19,sy=20,vr=21,Bd=22,kc=23,Zt=24,lo=25,Fc=26,Xt=27,eT=1;var ui=7,Lc=8,Vc=9,$t=10;function zn(n){return Array.isArray(n)&&typeof n[eT]=="object"}function Dn(n){return Array.isArray(n)&&n[eT]===!0}function ay(n){return(n.flags&4)!==0}function li(n){return n.componentOffset>-1}function Uc(n){return(n.flags&1)===1}function qn(n){return!!n.template}function Ms(n){return(n[ne]&512)!==0}function ho(n){return(n[ne]&256)===256}var cy="svg",tT="math";function gn(n){for(;Array.isArray(n);)n=n[Tn];return n}function uy(n,e){return gn(e[n])}function Sn(n,e){return gn(e[n.index])}function $d(n,e){return n.data[e]}function mn(n,e){let t=e[n];return zn(t)?t:t[Tn]}function Hd(n){return(n[ne]&128)===128}function nT(n){return Dn(n[yt])}function jc(n,e){return e==null?null:n[e]}function ly(n){n[co]=0}function dy(n){n[ne]&1024||(n[ne]|=1024,Hd(n)&&xs(n))}function rT(n,e){for(;n>0;)e=e[so],n--;return e}function Bc(n){return!!(n[ne]&9216||n[Zt]?.dirty)}function zd(n){n[wr].changeDetectionScheduler?.notify(8),n[ne]&64&&(n[ne]|=1024),Bc(n)&&xs(n)}function xs(n){n[wr].changeDetectionScheduler?.notify(0);let e=oi(n);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Hd(e)));)e=oi(e)}function hy(n,e){if(ho(n))throw new z(911,!1);n[vr]===null&&(n[vr]=[]),n[vr].push(e)}function iT(n,e){if(n[vr]===null)return;let t=n[vr].indexOf(e);t!==-1&&n[vr].splice(t,1)}function oi(n){let e=n[yt];return Dn(e)?e[yt]:e}function oT(n){return n[Ps]??=[]}function sT(n){return n.cleanup??=[]}var de={lFrame:wT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var km=!1;function aT(){return de.lFrame.elementDepthCount}function cT(){de.lFrame.elementDepthCount++}function uT(){de.lFrame.elementDepthCount--}function fy(){return de.bindingsEnabled}function lT(){return de.skipHydrationRootTNode!==null}function dT(n){return de.skipHydrationRootTNode===n}function hT(){de.skipHydrationRootTNode=null}function Oe(){return de.lFrame.lView}function en(){return de.lFrame.tView}function Ht(n){return de.lFrame.contextLView=n,n[St]}function zt(n){return de.lFrame.contextLView=null,n}function Ot(){let n=py();for(;n!==null&&n.type===64;)n=n.parent;return n}function py(){return de.lFrame.currentTNode}function fT(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Os(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function gy(){return de.lFrame.isParent}function pT(){de.lFrame.isParent=!1}function my(){return km}function yy(n){let e=km;return km=n,e}function gT(){return de.lFrame.bindingIndex}function mT(n){return de.lFrame.bindingIndex=n}function $c(){return de.lFrame.bindingIndex++}function vy(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function yT(){return de.lFrame.inI18n}function vT(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,qd(e)}function _T(){return de.lFrame.currentDirectiveIndex}function qd(n){de.lFrame.currentDirectiveIndex=n}function ET(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function _y(n){de.lFrame.currentQueryIndex=n}function T1(n){let e=n[ue];return e.type===2?e.declTNode:e.type===1?n[fn]:null}function Ey(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=T1(o),i===null||(o=o[so],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=IT();return r.currentTNode=e,r.lView=n,!0}function Gd(n){let e=IT(),t=n[ue];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function IT(){let n=de.lFrame,e=n===null?null:n.child;return e===null?wT(n):e}function wT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function bT(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Iy=bT;function Wd(){let n=bT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function CT(n){return(de.lFrame.contextLView=rT(n,de.lFrame.contextLView))[St]}function di(){return de.lFrame.selectedIndex}function hi(n){de.lFrame.selectedIndex=n}function Kd(){let n=de.lFrame;return $d(n.tView,n.selectedIndex)}function An(){de.lFrame.currentNamespace=cy}function Rn(){D1()}function D1(){de.lFrame.currentNamespace=null}function TT(){return de.lFrame.currentNamespace}var DT=!0;function Yd(){return DT}function Qd(n){DT=n}function Fm(n,e=null,t=null,r){let i=wy(n,e,t,r);return i.resolveInjectorInitializers(),i}function wy(n,e=null,t=null,r,i=new Set){let o=[t||Qt,YC(n)];return r=r||(typeof n=="object"?void 0:_r(n)),new io(o,e||Mc(),r||null,i)}var Xe=class n{static THROW_IF_NOT_FOUND=Xi;static NULL=new Ac;static create(e,t){if(Array.isArray(e))return Fm({name:""},t,e,"");{let r=e.name??"";return Fm({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:n,providedIn:"any",factory:()=>le(Zm)});static __NG_ELEMENT_ID__=-1},ut=new q(""),Pn=(()=>{class n{static __NG_ELEMENT_ID__=S1;static __NG_ENV_ID__=t=>t}return n})(),Lm=class extends Pn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ho(this._lView)}onDestroy(e){let t=this._lView;return hy(t,e),()=>iT(t,e)}};function S1(){return new Lm(Oe())}var Cn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},qt=new q("",{providedIn:"root",factory:()=>{let n=M(st),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Cn),e.handleError(t))}}}),ST={provide:Ir,useValue:()=>void M(Cn),multi:!0},A1=new q("",{providedIn:"root",factory:()=>{let n=M(ut).defaultView;if(!n)return;let e=M(qt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),M(Pn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function by(){return Jt([KC(()=>void M(A1))])}function Cy(n){return typeof n=="function"&&n[Dt]!==void 0}function tn(n,e){let[t,r,i]=am(n,e?.equal),o=t,s=o[Dt];return o.set=r,o.update=i,o.asReadonly=AT.bind(o),o}function AT(){let n=this[Dt];if(n.readonlyFn===void 0){let e=()=>this();e[Dt]=n,n.readonlyFn=e}return n.readonlyFn}function Ty(n){return Cy(n)&&typeof n.set=="function"}var Jd=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=R1}return n})();function R1(){return new Jd(Oe(),Ot())}var Er=class{},Hc=new q("",{providedIn:"root",factory:()=>!1});var Dy=new q(""),Sy=new q(""),Gn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new gt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Z(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),ks=(()=>{class n{internalPendingTasks=M(Gn);scheduler=M(Er);errorHandler=M(qt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})();function zc(...n){}var Ay=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new Vm})}return n})(),Vm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function $s(n){return{toString:n}.toString()}var Zd="__parameters__";function F1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function L1(n,e,t){return $s(()=>{let r=F1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Zd)?u[Zd]:Object.defineProperty(u,Zd,{value:[]})[Zd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var nn=zC(L1("Optional"),8);function V1(n){return typeof n=="function"}var rh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function aD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Cr=(()=>{let n=()=>cD;return n.ngInherit=!0,n})();function cD(n){return n.type.prototype.ngOnChanges&&(n.setInput=j1),U1}function U1(){let n=lD(this),e=n?.current;if(e){let t=n.previous;if(t===si)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function j1(n,e,t,r,i){let o=this.declaredInputs[r],s=lD(n)||B1(n,{previous:si,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new rh(l&&l.currentValue,t,u===si),aD(n,e,i,t)}var uD="__ngSimpleChanges__";function lD(n){return n[uD]||null}function B1(n,e){return n[uD]=e}var RT=[];var Pe=function(n,e=null,t){for(let r=0;r<RT.length;r++){let i=RT[r];i(n,e,t)}};function $1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=cD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function dD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function eh(n,e,t){hD(n,e,3,t)}function th(n,e,t,r){(n[ne]&3)===t&&hD(n,e,t,r)}function Ry(n,e){let t=n[ne];(t&3)===e&&(t&=16383,t+=1,n[ne]=t)}function hD(n,e,t,r){let i=r!==void 0?n[co]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[co]+=65536),(a<o||o==-1)&&(H1(n,t,e,u),n[co]=(n[co]&4294901760)+u+2),u++}function PT(n,e){Pe(4,n,e);let t=ce(null);try{e.call(n)}finally{ce(t),Pe(5,n,e)}}function H1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ne]>>14<n[co]>>16&&(n[ne]&3)===e&&(n[ne]+=16384,PT(a,o)):PT(a,o)}var Ls=-1,po=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function z1(n){return(n.flags&8)!==0}function q1(n){return(n.flags&16)!==0}function G1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];K1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function W1(n){return n===3||n===4||n===6}function K1(n){return n.charCodeAt(0)===64}function Wc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?NT(n,t,i,null,e[++r]):NT(n,t,i,null,null))}}return n}function NT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function fD(n){return n!==Ls}function ih(n){return n&32767}function Y1(n){return n>>16}function oh(n,e){let t=Y1(n),r=e;for(;t>0;)r=r[so],t--;return r}var Uy=!0;function MT(n){let e=Uy;return Uy=n,e}var Q1=256,pD=Q1-1,gD=5,J1=0,Wn={};function Z1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(oo)&&(r=t[oo]),r==null&&(r=t[oo]=J1++);let i=r&pD,o=1<<i;e.data[n+(i>>gD)]|=o}function sh(n,e){let t=mD(n,e);if(t!==-1)return t;let r=e[ue];r.firstCreatePass&&(n.injectorIndex=e.length,Py(r.data,n),Py(e,null),Py(r.blueprint,null));let i=ov(n,e),o=n.injectorIndex;if(fD(i)){let s=ih(i),a=oh(i,e),u=a[ue].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Py(n,e){n.push(0,0,0,0,0,0,0,0,e)}function mD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ov(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=ID(i),r===null)return Ls;if(t++,i=i[so],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ls}function jy(n,e,t){Z1(n,e,t)}function yD(n,e,t){if(t&8||n!==void 0)return n;Vd(e,"NodeInjector")}function vD(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ci],o=Yt(void 0);try{return i?i.get(e,r,t&8):Qm(e,r,t&8)}finally{Yt(o)}}return yD(r,e,t)}function _D(n,e,t,r=0,i){if(n!==null){if(e[ne]&2048&&!(r&2)){let s=rF(n,e,t,r,Wn);if(s!==Wn)return s}let o=ED(n,e,t,r,Wn);if(o!==Wn)return o}return vD(e,t,r,i)}function ED(n,e,t,r,i){let o=tF(t);if(typeof o=="function"){if(!Ey(e,n,r))return r&1?yD(i,t,r):vD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Vd(t);else return s}finally{Iy()}}else if(typeof o=="number"){let s=null,a=mD(n,e),u=Ls,l=r&1?e[pn][fn]:null;for((a===-1||r&4)&&(u=a===-1?ov(n,e):e[a+8],u===Ls||!OT(r,!1)?a=-1:(s=e[ue],a=ih(u),e=oh(u,e)));a!==-1;){let h=e[ue];if(xT(o,a,h.data)){let p=X1(a,e,t,s,r,l);if(p!==Wn)return p}u=e[a+8],u!==Ls&&OT(r,e[ue].data[a+8]===l)&&xT(o,a,e)?(s=h,a=ih(u),e=oh(u,e)):a=-1}}return i}function X1(n,e,t,r,i,o){let s=e[ue],a=s.data[n+8],u=r==null?li(a)&&Uy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=eF(a,s,t,u,l);return h!==null?ah(e,s,h,a,i):Wn}function eF(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let v=p;v<g;v++){let A=s[v];if(v<u&&t===A||v>=u&&A.type===t)return v}if(i){let v=s[u];if(v&&qn(v)&&v.type===t)return u}return null}function ah(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof po){let a=o;if(a.resolving){let v=jC(s[t]);throw Ym(v)}let u=MT(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Yt(a.injectImpl):null,g=Ey(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&$1(t,s[t],e)}finally{p!==null&&Yt(p),MT(u),a.resolving=!1,Iy()}}return o}function tF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(oo)?n[oo]:void 0;return typeof e=="number"?e>=0?e&pD:nF:e}function xT(n,e,t){let r=1<<n;return!!(t[e+(n>>gD)]&r)}function OT(n,e){return!(n&2)&&!(n&1&&e)}var fo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return _D(this._tNode,this._lView,e,to(r),t)}};function nF(){return new fo(Ot(),Oe())}function Mn(n){return $s(()=>{let e=n.prototype.constructor,t=e[Sc]||By(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Sc]||By(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function By(n){return $m(n)?()=>{let e=By(mt(n));return e&&e()}:no(n)}function rF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!Ms(s);){let a=ED(o,s,t,r|2,Wn);if(a!==Wn)return a;let u=o.parent;if(!u){let l=s[sy];if(l){let h=l.get(t,Wn,r);if(h!==Wn)return h}u=ID(s),s=s[so]}o=u}return i}function ID(n){let e=n[ue],t=e.type;return t===2?e.declTNode:t===1?n[fn]:null}function iF(){return vh(Ot(),Oe())}function vh(n,e){return new Tr(Sn(n,e))}var Tr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=iF}return n})();function wD(n){return(n.flags&128)===128}var sv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(sv||{}),bD=new Map,oF=0;function sF(){return oF++}function aF(n){bD.set(n[Oc],n)}function $y(n){bD.delete(n[Oc])}var kT="__ngContext__";function Vs(n,e){zn(e)?(n[kT]=e[Oc],aF(e)):n[kT]=e}function CD(n){return DD(n[Ns])}function TD(n){return DD(n[hn])}function DD(n){for(;n!==null&&!Dn(n);)n=n[hn];return n}var Hy;function av(n){Hy=n}function SD(){if(Hy!==void 0)return Hy;if(typeof document<"u")return document;throw new z(210,!1)}var _h=new q("",{providedIn:"root",factory:()=>cF}),cF="ng",Eh=new q(""),_o=new q("",{providedIn:"platform",factory:()=>"unknown"});var Ih=new q("",{providedIn:"root",factory:()=>SD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uF="h",lF="b";var AD=!1,RD=new q("",{providedIn:"root",factory:()=>AD});var dF=(n,e,t,r)=>{};function hF(n,e,t,r){dF(n,e,t,r)}function cv(n){return(n.flags&32)===32}var fF=()=>null;function PD(n,e,t=!1){return fF(n,e,t)}function ND(n,e){let t=n.contentQueries;if(t!==null){let r=ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];_y(o),a.contentQueries(2,e[s],s)}}}finally{ce(r)}}}function zy(n,e,t){_y(0);let r=ce(null);try{e(n,t)}finally{ce(r)}}function MD(n,e,t){if(ay(e)){let r=ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ce(r)}}}var br=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(br||{});var qy=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jm})`}};function xD(n){return n instanceof qy?n.changingThisBreaksApplicationSecurity:n}function OD(n){return n instanceof Function?n():n}function pF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var kD="ng-template";function gF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&pF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(uv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function uv(n){return n.type===4&&n.value!==kD}function mF(n,e,t){let r=n.type===4&&!t?kD:n.value;return e===r}function yF(n,e,t){let r=4,i=n.attrs,o=i!==null?EF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Nn(r)&&!Nn(u))return!1;if(s&&Nn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!mF(n,u,t)||u===""&&e.length===1){if(Nn(r))return!1;s=!0}}else if(r&8){if(i===null||!gF(n,i,u,t)){if(Nn(r))return!1;s=!0}}else{let l=e[++a],h=vF(u,i,uv(n),t);if(h===-1){if(Nn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Nn(r))return!1;s=!0}}}}return Nn(r)||s}function Nn(n){return(n&1)===0}function vF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return IF(e,n)}function _F(n,e,t=!1){for(let r=0;r<e.length;r++)if(yF(n,e[r],t))return!0;return!1}function EF(n){for(let e=0;e<n.length;e++){let t=n[e];if(W1(t))return e}return n.length}function IF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function FT(n,e){return n?":not("+e.trim()+")":e}function wF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Nn(s)&&(e+=FT(o,i),i=""),r=s,o=o||!Nn(r);t++}return i!==""&&(e+=FT(o,i)),e}function bF(n){return n.map(wF).join(",")}function CF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Nn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Yn={};function TF(n,e){return n.createText(e)}function DF(n,e,t){n.setValue(e,t)}function FD(n,e,t){return n.createElement(e,t)}function ch(n,e,t,r,i){n.insertBefore(e,t,r,i)}function LD(n,e,t){n.appendChild(e,t)}function LT(n,e,t,r,i){r!==null?ch(n,e,t,r,i):LD(n,e,t)}function SF(n,e,t,r){n.removeChild(null,e,t,r)}function AF(n,e,t){n.setAttribute(e,"style",t)}function RF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function VD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&G1(n,e,r),i!==null&&RF(n,e,i),o!==null&&AF(n,e,o)}function lv(n,e,t,r,i,o,s,a,u,l,h){let p=Xt+r,g=p+i,v=PF(p,g),A=typeof l=="function"?l():l;return v[ue]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function PF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Yn);return t}function NF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=lv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function dv(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Tn]=i,p[ne]=r|4|128|8|64|1024,(l!==null||n&&n[ne]&2048)&&(p[ne]|=2048),ly(p),p[yt]=p[so]=n,p[St]=t,p[wr]=s||n&&n[wr],p[qe]=a||n&&n[qe],p[ci]=u||n&&n[ci]||null,p[fn]=o,p[Oc]=sF(),p[xc]=h,p[sy]=l,p[pn]=e.type==2?n[pn]:p,p}function MF(n,e,t){let r=Sn(e,n),i=NF(t),o=n[wr].rendererFactory,s=hv(n,dv(n,i,null,UD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function UD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function jD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function hv(n,e){return n[Ns]?n[oy][hn]=e:n[Ns]=e,n[oy]=e,e}function O(n=1){BD(en(),Oe(),di()+n,!1)}function BD(n,e,t,r){if(!r)if((e[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&eh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&th(e,o,0,t)}hi(t)}var wh=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(wh||{});function Gy(n,e,t,r){let i=ce(null);try{let[o,s,a]=n.inputs[t],u=null;(s&wh.SignalBased)!==0&&(u=e[o][Dt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):aD(e,u,o,r)}finally{ce(i)}}var Kn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Kn||{}),xF;function fv(n,e){return xF(n,e)}var Us=new Set,bh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(bh||{}),Eo=new q(""),VT=new Set;function Jc(n){VT.has(n)||(VT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var $D=!1,Wy=class extends it{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,XC()&&(this.destroyRef=M(Pn,{optional:!0})??void 0,this.pendingTasks=M(Gn,{optional:!0})??void 0)}emit(e){let t=ce(null);try{super.next(e)}finally{ce(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ye=Wy;function HD(n){let e,t;function r(){n=zc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function UT(n){return queueMicrotask(()=>n()),()=>{n=zc}}var pv="isAngularZone",uh=pv+"_ID",OF=0,Se=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ye(!1);onMicrotaskEmpty=new Ye(!1);onStable=new Ye(!1);onError=new Ye(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=$D}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,LF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,kF,zc,zc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},kF={};function gv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function FF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){HD(()=>{n.callbackScheduled=!1,Ky(n),n.isCheckStableRunning=!0,gv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ky(n)}function LF(n){let e=()=>{FF(n)},t=OF++;n._inner=n._inner.fork({name:"angular",properties:{[pv]:!0,[uh]:t,[uh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(VF(u))return r.invokeTask(o,s,a,u);try{return jT(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),BT(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return jT(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!UF(u)&&e(),BT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ky(n),gv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ky(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function jT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function BT(n){n._nesting--,gv(n)}var lh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ye;onMicrotaskEmpty=new Ye;onStable=new Ye;onError=new Ye;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function VF(n){return zD(n,"__ignore_ng_zone__")}function UF(n){return zD(n,"__scheduler_tick__")}function zD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var mv=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),qD=[0,1,2,3],GD=(()=>{class n{ngZone=M(Se);scheduler=M(Er);errorHandler=M(Cn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Eo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Pe(16),this.executing=!0;for(let r of qD)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Pe(17)}register(t){let{view:r}=t;r!==void 0?((r[lo]??=[]).push(t),xs(r),r[ne]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(bh.AFTER_NEXT_RENDER,t):t()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),dh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[lo];e&&(this.view[lo]=e.filter(t=>t!==this))}};function Ch(n,e){let t=e?.injector??M(Xe);return Jc("NgAfterNextRender"),BF(n,t,e,!0)}function jF(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function BF(n,e,t,r){let i=e.get(mv);i.impl??=e.get(GD);let o=e.get(Eo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Pn):null,a=e.get(Jd,null,{optional:!0}),u=new dh(i.impl,jF(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var $F=new q("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function WD(n,e,t){let r=n.get($F);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function HF(n,e){for(let[t,r]of e)WD(n,r.animateFns)}function $T(n,e,t,r){let i=n?.[Fc]?.enter;e!==null&&i&&i.has(t.index)&&HF(r,i)}function Fs(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;Dn(i)?u=i:zn(i)&&(l=!0,i=i[Tn]);let h=gn(i);n===0&&r!==null?($T(a,r,o,t),s==null?LD(e,r,h):ch(e,r,h,s||null,!0)):n===1&&r!==null?($T(a,r,o,t),ch(e,r,h,s||null,!0)):n===2?HT(a,o,t,p=>{SF(e,h,l,p)}):n===3&&HT(a,o,t,()=>{e.destroyNode(h)}),u!=null&&nL(e,n,t,u,o,r,s)}}function zF(n,e){KD(n,e),e[Tn]=null,e[fn]=null}function qF(n,e,t,r,i,o){r[Tn]=i,r[fn]=e,Th(n,r,t,1,i,o)}function KD(n,e){e[wr].changeDetectionScheduler?.notify(9),Th(n,e,e[qe],2,null,null)}function GF(n){let e=n[Ns];if(!e)return Ny(n[ue],n);for(;e;){let t=null;if(zn(e))t=e[Ns];else{let r=e[$t];r&&(t=r)}if(!t){for(;e&&!e[hn]&&e!==n;)zn(e)&&Ny(e[ue],e),e=e[yt];e===null&&(e=n),zn(e)&&Ny(e[ue],e),t=e&&e[hn]}e=t}}function yv(n,e){let t=n[Vc],r=t.indexOf(e);t.splice(r,1)}function YD(n,e){if(ho(e))return;let t=e[qe];t.destroyNode&&Th(n,e,t,3,null,null),GF(e)}function Ny(n,e){if(ho(e))return;let t=ce(null);try{e[ne]&=-129,e[ne]|=256,e[Zt]&&Ic(e[Zt]),YF(n,e),KF(n,e),e[ue].type===1&&e[qe].destroy();let r=e[ao];if(r!==null&&Dn(e[yt])){r!==e[yt]&&yv(r,e);let i=e[uo];i!==null&&i.detachView(n)}$y(e)}finally{ce(t)}}function HT(n,e,t,r){let i=n?.[Fc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Us.add(n),WD(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),WF(n,r)}else n&&Us.delete(n),r(!1)},i)}function WF(n,e){let t=n[Fc]?.running;if(t){t.then(()=>{n[Fc].running=void 0,Us.delete(n),e(!0)});return}e(!1)}function KF(n,e){let t=n.cleanup,r=e[Ps];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ps]=null);let i=e[vr];if(i!==null){e[vr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[kc];if(o!==null){e[kc]=null;for(let s of o)s.destroy()}}function YF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof po)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Pe(4,a,u);try{u.call(a)}finally{Pe(5,a,u)}}else{Pe(4,i,o);try{o.call(i)}finally{Pe(5,i,o)}}}}}function QF(n,e,t){return JF(n,e.parent,t)}function JF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Tn];if(li(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===br.None||i===br.Emulated)return null}return Sn(r,t)}function ZF(n,e,t){return eL(n,e,t)}function XF(n,e,t){return n.type&40?Sn(n,t):null}var eL=XF,zT;function vv(n,e,t,r){let i=QF(n,r,e),o=e[qe],s=r.parent||e[fn],a=ZF(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)LT(o,i,t[u],a,!1);else LT(o,i,t,a,!1);zT!==void 0&&zT(o,r,e,t,i)}function qc(n,e){if(e!==null){let t=e.type;if(t&3)return Sn(e,n);if(t&4)return Yy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return qc(n,r);{let i=n[e.index];return Dn(i)?Yy(-1,i):gn(i)}}else{if(t&128)return qc(n,e.next);if(t&32)return fv(e,n)()||gn(n[e.index]);{let r=QD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=oi(n[pn]);return qc(i,r)}else return qc(n,e.next)}}}return null}function QD(n,e){if(e!==null){let r=n[pn][fn],i=e.projection;return r.projection[i]}return null}function Yy(n,e){let t=$t+n+1;if(t<e.length){let r=e[t],i=r[ue].firstChild;if(i!==null)return qc(r,i)}return e[ui]}function _v(n,e,t,r,i,o,s){for(;t!=null;){let a=r[ci];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Vs(gn(u),r),t.flags|=2),!cv(t))if(l&8)_v(n,e,t.child,r,i,o,!1),Fs(e,n,a,i,u,t,o,r);else if(l&32){let h=fv(t,r),p;for(;p=h();)Fs(e,n,a,i,p,t,o,r);Fs(e,n,a,i,u,t,o,r)}else l&16?tL(n,e,r,t,i,o):Fs(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Th(n,e,t,r,i,o){_v(t,r,n.firstChild,e,i,o,!1)}function tL(n,e,t,r,i,o){let s=t[pn],u=s[fn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Fs(e,n,t[ci],i,h,r,o,t)}else{let l=u,h=s[yt];wD(r)&&(l.flags|=128),_v(n,e,l,h,i,o,!0)}}function nL(n,e,t,r,i,o,s){let a=r[ui],u=gn(r);a!==u&&Fs(e,n,t,o,a,i,s);for(let l=$t;l<r.length;l++){let h=r[l];Th(h[ue],h,n,e,o,a)}}function rL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Kn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Kn.Important),n.setStyle(t,r,i,o))}}function JD(n,e,t,r,i){let o=di(),s=r&2;try{hi(-1),s&&e.length>Xt&&BD(n,e,Xt,!1),Pe(s?2:0,i,t),t(r,i)}finally{hi(o),Pe(s?3:1,i,t)}}function Ev(n,e,t){lL(n,e,t),(t.flags&64)===64&&dL(n,e,t)}function ZD(n,e,t=Sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function iL(n,e,t,r){let o=r.get(RD,AD)||t===br.ShadowDom,s=n.selectRootElement(e,o);return oL(s),s}function oL(n){sL(n)}var sL=()=>null;function aL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function XD(n,e,t,r,i,o){let s=e[ue];if(Iv(n,s,e,t,r)){li(n)&&uL(e,n.index);return}n.type&3&&(t=aL(t)),cL(n,e,t,r,i,o)}function cL(n,e,t,r,i,o){if(n.type&3){let s=Sn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function uL(n,e){let t=mn(e,n);t[ne]&16||(t[ne]|=64)}function lL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;li(t)&&MF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||sh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=ah(e,n,s,t);if(Vs(u,e),o!==null&&gL(e,s-r,u,a,t,o),qn(a)){let l=mn(t.index,e);l[St]=ah(e,n,s,t)}}}function dL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=_T();try{hi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];qd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&hL(u,l)}}finally{hi(-1),qd(s)}}function hL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function eS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];_F(e,o.selectors,!1)&&(r??=[],qn(o)?r.unshift(o):r.push(o))}return r}function fL(n,e,t,r,i,o){let s=Sn(n,e);pL(e[qe],s,o,n.value,t,r,i)}function pL(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?As(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function gL(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Gy(r,t,u,l)}}function mL(n,e,t,r,i){let o=Xt+t,s=e[ue],a=i(s,e,n,r,t);e[o]=a,Os(n,!0);let u=n.type===2;return u?(VD(e[qe],a,n),(aT()===0||Uc(n))&&Vs(a,e),cT()):Vs(a,e),Yd()&&(!u||!cv(n))&&vv(s,e,a,n),n}function yL(n){let e=n;return gy()?pT():(e=e.parent,Os(e,!1)),e}function vL(n,e){let t=n[ci];if(!t)return;let r;try{r=t.get(qt,null)}catch{r=null}r?.(e)}function Iv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Gy(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Gy(h,l,r,i),a=!0}return a}function _L(n,e){let t=mn(e,n),r=t[ue];EL(r,t);let i=t[Tn];i!==null&&t[xc]===null&&(t[xc]=PD(i,t[ci])),Pe(18),wv(r,t,t[St]),Pe(19,t[St])}function EL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function wv(n,e,t){Gd(e);try{let r=n.viewQuery;r!==null&&zy(1,r,t);let i=n.template;i!==null&&JD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[uo]?.finishViewCreation(n),n.staticContentQueries&&ND(n,e),n.staticViewQueries&&zy(2,n.viewQuery,t);let o=n.components;o!==null&&IL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ne]&=-5,Wd()}}function IL(n,e){for(let t=0;t<e.length;t++)_L(n,e[t])}function wL(n,e,t,r){let i=ce(null);try{let o=e.tView,a=n[ne]&4096?4096:16,u=dv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ao]=l;let h=n[uo];return h!==null&&(u[uo]=h.createEmbeddedView(o)),wv(o,u,t),u}finally{ce(i)}}function qT(n,e){return!e||e.firstChild===null||wD(n)}function Kc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(gn(o)),Dn(o)&&tS(o,r);let s=t.type;if(s&8)Kc(n,e,t.child,r);else if(s&32){let a=fv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=QD(e,t);if(Array.isArray(a))r.push(...a);else{let u=oi(e[pn]);Kc(u[ue],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function tS(n,e){for(let t=$t;t<n.length;t++){let r=n[t],i=r[ue].firstChild;i!==null&&Kc(r[ue],r,i,e)}n[ui]!==n[Tn]&&e.push(n[ui])}function nS(n){if(n[lo]!==null){for(let e of n[lo])e.impl.addSequence(e);n[lo].length=0}}var rS=[];function bL(n){return n[Zt]??CL(n)}function CL(n){let e=rS.pop()??Object.create(DL);return e.lView=n,e}function TL(n){n.lView[Zt]!==n&&(n.lView=null,rS.push(n))}var DL=K(L({},as),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{xs(n.lView)},consumerOnSignalRead(){this.lView[Zt]=this}});function SL(n){let e=n[Zt]??Object.create(AL);return e.lView=n,e}var AL=K(L({},as),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=oi(n.lView);for(;e&&!iS(e[ue]);)e=oi(e);e&&dy(e)},consumerOnSignalRead(){this.lView[Zt]=this}});function iS(n){return n.type!==2}function oS(n){if(n[kc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[kc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ne]&8192)}}var RL=100;function sS(n,e=0){let r=n[wr].rendererFactory,i=!1;i||r.begin?.();try{PL(n,e)}finally{i||r.end?.()}}function PL(n,e){let t=my();try{yy(!0),Qy(n,e);let r=0;for(;Bc(n);){if(r===RL)throw new z(103,!1);r++,Qy(n,1)}}finally{yy(t)}}function NL(n,e,t,r){if(ho(e))return;let i=e[ne],o=!1,s=!1;Gd(e);let a=!0,u=null,l=null;o||(iS(n)?(l=bL(e),u=us(l)):rd()===null?(a=!1,l=SL(e),u=us(l)):e[Zt]&&(Ic(e[Zt]),e[Zt]=null));try{ly(e),mT(n.bindingStartIndex),t!==null&&JD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let v=n.preOrderCheckHooks;v!==null&&eh(e,v,null)}else{let v=n.preOrderHooks;v!==null&&th(e,v,0,null),Ry(e,0)}if(s||ML(e),oS(e),aS(e,0),n.contentQueries!==null&&ND(n,e),!o)if(h){let v=n.contentCheckHooks;v!==null&&eh(e,v)}else{let v=n.contentHooks;v!==null&&th(e,v,1),Ry(e,1)}OL(n,e);let p=n.components;p!==null&&uS(e,p,0);let g=n.viewQuery;if(g!==null&&zy(2,g,r),!o)if(h){let v=n.viewCheckHooks;v!==null&&eh(e,v)}else{let v=n.viewHooks;v!==null&&th(e,v,2),Ry(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Bd]){for(let v of e[Bd])v();e[Bd]=null}o||(nS(e),e[ne]&=-73)}catch(h){throw o||xs(e),h}finally{l!==null&&(_c(l,u),a&&TL(l)),Wd()}}function aS(n,e){for(let t=CD(n);t!==null;t=TD(t))for(let r=$t;r<t.length;r++){let i=t[r];cS(i,e)}}function ML(n){for(let e=CD(n);e!==null;e=TD(e)){if(!(e[ne]&2))continue;let t=e[Vc];for(let r=0;r<t.length;r++){let i=t[r];dy(i)}}}function xL(n,e,t){Pe(18);let r=mn(e,n);cS(r,t),Pe(19,r[St])}function cS(n,e){Hd(n)&&Qy(n,e)}function Qy(n,e){let r=n[ue],i=n[ne],o=n[Zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ec(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)NL(r,n,r.template,n[St]);else if(i&8192){let a=ce(null);try{oS(n),aS(n,1);let u=r.components;u!==null&&uS(n,u,1),nS(n)}finally{ce(a)}}}function uS(n,e,t){for(let r=0;r<e.length;r++)xL(n,e[r],t)}function OL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)hi(~i);else{let o=i,s=t[++r],a=t[++r];vT(s,o);let u=e[o];Pe(24,u),a(2,u),Pe(25,u)}}}finally{hi(-1)}}function bv(n,e){let t=my()?64:1088;for(n[wr].changeDetectionScheduler?.notify(e);n;){n[ne]|=t;let r=oi(n);if(Ms(n)&&!r)return n;n=r}return null}function lS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function kL(n,e,t,r=!0){let i=e[ue];if(FL(i,e,n,t),r){let s=Yy(t,n),a=e[qe],u=a.parentNode(n[ui]);u!==null&&qF(i,n[fn],a,e,u,s)}let o=e[xc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Jy(n,e){if(n.length<=$t)return;let t=$t+e,r=n[t];if(r){let i=r[ao];i!==null&&i!==n&&yv(i,r),e>0&&(n[t-1][hn]=r[hn]);let o=Pc(n,$t+e);zF(r[ue],r);let s=o[uo];s!==null&&s.detachView(o[ue]),r[yt]=null,r[hn]=null,r[ne]&=-129}return r}function FL(n,e,t,r){let i=$t+r,o=t.length;r>0&&(t[i-1][hn]=e),r<o-$t?(e[hn]=t[i],Jm(t,$t+r,e)):(t.push(e),e[hn]=null),e[yt]=t;let s=e[ao];s!==null&&t!==s&&dS(s,e);let a=e[uo];a!==null&&a.insertView(n),zd(e),e[ne]|=128}function dS(n,e){let t=n[Vc],r=e[yt];if(zn(r))n[ne]|=2;else{let i=r[yt][pn];e[pn]!==i&&(n[ne]|=2)}t===null?n[Vc]=[e]:t.push(e)}var fi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ue];return Kc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return ho(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yt];if(Dn(e)){let t=e[Lc],r=t?t.indexOf(this):-1;r>-1&&(Jy(e,r),Pc(t,r))}this._attachedToViewContainer=!1}YD(this._lView[ue],this._lView)}onDestroy(e){hy(this._lView,e)}markForCheck(){bv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){zd(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,sS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ms(this._lView),t=this._lView[ao];t!==null&&!e&&yv(t,this._lView),KD(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=Ms(this._lView),r=this._lView[ao];r!==null&&!t&&dS(r,this._lView),zd(this._lView)}};var Zc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=LL;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=wL(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new fi(o)}}return n})();function LL(){return VL(Ot(),Oe())}function VL(n,e){return n.type&4?new Zc(e,n,vh(n,e)):null}function Cv(n,e,t,r,i){let o=n.data[e];if(o===null)o=UL(n,e,t,r,i),yT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=fT();o.injectorIndex=s===null?-1:s.injectorIndex}return Os(o,!0),o}function UL(n,e,t,r,i){let o=py(),s=gy(),a=s?o:o&&o.parent,u=n.data[e]=BL(n,a,t,e,r,i);return jL(n,u,o,s),u}function jL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function BL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return lT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var bJ=new RegExp(`^(\\d+)*(${lF}|${uF})*(.*)`);var $L=()=>null;function GT(n,e){return $L(n,e)}var hS=class{},Dh=class{},Zy=class{resolveComponentFactory(e){throw new z(917,!1)}},Xc=class{static NULL=new Zy},go=class{},pi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>HL()}return n})();function HL(){let n=Oe(),e=Ot(),t=mn(e.index,n);return(zn(t)?t:n)[qe]}var fS=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>null})}return n})();var nh={},Xy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,nh,r);return i!==nh||t===nh?i:this.parentInjector.get(e,t,r)}};function WT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Bm(i,a);else if(o==2){let u=a,l=e[++s];r=Bm(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ee(n,e=0){let t=Oe();if(t===null)return le(n,e);let r=Ot();return _D(r,t,mt(n),e)}function pS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}GL(n,e,t,a,o,u,l)}o!==null&&r!==null&&zL(t,r,o)}function zL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}function qL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function GL(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let v=r[g];!u&&qn(v)&&(u=!0,qL(n,t,g)),jy(sh(t,e),n,v.type)}ZL(t,n.data.length,a);for(let g=0;g<a;g++){let v=r[g];v.providersResolver&&v.providersResolver(v)}let l=!1,h=!1,p=jD(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let v=r[g];if(t.mergedAttrs=Wc(t.mergedAttrs,v.hostAttrs),KL(n,t,e,p,v),JL(p,v,i),s!==null&&s.has(v)){let[F,x]=s.get(v);t.directiveToIndex.set(v.type,[p,F+t.directiveStart,x+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let A=v.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}WL(n,t,o)}function WL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))KT(0,e,i,r),KT(1,e,i,r),QT(e,r,!1);else{let o=t.get(i);YT(0,e,o,r),YT(1,e,o,r),QT(e,r,!0)}}}function KT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),gS(e,o)}}function YT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),gS(e,s)}}function gS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function QT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||uv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function KL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=no(i.type,!0)),s=new po(o,qn(i),ee,null);n.blueprint[r]=s,t[r]=s,YL(n,e,r,jD(n,t,i.hostVars,Yn),i)}function YL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;QL(s)!=a&&s.push(a),s.push(t,r,o)}}function QL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function JL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;qn(e)&&(t[""]=n)}}function ZL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function mS(n,e,t,r,i,o,s,a){let u=e[ue],l=u.consts,h=jc(l,s),p=Cv(u,n,t,r,h);return o&&pS(u,e,p,jc(l,a),i),p.mergedAttrs=Wc(p.mergedAttrs,p.attrs),p.attrs!==null&&WT(p,p.attrs,!1),p.mergedAttrs!==null&&WT(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function yS(n,e){dD(n,e),ay(e)&&n.queries.elementEnd(e)}function Tv(n){return _S(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function vS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function _S(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function mo(n,e,t){if(t===Yn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function XL(n,e,t,r){let i=mo(n,e,t);return mo(n,e+1,r)||i}function My(n,e,t){return function r(i){let o=li(n)?mn(n.index,e):e;bv(o,5);let s=e[St],a=JT(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=JT(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function JT(n,e,t,r){let i=ce(null);try{return Pe(6,e,t),t(r)!==!1}catch(o){return vL(n,o),!1}finally{Pe(7,e,t),ce(i)}}function eV(n,e,t,r,i,o,s,a){let u=Uc(n),l=!1,h=null;if(!r&&u&&(h=nV(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Sn(n,t),g=r?r(p):p;hF(t,g,o,a);let v=i.listen(g,o,a);if(!tV(o)){let A=r?F=>r(gn(F[n.index])):n.index;ES(A,e,t,o,a,v,!1)}}return l}function tV(n){return n.startsWith("animation")||n.startsWith("transition")}function nV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ps],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ES(n,e,t,r,i,o,s){let a=e.firstCreatePass?sT(e):null,u=oT(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function ZT(n,e,t,r,i,o){let s=e[t],a=e[ue],l=a.data[t].outputs[r],p=s[l].subscribe(o);ES(n.index,a,e,i,o,p,!0)}var ev=Symbol("BINDING");var hh=class extends Xc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ai(e);return new js(t,this.ngModule)}};function rV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&wh.SignalBased)!==0};return i&&(o.transform=i),o})}function iV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function oV(n,e,t){let r=e instanceof st?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Xy(t,r):t}function sV(n){let e=n.get(go,null);if(e===null)throw new z(407,!1);let t=n.get(fS,null),r=n.get(Er,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function aV(n,e){let t=IS(n);return FD(e,t,t==="svg"?cy:t==="math"?tT:null)}function IS(n){return(n.selectors[0][0]||"div").toLowerCase()}var js=class extends Dh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=rV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=iV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=bF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Pe(22);let a=ce(null);try{let u=this.componentDef,l=cV(r,u,s,o),h=oV(u,i||this.ngModule,e),p=sV(h),g=p.rendererFactory.createRenderer(null,u),v=r?iL(g,r,u.encapsulation,h):aV(u,g),A=s?.some(XT)||o?.some(j=>typeof j!="function"&&j.bindings.some(XT)),F=dv(null,l,null,512|UD(u),null,null,p,g,h,null,PD(v,h,!0));F[Xt]=v,Gd(F);let x=null;try{let j=mS(Xt,F,2,"#host",()=>l.directiveRegistry,!0,0);VD(g,v,j),Vs(v,F),Ev(l,F,j),MD(l,j,F),yS(l,j),t!==void 0&&lV(j,this.ngContentSelectors,t),x=mn(j.index,F),F[St]=x[St],wv(l,F,null)}catch(j){throw x!==null&&$y(x),$y(F),j}finally{Pe(23),Wd()}return new fh(this.componentType,F,!!A)}finally{ce(a)}}};function cV(n,e,t,r){let i=n?["ng-version","20.3.13"]:CF(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[ev].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[ev].requiredVars;let v=h+1;g.create&&(g.targetIdx=v,(o??=[]).push(g)),g.update&&(g.targetIdx=v,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=ty(p);u.push(g)}return lv(0,null,uV(o,s),1,a,u,null,null,null,[i],null)}function uV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function XT(n){let e=n[ev].kind;return e==="input"||e==="twoWay"}var fh=class extends hS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=$d(t[ue],Xt),this.location=vh(this._tNode,t),this.instance=mn(this._tNode.index,t)[St],this.hostView=this.changeDetectorRef=new fi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Iv(r,i[ue],i,e,t);this.previousInputValues.set(e,t);let s=mn(r.index,i);bv(s,1)}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function lV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Io=(()=>{class n{static __NG_ELEMENT_ID__=dV}return n})();function dV(){let n=Ot();return fV(n,Oe())}var hV=Io,wS=class extends hV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return vh(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){let e=ov(this._hostTNode,this._hostLView);if(fD(e)){let t=oh(e,this._hostLView),r=ih(e),i=t[ue].data[r+8];return new fo(i,t)}else return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=eD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=GT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,qT(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!V1(e),l;if(u)l=t;else{let x=t||{};l=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef,s=x.directives,a=x.bindings}let h=u?e:new js(ai(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let j=(u?p:this.parentInjector).get(st,null);j&&(o=j)}let g=ai(h.componentType??{}),v=GT(this._lContainer,g?.id??null),A=v?.firstChild??null,F=h.create(p,i,A,o,s,a);return this.insertImpl(F.hostView,l,qT(this._hostTNode,v)),F}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(nT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[yt],l=new wS(u,u[fn],u[yt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return kL(s,i,o,r),e.attachToViewContainerRef(),Jm(xy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=eD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Jy(this._lContainer,t);r&&(Pc(xy(this._lContainer),t),YD(r[ue],r))}detach(e){let t=this._adjustIndex(e,-1),r=Jy(this._lContainer,t);return r&&Pc(xy(this._lContainer),t)!=null?new fi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function eD(n){return n[Lc]}function xy(n){return n[Lc]||(n[Lc]=[])}function fV(n,e){let t,r=e[n.index];return Dn(r)?t=r:(t=lS(r,e,null,n),e[n.index]=t,hv(e,t)),gV(t,e,n,r),new wS(t,n,e)}function pV(n,e){let t=n[qe],r=t.createComment(""),i=Sn(e,n),o=t.parentNode(i);return ch(t,o,r,t.nextSibling(i),!1),r}var gV=vV,mV=()=>!1;function yV(n,e,t){return mV(n,e,t)}function vV(n,e,t,r){if(n[ui])return;let i;t.type&8?i=gn(r):i=pV(e,t),n[ui]=i}var yo=class{},Sh=class{};var ph=class extends yo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new hh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=ey(e);this._bootstrapComponents=OD(o.bootstrap),this._r3Injector=wy(e,t,[{provide:yo,useValue:this},{provide:Xc,useValue:this.componentFactoryResolver},...r],_r(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gh=class extends Sh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ph(this.moduleType,e,[])}};var Yc=class extends yo{injector;componentFactoryResolver=new hh(this);instance=null;constructor(e){super();let t=new io([...e.providers,{provide:yo,useValue:this},{provide:Xc,useValue:this.componentFactoryResolver}],e.parent||Mc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function eu(n,e,t=null){return new Yc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var _V=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ny(!1,t.type),i=r.length>0?eu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(le(st))})}return n})();function rn(n){return $s(()=>{let e=bS(n),t=K(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===sv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(_V).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||br.Emulated,styles:n.styles||Qt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Jc("NgStandalone"),CS(t);let r=n.dependencies;return t.directiveDefs=tD(r,EV),t.pipeDefs=tD(r,WC),t.id=bV(t),t})}function EV(n){return ai(n)||ty(n)}function Dr(n){return $s(()=>({type:n.type,bootstrap:n.bootstrap||Qt,declarations:n.declarations||Qt,imports:n.imports||Qt,exports:n.exports||Qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function IV(n,e){if(n==null)return si;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=wh.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function wV(n){if(n==null)return si;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ke(n){return $s(()=>{let e=bS(n);return CS(e),e})}function bS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||si,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Qt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:IV(n.inputs,e),outputs:wV(n.outputs),debugInfo:null}}function CS(n){n.features?.forEach(e=>e(n))}function tD(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function bV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function CV(n){return Object.getPrototypeOf(n.prototype).constructor}function vt(n){let e=CV(n.type),t=!0,r=[n];for(;e;){let i;if(qn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Oy(n.inputs),s.declaredInputs=Oy(n.declaredInputs),s.outputs=Oy(n.outputs);let a=i.hostBindings;a&&RV(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&SV(n,u),l&&AV(n,l),TV(n,i),UC(n.outputs,i.outputs),qn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===vt&&(t=!1)}}e=Object.getPrototypeOf(e)}DV(r)}function TV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function DV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wc(i.hostAttrs,t=Wc(t,i.hostAttrs))}}function Oy(n){return n===si?{}:n===Qt?[]:n}function SV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function AV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function RV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function PV(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Wc(n.mergedAttrs,n.attrs);let h=n.tView=lv(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Os(n,!1);let u=MV(t,e,n,r);Yd()&&vv(t,e,u,n),Vs(u,e);let l=lS(u,e,u,n);e[r+Xt]=l,hv(e,l),yV(l,n,e)}function NV(n,e,t,r,i,o,s,a,u,l,h){let p=t+Xt,g;return e.firstCreatePass?(g=Cv(e,p,4,s||null,a||null),fy()&&pS(e,n,g,jc(e.consts,l),eS),dD(e,g)):g=e.data[p],PV(g,n,e,t,r,i,o,u),Uc(g)&&Ev(e,n,g),l!=null&&ZD(n,g,h),g}function me(n,e,t,r,i,o,s,a){let u=Oe(),l=en(),h=jc(l.consts,o);return NV(u,l,n,e,t,r,i,h,void 0,s,a),me}var MV=xV;function xV(n,e,t,r){return Qd(!0),e[qe].createComment("")}var Dv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Sv=new q("");function gi(n){return!!n&&typeof n.then=="function"}function Av(n){return!!n&&typeof n.subscribe=="function"}var TS=new q("");var Rv=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(TS,{optional:!0})??[];injector=M(Xe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=at(this.injector,i);if(gi(o))t.push(o);else if(Av(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ah=new q("");function DS(){sm(()=>{let n="";throw new z(600,n)})}function SS(n){return n.isBoundToModule}var OV=10;var Sr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(qt);afterRenderManager=M(mv);zonelessEnabled=M(Hc);rootEffectScheduler=M(Ay);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new it;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(Gn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(se(t=>!t))}constructor(){M(Eo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(st);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Xe.NULL){return this._injector.get(Se).run(()=>{Pe(10);let s=t instanceof Dh;if(!this._injector.get(Rv).done){let A="";throw new z(405,A)}let u;s?u=t:u=this._injector.get(Xc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=SS(u)?void 0:this._injector.get(yo),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,v=p.injector.get(Sv,null);return v?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Gc(this.components,p),v?.unregisterApplication(g)}),this._loadComponent(p),Pe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Pe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(bh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new z(101,!1);let t=ce(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ce(t),this.afterTick.next(),Pe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(go,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<OV;)Pe(14),this.synchronizeOnce(),Pe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Bc(i))continue;let o=r&&!this.zonelessEnabled?0:1;sS(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Bc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Gc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ah,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Gc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Rh(n,e,t,r){let i=Oe(),o=$c();if(mo(i,o,e)){let s=en(),a=Kd();fL(a,i,n,e,t,r)}return Rh}var PJ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function H(n,e,t){let r=Oe(),i=$c();if(mo(r,i,e)){let o=en(),s=Kd();XD(s,r,n,e,r[qe],t)}return H}function nD(n,e,t,r,i){Iv(e,n,t,i?"class":"style",r)}function S(n,e,t,r){let i=Oe(),o=i[ue],s=n+Xt,a=o.firstCreatePass?mS(s,i,2,e,eS,fy(),t,r):o.data[s];if(mL(a,i,n,e,kV),Uc(a)){let u=i[ue];Ev(u,i,a),MD(u,a,i)}return r!=null&&ZD(i,a),S}function b(){let n=en(),e=Ot(),t=yL(e);return n.firstCreatePass&&yS(n,t),dT(t)&&hT(),uT(),t.classesWithoutHost!=null&&z1(t)&&nD(n,t,Oe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&q1(t)&&nD(n,t,Oe(),t.stylesWithoutHost,!1),b}function Ee(n,e,t,r){return S(n,e,t,r),b(),Ee}var kV=(n,e,t,r,i)=>(Qd(!0),FD(e[qe],r,TT()));function xn(){return Oe()}var tu="en-US";var FV=tu;function AS(n){typeof n=="string"&&(FV=n.toLowerCase().replace(/_/g,"-"))}function Ie(n,e,t){let r=Oe(),i=en(),o=Ot();return RS(i,r,r[qe],o,n,e,t),Ie}function RS(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=My(r,e,o),eV(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],v=h[p+1];u??=My(r,e,o),ZT(r,e,g,v,i,u)}if(l&&l.length)for(let p of l)u??=My(r,e,o),ZT(r,e,p,i,i,u)}}function Ne(n=1){return CT(n)}function Xd(n,e){return n<<17|e<<2}function vo(n){return n>>17&32767}function LV(n){return(n&2)==2}function VV(n,e){return n&131071|e<<17}function tv(n){return n|2}function Bs(n){return(n&131068)>>2}function ky(n,e){return n&-131069|e<<2}function UV(n){return(n&1)===1}function nv(n){return n|1}function jV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=vo(s),u=Bs(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Rs(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=vo(n[a+1]);n[r+1]=Xd(g,a),g!==0&&(n[g+1]=ky(n[g+1],r)),n[a+1]=VV(n[a+1],r)}else n[r+1]=Xd(a,0),a!==0&&(n[a+1]=ky(n[a+1],r)),a=r;else n[r+1]=Xd(u,0),a===0?a=r:n[u+1]=ky(n[u+1],r),u=r;l&&(n[r+1]=tv(n[r+1])),rD(n,h,r,!0),rD(n,h,r,!1),BV(e,h,n,r,o),s=Xd(a,u),o?e.classBindings=s:e.styleBindings=s}function BV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Rs(o,e)>=0&&(t[r+1]=nv(t[r+1]))}function rD(n,e,t,r){let i=n[t+1],o=e===null,s=r?vo(i):Bs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];$V(u,e)&&(a=!0,n[s+1]=r?nv(l):tv(l)),s=r?vo(l):Bs(l)}a&&(n[t+1]=r?tv(i):nv(i))}function $V(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Rs(n,e)>=0:!1}function Hs(n,e,t){return PS(n,e,t,!1),Hs}function Qe(n,e){return PS(n,e,null,!0),Qe}function PS(n,e,t,r){let i=Oe(),o=en(),s=vy(2);if(o.firstUpdatePass&&zV(o,n,s,r),e!==Yn&&mo(i,s,e)){let a=o.data[di()];YV(o,a,i,i[qe],n,i[s+1]=QV(e,t),r,s)}}function HV(n,e){return e>=n.expandoStartIndex}function zV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[di()],s=HV(n,t);JV(o,r)&&e===null&&!s&&(e=!1),e=qV(i,o,e,r),jV(i,o,e,t,s,r)}}function qV(n,e,t,r){let i=ET(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Fy(null,n,e,t,r),t=Qc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Fy(i,n,e,t,r),o===null){let u=GV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Fy(null,n,e,u[1],r),u=Qc(u,e.attrs,r),WV(n,e,r,u))}else o=KV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function GV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Bs(r)!==0)return n[vo(r)]}function WV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[vo(i)]=r}function KV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Qc(r,s,t)}return Qc(r,e.attrs,t)}function Fy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Qc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Qc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),GC(n,s,t?!0:e[++o]))}return n===void 0?null:n}function YV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=UV(l)?iD(u,e,t,i,Bs(l),s):void 0;if(!mh(h)){mh(o)||LV(l)&&(o=iD(u,null,t,i,a,s));let p=uy(di(),t);rL(r,s,p,i,o)}}function iD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Yn&&(g=p?Qt:void 0);let v=p?jd(g,r):h===r?g:void 0;if(l&&!mh(v)&&(v=jd(u,r)),mh(v)&&(a=v,s))return a;let A=n[i+1];i=s?vo(A):Bs(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=jd(u,r))}return a}function mh(n){return n!==void 0}function QV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=_r(xD(n)))),n}function JV(n,e){return(n.flags&(e?8:16))!==0}function P(n,e=""){let t=Oe(),r=en(),i=n+Xt,o=r.firstCreatePass?Cv(r,i,1,e,null):r.data[i],s=ZV(r,t,o,e,n);t[i]=s,Yd()&&vv(r,t,s,o),Os(o,!1)}var ZV=(n,e,t,r,i)=>(Qd(!0),TF(e[qe],r));function XV(n,e,t,r=""){return mo(n,$c(),t)?e+As(t)+r:Yn}function e2(n,e,t,r,i,o=""){let s=gT(),a=XL(n,s,t,i);return vy(2),a?e+As(t)+r+As(i)+o:Yn}function we(n){return Ue("",n),we}function Ue(n,e,t){let r=Oe(),i=XV(r,n,e,t);return i!==Yn&&NS(r,di(),i),Ue}function zs(n,e,t,r,i){let o=Oe(),s=e2(o,n,e,t,r,i);return s!==Yn&&NS(o,di(),s),zs}function NS(n,e,t){let r=uy(e,n);DF(n[qe],r,t)}function qs(n,e,t){Ty(e)&&(e=e());let r=Oe(),i=$c();if(mo(r,i,e)){let o=en(),s=Kd();XD(s,r,n,e,r[qe],t)}return qs}function nu(n,e){let t=Ty(n);return t&&n.set(e),t}function Gs(n,e){let t=Oe(),r=en(),i=Ot();return RS(r,t,t[qe],i,n,e),Gs}function t2(n,e,t){let r=en();if(r.firstCreatePass){let i=qn(n);rv(t,r.data,r.blueprint,i,!0),rv(e,r.data,r.blueprint,i,!1)}}function rv(n,e,t,r,i){if(n=mt(n),Array.isArray(n))for(let o=0;o<n.length;o++)rv(n[o],e,t,r,i);else{let o=en(),s=Oe(),a=Ot(),u=ro(n)?n:mt(n.provide),l=iy(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(ro(n)||!n.multi){let v=new po(l,i,ee,null),A=Vy(u,e,i?h:h+g,p);A===-1?(jy(sh(a,s),o,u),Ly(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[A]=v,s[A]=v)}else{let v=Vy(u,e,h+g,p),A=Vy(u,e,h,h+g),F=v>=0&&t[v],x=A>=0&&t[A];if(i&&!x||!i&&!F){jy(sh(a,s),o,u);let j=i2(i?r2:n2,t.length,i,r,l,n);!i&&x&&(t[A].providerFactory=j),Ly(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=MS(t[i?A:v],l,!i&&r);Ly(o,n,v>-1?v:A,j)}!i&&r&&x&&t[A].componentProviders++}}}function Ly(n,e,t,r){let i=ro(e),o=ZC(e);if(i||o){let u=(o?mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function MS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Vy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function n2(n,e,t,r,i){return iv(this.multi,[])}function r2(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=ah(r,r[ue],this.providerFactory.index,i);s=u.slice(0,a),iv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],iv(o,s);return s}function iv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function i2(n,e,t,r,i,o){let s=new po(n,t,ee,null);return s.multi=[],s.index=e,s.componentProviders=0,MS(s,i,r&&!t),s}function yn(n,e=[]){return t=>{t.providersResolver=(r,i)=>t2(r,i?i(n):n,e)}}var yh=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Pv=(()=>{class n{compileModuleSync(t){return new gh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=ey(t),o=OD(i.declarations).reduce((s,a)=>{let u=ai(a);return u&&s.push(new js(u)),s},[]);return new yh(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var o2=(()=>{class n{zone=M(Se);changeDetectionScheduler=M(Er);applicationRef=M(Sr);applicationErrorHandler=M(qt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xS=new q("",{factory:()=>!1});function Nv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Se(K(L({},xv()),{scheduleInRootZone:t})),[{provide:Se,useFactory:n},{provide:Ir,multi:!0,useFactory:()=>{let r=M(o2,{optional:!0});return()=>r.initialize()}},{provide:Ir,multi:!0,useFactory:()=>{let r=M(s2);return()=>{r.initialize()}}},e===!0?{provide:Dy,useValue:!0}:[],{provide:Sy,useValue:t??$D},{provide:qt,useFactory:()=>{let r=M(Se),i=M(st),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Cn),o.handleError(s))})}}}]}function Mv(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Nv({ngZoneFactory:()=>{let i=xv(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Jc("NgZone_CoalesceEvent"),new Se(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Jt([{provide:xS,useValue:!0},{provide:Hc,useValue:!1},r])}function xv(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var s2=(()=>{class n{subscription=new ze;initialized=!1;zone=M(Se);pendingTasks=M(Gn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var OS=(()=>{class n{applicationErrorHandler=M(qt);appRef=M(Sr);taskService=M(Gn);ngZone=M(Se);zonelessEnabled=M(Hc);tracing=M(Eo,{optional:!0});disableScheduling=M(Dy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(uh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(Sy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?UT:HD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(uh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,UT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function a2(){return typeof $localize<"u"&&$localize.locale||tu}var Ph=new q("",{providedIn:"root",factory:()=>M(Ph,{optional:!0,skipSelf:!0})||a2()});function _t(n){return FC(n)}function Ws(n,e){return ad(n,e?.equal)}var kS=class{[Dt];constructor(e){this[Dt]=e}destroy(){this[Dt].destroy()}};var US=Symbol("InputSignalNode#UNSET"),C2=K(L({},cd),{transformFn:void 0,applyValueToInputSignal(n,e){ds(n,e)}});function jS(n,e){let t=Object.create(C2);t.value=n,t.transformFn=e?.transform;function r(){if(cs(t),t.value===US){let i=null;throw new z(-950,i)}return t.value}return r[Dt]=t,r}var T2=new q("");T2.__NG_ELEMENT_ID__=n=>{let e=Ot();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new z(204,!1)};function FS(n,e){return jS(n,e)}function D2(n){return jS(US,n)}var BS=(FS.required=D2,FS);var Ov=new q(""),S2=new q("");function ru(n){return!n.moduleRef}function A2(n){let e=ru(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Se);return t.run(()=>{ru(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(qt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ru(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Ov);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ov);s.add(o),n.moduleRef.onDestroy(()=>{Gc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return P2(r,t,()=>{let o=e.get(Gn),s=o.add(),a=e.get(Rv);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Ph,tu);if(AS(u||tu),!e.get(S2,!0))return ru(n)?e.get(Sr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ru(n)){let h=e.get(Sr);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return R2?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var R2;function P2(n,e,t){try{let r=t();return gi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Nh=null;function N2(n=[],e){return Xe.create({name:e,providers:[{provide:Nc,useValue:"platform"},{provide:Ov,useValue:new Set([()=>Nh=null])},...n]})}function M2(n=[]){if(Nh)return Nh;let e=N2(n);return Nh=e,DS(),x2(e),e}function x2(n){let e=n.get(Eh,null);at(n,()=>{e?.forEach(t=>t())})}function Uv(){return!1}var Ks=(()=>{class n{static __NG_ELEMENT_ID__=O2}return n})();function O2(n){return k2(Ot(),Oe(),(n&16)===16)}function k2(n,e,t){if(li(n)&&!t){let r=mn(n.index,e);return new fi(r,r)}else if(n.type&175){let r=e[pn];return new fi(r,e)}return null}var kv=class{constructor(){}supports(e){return Tv(e)}create(e){return new Fv(e)}},F2=(n,e)=>e,Fv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||F2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<LS(r,i,o)?t:r,a=LS(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let v=g<o.length?o[g]:o[g]=0,A=v+g;h<=A&&A<l&&(o[g]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Tv(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,vS(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Lv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Mh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Mh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Lv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Vv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Mh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Vv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function LS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function VS(){return new jv([new kv])}var jv=(()=>{class n{factories;static \u0275prov=G({token:n,providedIn:"root",factory:VS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=M(n,{optional:!0,skipSelf:!0});return n.create(t,r||VS())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new z(901,!1)}}return n})();function $S(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Pe(8);try{let o=i?.injector??M2(r),s=[Nv({}),{provide:Er,useExisting:OS},ST,...t||[]],a=new Yc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return A2({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Pe(9)}}function Bv(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var qS=null;function vn(){return qS}function $v(n){qS??=n}var ou=class{},Hv=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(GS),providedIn:"platform"})}return n})();var GS=(()=>{class n extends Hv{_location;_history;_doc=M(ut);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vn().getBaseHref(this._doc)}onPopState(t){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function WS(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function HS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function mi(n){return n&&n[0]!=="?"?`?${n}`:n}var xh=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(YS),providedIn:"root"})}return n})(),KS=new q(""),YS=(()=>{class n extends xh{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return WS(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+mi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+mi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(le(Hv),le(KS,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ys=(()=>{class n{_subject=new it;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=U2(HS(zS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+mi(r))}normalize(t){return n.stripTrailingSlash(V2(this._basePath,zS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=mi;static joinWithSlash=WS;static stripTrailingSlash=HS;static \u0275fac=function(r){return new(r||n)(le(xh))};static \u0275prov=G({token:n,factory:()=>L2(),providedIn:"root"})}return n})();function L2(){return new Ys(le(xh))}function V2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function zS(n){return n.replace(/\/index.html$/,"")}function U2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var zv=/\s+/,QS=[],su=(()=>{class n{_ngEl;_renderer;initialClasses=QS;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(zv):QS}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(zv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(zv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ee(Tr),ee(pi))};static \u0275dir=ke({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Oh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yi=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Oh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),JS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);JS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ee(Io),ee(Zc),ee(jv))};static \u0275dir=ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function JS(n,e){n.context.$implicit=e.item}var Ar=(()=>{class n{_viewContainer;_context=new kh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ZS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ZS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ee(Io),ee(Zc))};static \u0275dir=ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),kh=class{$implicit=null;ngIf=null};function ZS(n,e){if(n&&!n.createEmbeddedView)throw new z(2020,!1)}var Qn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Dr({type:n});static \u0275inj=Hn({})}return n})();function qv(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var au=class{};var XS="browser";var cu=class{_doc;constructor(e){this._doc=e}manager},Lh=(()=>{class n extends cu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(le(ut))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Uh=new q(""),Qv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Lh));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Lh);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(le(Uh),le(Se))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Gv="ng-app-id";function eA(n){for(let e of n)e.remove()}function tA(n,e){let t=e.createElement("style");return t.textContent=n,t}function j2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Gv}="${e}"],link[${Gv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Gv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Kv(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Jv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,j2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,tA);r?.forEach(i=>this.addUsage(i,this.external,Kv))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(eA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])eA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,tA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Kv(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(le(ut),le(_h),le(Ih,8),le(_o))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Wv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zv=/%COMP%/g;var rA="%COMP%",B2=`_nghost-${rA}`,$2=`_ngcontent-${rA}`,H2=!0,z2=new q("",{providedIn:"root",factory:()=>H2});function q2(n){return $2.replace(Zv,n)}function G2(n){return B2.replace(Zv,n)}function iA(n,e){return e.map(t=>t.replace(Zv,n))}var Xv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new uu(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Vh?i.applyToHost(t):i instanceof lu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case br.Emulated:o=new Vh(u,l,r,this.appId,h,s,a,p,g);break;case br.ShadowDom:return new Yv(u,l,t,r,s,a,this.nonce,p,g);default:o=new lu(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(le(Qv),le(Jv),le(_h),le(z2),le(ut),le(Se),le(Ih),le(Eo,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),uu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Wv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(nA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(nA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Wv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Wv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Kn.DashCase|Kn.Important)?e.style.setProperty(t,r,i&Kn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Kn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=vn().getGlobalEventTarget(this.doc,e),!e))throw new z(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function nA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Yv=class extends uu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=iA(i.id,h);for(let g of h){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=g,this.shadowRoot.appendChild(v)}let p=i.getExternalStyles?.();if(p)for(let g of p){let v=Kv(g,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},lu=class extends uu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?iA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Us.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Vh=class extends lu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=q2(h),this.hostAttr=G2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var jh=class n extends ou{supportsDOMEvents=!0;static makeCurrent(){$v(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=W2();return t==null?null:K2(t)}resetBaseElement(){du=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qv(document.cookie,e)}},du=null;function W2(){return du=du||document.head.querySelector("base"),du?du.getAttribute("href"):null}function K2(n){return new URL(n,document.baseURI).pathname}var Y2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),oA=["alt","control","meta","shift"],Q2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},sA=(()=>{class n extends cu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),oA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=Q2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),oA.forEach(s=>{if(s!==i){let a=J2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(le(ut))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function e_(n,e,t){let r=L({rootComponent:n,platformRef:t?.platformRef},Z2(e));return $S(r)}function Z2(n){return{appProviders:[...rU,...n?.providers??[]],platformProviders:nU}}function X2(){jh.makeCurrent()}function eU(){return new Cn}function tU(){return av(document),document}var nU=[{provide:_o,useValue:XS},{provide:Eh,useValue:X2,multi:!0},{provide:ut,useFactory:tU}];var rU=[{provide:Nc,useValue:"root"},{provide:Cn,useFactory:eU},{provide:Uh,useClass:Lh,multi:!0,deps:[ut]},{provide:Uh,useClass:sA,multi:!0,deps:[ut]},Xv,Jv,Qv,{provide:go,useExisting:Xv},{provide:au,useClass:Y2},[]];var aA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(le(ut))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var re="primary",Du=Symbol("RouteTitle"),o_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Co(n){return new o_(n)}function gA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function oU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jn(n[t],e[t]))return!1;return!0}function Jn(n,e){let t=n?s_(n):void 0,r=e?s_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!mA(n[i],e[i]))return!1;return!0}function s_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function mA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function yA(n){return n.length>0?n[n.length-1]:null}function Nr(n){return wm(n)?n:gi(n)?$e(Promise.resolve(n)):X(n)}var sU={exact:_A,subset:EA},vA={exact:aU,subset:cU,ignored:()=>!0};function cA(n,e,t){return sU[t.paths](n.root,e.root,t.matrixParams)&&vA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function aU(n,e){return Jn(n,e)}function _A(n,e,t){if(!wo(n.segments,e.segments)||!Hh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!_A(n.children[r],e.children[r],t))return!1;return!0}function cU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mA(n[t],e[t]))}function EA(n,e,t){return IA(n,e,e.segments,t)}function IA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!wo(i,t)||e.hasChildren()||!Hh(i,t,r))}else if(n.segments.length===t.length){if(!wo(n.segments,t)||!Hh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!EA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!wo(n.segments,i)||!Hh(n.segments,i,r)||!n.children[re]?!1:IA(n.children[re],e,o,r)}}function Hh(n,e,t){return e.every((r,i)=>vA[t](n[i].parameters,r.parameters))}var Xn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){return dU.serialize(this)}},be=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zh(this)}},vi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Co(this.parameters),this._parameterMap}toString(){return bA(this)}};function uU(n,e){return wo(n,e)&&n.every((t,r)=>Jn(t.parameters,e[r].parameters))}function wo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function lU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==re&&(t=t.concat(e(i,r)))}),t}var Su=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new To,providedIn:"root"})}return n})(),To=class{parse(e){let t=new c_(e);return new Xn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${hu(e.root,!0)}`,r=pU(e.queryParams),i=typeof e.fragment=="string"?`#${hU(e.fragment)}`:"";return`${t}${r}${i}`}},dU=new To;function zh(n){return n.segments.map(e=>bA(e)).join("/")}function hu(n,e){if(!n.hasChildren())return zh(n);if(e){let t=n.children[re]?hu(n.children[re],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${hu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=lU(n,(r,i)=>i===re?[hu(n.children[re],!1)]:[`${i}:${hu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[re]!=null?`${zh(n)}/${t[0]}`:`${zh(n)}/(${t.join("//")})`}}function wA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bh(n){return wA(n).replace(/%3B/gi,";")}function hU(n){return encodeURI(n)}function a_(n){return wA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qh(n){return decodeURIComponent(n)}function uA(n){return qh(n.replace(/\+/g,"%20"))}function bA(n){return`${a_(n.path)}${fU(n.parameters)}`}function fU(n){return Object.entries(n).map(([e,t])=>`;${a_(e)}=${a_(t)}`).join("")}function pU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Bh(t)}=${Bh(i)}`).join("&"):`${Bh(t)}=${Bh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var gU=/^[^\/()?;#]+/;function t_(n){let e=n.match(gU);return e?e[0]:""}var mU=/^[^\/()?;=#]+/;function yU(n){let e=n.match(mU);return e?e[0]:""}var vU=/^[^=?&#]+/;function _U(n){let e=n.match(vU);return e?e[0]:""}var EU=/^[^&#]+/;function IU(n){let e=n.match(EU);return e?e[0]:""}var c_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new be(e,t)),r}parseSegment(){let e=t_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new vi(qh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=yU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=t_(this.remaining);i&&(r=i,this.capture(r))}e[qh(t)]=qh(r)}parseQueryParam(e){let t=_U(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=IU(this.remaining);s&&(r=s,this.capture(r))}let i=uA(t),o=uA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=t_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();t[o??re]=Object.keys(s).length===1&&s[re]?s[re]:new be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function CA(n){return n.segments.length>0?new be([],{[re]:n}):n}function TA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=TA(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new be(n.segments,e);return wU(t)}function wU(n){if(n.numberOfChildren===1&&n.children[re]){let e=n.children[re];return new be(n.segments.concat(e.segments),e.children)}return n}function ea(n){return n instanceof Xn}function DA(n,e,t=null,r=null){let i=SA(n);return AA(i,e,t,r)}function SA(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new be(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=CA(r);return e??i}function AA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return n_(i,i,i,t,r);let o=bU(e);if(o.toRoot())return n_(i,i,new be([],{}),t,r);let s=CU(o,i,n),a=s.processChildren?pu(s.segmentGroup,s.index,o.commands):PA(s.segmentGroup,s.index,o.commands);return n_(i,s.segmentGroup,a,t,r)}function Gh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function yu(n){return typeof n=="object"&&n!=null&&n.outlets}function n_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=RA(n,e,t);let a=CA(TA(s));return new Xn(a,o,i)}function RA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=RA(o,e,t)}),new be(n.segments,r)}var Wh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Gh(r[0]))throw new z(4003,!1);let i=r.find(yu);if(i&&i!==yA(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Wh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Wh(t,e,r)}var Zs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function CU(n,e,t){if(n.isAbsolute)return new Zs(e,!0,0);if(!t)return new Zs(e,!1,NaN);if(t.parent===null)return new Zs(t,!0,0);let r=Gh(n.commands[0])?0:1,i=t.segments.length-1+r;return TU(t,i,n.numberOfDoubleDots)}function TU(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new Zs(r,!1,i-o)}function DU(n){return yu(n[0])?n[0].outlets:{[re]:n}}function PA(n,e,t){if(n??=new be([],{}),n.segments.length===0&&n.hasChildren())return pu(n,e,t);let r=SU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new be(n.segments.slice(0,r.pathIndex),{});return o.children[re]=new be(n.segments.slice(r.pathIndex),n.children),pu(o,0,i)}else return r.match&&i.length===0?new be(n.segments,{}):r.match&&!n.hasChildren()?u_(n,e,t):r.match?pu(n,0,i):u_(n,e,t)}function pu(n,e,t){if(t.length===0)return new be(n.segments,{});{let r=DU(t),i={};if(Object.keys(r).some(o=>o!==re)&&n.children[re]&&n.numberOfChildren===1&&n.children[re].segments.length===0){let o=pu(n.children[re],e,t);return new be(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=PA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(n.segments,i)}}function SU(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(yu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!dA(u,l,s))return o;r+=2}else{if(!dA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function u_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(yu(o)){let u=AU(o.outlets);return new be(r,u)}if(i===0&&Gh(t[0])){let u=n.segments[e];r.push(new vi(u.path,lA(t[0]))),i++;continue}let s=yu(o)?o.outlets[re]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Gh(a)?(r.push(new vi(s,lA(a))),i+=2):(r.push(new vi(s,{})),i++)}return new be(r,{})}function AU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=u_(new be([],{}),0,r))}),e}function lA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function dA(n,e,t){return n==t.path&&Jn(e,t.parameters)}var gu="imperative",lt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(lt||{}),sn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Do=class extends sn{type=lt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rr=class extends sn{urlAfterRedirects;type=lt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ft=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Ft||{}),vu=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(vu||{}),Zn=class extends sn{reason;code;type=lt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pr=class extends sn{reason;code;type=lt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ta=class extends sn{error;target;type=lt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_u=class extends sn{urlAfterRedirects;state;type=lt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class extends sn{urlAfterRedirects;state;type=lt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yh=class extends sn{urlAfterRedirects;state;shouldActivate;type=lt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qh=class extends sn{urlAfterRedirects;state;type=lt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jh=class extends sn{urlAfterRedirects;state;type=lt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zh=class{route;type=lt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xh=class{route;type=lt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ef=class{snapshot;type=lt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tf=class{snapshot;type=lt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nf=class{snapshot;type=lt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rf=class{snapshot;type=lt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Eu=class{},na=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function RU(n){return!(n instanceof Eu)&&!(n instanceof na)}function PU(n,e){return n.providers&&!n._injector&&(n._injector=eu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function On(n){return n.outlet||re}function NU(n,e){let t=n.filter(r=>On(r)===e);return t.push(...n.filter(r=>On(r)!==e)),t}function oa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var of=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return oa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new sa(this.rootInjector)}},sa=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new of(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(le(st))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=l_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=l_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=d_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return d_(e,this._root).map(t=>t.value)}};function l_(n,e){if(n===e.value)return e;for(let t of e.children){let r=l_(n,t);if(r)return r}return null}function d_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=d_(n,t);if(r.length)return r.unshift(e),r}return[]}var on=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Js(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Iu=class extends sf{snapshot;constructor(e,t){super(e),this.snapshot=t,__(this,e)}toString(){return this.snapshot.toString()}};function NA(n){let e=MU(n),t=new gt([new vi("",{})]),r=new gt({}),i=new gt({}),o=new gt({}),s=new gt(""),a=new _n(t,r,o,s,i,re,n,e.root);return a.snapshot=e.root,new Iu(new on(a,[]),e)}function MU(n){let e={},t={},r={},o=new bo([],e,r,"",t,re,n,null,{});return new wu("",new on(o,[]))}var _n=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[Du]))??X(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function af(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&xA(i)&&(r.resolve[Du]=i.title),r}var bo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Du]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},wu=class extends sf{url;constructor(e,t){super(t),this.url=e,__(this,t)}toString(){return MA(this._root)}};function __(n,e){e.value._routerState=n,e.children.forEach(t=>__(n,t))}function MA(n){let e=n.children.length>0?` { ${n.children.map(MA).join(", ")} } `:"";return`${n.value}${e}`}function r_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Jn(e.params,t.params)||n.paramsSubject.next(t.params),oU(e.url,t.url)||n.urlSubject.next(t.url),Jn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function h_(n,e){let t=Jn(n.params,e.params)&&uU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||h_(n.parent,e.parent))}function xA(n){return typeof n.title=="string"||n.title===null}var OA=new q(""),Au=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re;activateEvents=new Ye;deactivateEvents=new Ye;attachEvents=new Ye;detachEvents=new Ye;routerOutletData=BS();parentContexts=M(sa);location=M(Io);changeDetector=M(Ks);inputBinder=M(df,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new f_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Cr]})}return n})(),f_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===_n?this.route:e===sa?this.childContexts:e===OA?this.outletData:this.parent.get(e,t)}},df=new q("");var E_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ee(0,"router-outlet")},dependencies:[Au],encapsulation:2})}return n})();function I_(n){let e=n.children&&n.children.map(I_),t=e?K(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=E_),t}function xU(n,e,t){let r=bu(n,e._root,t?t._root:void 0);return new Iu(r,e)}function bu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=OU(n,e,t);return new on(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>bu(n,a)),s}}let r=kU(e.value),i=e.children.map(o=>bu(n,o));return new on(r,i)}}function OU(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return bu(n,r,i);return bu(n,r)})}function kU(n){return new _n(new gt(n.url),new gt(n.params),new gt(n.queryParams),new gt(n.fragment),new gt(n.data),n.outlet,n.component,n)}var ra=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},kA="ngNavigationCancelingError";function cf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ea(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=FA(!1,Ft.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function FA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[kA]=!0,t.cancellationCode=e,t}function FU(n){return LA(n)&&ea(n.url)}function LA(n){return!!n&&n[kA]}var LU=(n,e,t,r)=>se(i=>(new p_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),p_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),r_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Js(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Js(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Js(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Js(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(r_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),r_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},uf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function VU(n,e,t){let r=n._root,i=e?e._root:null;return fu(r,i,t,[r.value])}function UU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function aa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Hm(n)?n:e.get(n):r}function fu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Js(e);return n.children.forEach(s=>{jU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>mu(a,t.getContext(s),i)),i}function jU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=BU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new uf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fu(n,e,a?a.children:null,r,i):fu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xs(a.outlet.component,s))}else s&&mu(e,a,i),i.canActivateChecks.push(new uf(r)),o.component?fu(n,null,a?a.children:null,r,i):fu(n,null,t,r,i);return i}function BU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!wo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wo(n.url,e.url)||!Jn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!h_(n,e)||!Jn(n.queryParams,e.queryParams);case"paramsChange":default:return!h_(n,e)}}function mu(n,e,t){let r=Js(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?mu(s,e.children.getContext(o),t):mu(s,null,t):mu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Xs(e.outlet.component,i)):t.canDeactivateChecks.push(new Xs(null,i)):t.canDeactivateChecks.push(new Xs(null,i))}function Ru(n){return typeof n=="function"}function $U(n){return typeof n=="boolean"}function HU(n){return n&&Ru(n.canLoad)}function zU(n){return n&&Ru(n.canActivate)}function qU(n){return n&&Ru(n.canActivateChild)}function GU(n){return n&&Ru(n.canDeactivate)}function WU(n){return n&&Ru(n.canMatch)}function VA(n){return n instanceof gr||n?.name==="EmptyError"}var $h=Symbol("INITIAL_VALUE");function ia(){return Bt(n=>Nd(n.map(e=>e.pipe(mr(1),Dm($h)))).pipe(se(e=>{for(let t of e)if(t!==!0){if(t===$h)return $h;if(t===!1||KU(t))return t}return!0}),dn(e=>e!==$h),mr(1)))}function KU(n){return ea(n)||n instanceof ra}function YU(n,e){return ot(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?X(K(L({},t),{guardsResult:!0})):QU(s,r,i,n).pipe(ot(a=>a&&$U(a)?JU(r,o,n,e):X(a)),se(a=>K(L({},t),{guardsResult:a})))})}function QU(n,e,t,r){return $e(n).pipe(ot(i=>nj(i.component,i.route,t,e,r)),yr(i=>i!==!0,!0))}function JU(n,e,t,r){return $e(e).pipe(Cs(i=>bs(XU(i.route.parent,r),ZU(i.route,r),tj(n,i.path,t),ej(n,i.route,t))),yr(i=>i!==!0,!0))}function ZU(n,e){return n!==null&&e&&e(new nf(n)),X(!0)}function XU(n,e){return n!==null&&e&&e(new ef(n)),X(!0)}function ej(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>Cc(()=>{let s=oa(e)??t,a=aa(o,s),u=zU(a)?a.canActivate(e,n):at(s,()=>a(e,n));return Nr(u).pipe(yr())}));return X(i).pipe(ia())}function tj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>UU(s)).filter(s=>s!==null).map(s=>Cc(()=>{let a=s.guards.map(u=>{let l=oa(s.node)??t,h=aa(u,l),p=qU(h)?h.canActivateChild(r,n):at(l,()=>h(r,n));return Nr(p).pipe(yr())});return X(a).pipe(ia())}));return X(o).pipe(ia())}function nj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let s=o.map(a=>{let u=oa(e)??i,l=aa(a,u),h=GU(l)?l.canDeactivate(n,e,t,r):at(u,()=>l(n,e,t,r));return Nr(h).pipe(yr())});return X(s).pipe(ia())}function rj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(s=>{let a=aa(s,n),u=HU(a)?a.canLoad(e,t):at(n,()=>a(e,t));return Nr(u)});return X(o).pipe(ia(),UA(r))}function UA(n){return pm(ct(e=>{if(typeof e!="boolean")throw cf(n,e)}),se(e=>e===!0))}function ij(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(s=>{let a=aa(s,n),u=WU(a)?a.canMatch(e,t):at(n,()=>a(e,t));return Nr(u)});return X(o).pipe(ia(),UA(r))}var Cu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Tu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Qs(n){return ws(new Cu(n))}function oj(n){return ws(new z(4e3,!1))}function sj(n){return ws(FA(!1,Ft.GuardRejected))}var g_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[re])return oj(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,t,r,i,o){return aj(t,i,o).pipe(se(s=>{if(s instanceof Xn)throw new Tu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Tu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Xn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function aj(n,e,t){if(typeof n=="string")return X(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Nr(at(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var m_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cj(n,e,t,r,i){let o=jA(n,e,t);return o.matched?(r=PU(e,r),ij(r,e,t,i).pipe(se(s=>s===!0?o:L({},m_)))):X(o)}function jA(n,e,t){if(e.path==="**")return uj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},m_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||gA)(t,n,e);if(!i)return L({},m_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function uj(n){return{matched:!0,parameters:n.length>0?yA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function hA(n,e,t,r){return t.length>0&&hj(n,t,r)?{segmentGroup:new be(e,dj(r,new be(t,n.children))),slicedSegments:[]}:t.length===0&&fj(n,t,r)?{segmentGroup:new be(n.segments,lj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new be(n.segments,n.children),slicedSegments:t}}function lj(n,e,t,r){let i={};for(let o of t)if(hf(n,e,o)&&!r[On(o)]){let s=new be([],{});i[On(o)]=s}return L(L({},r),i)}function dj(n,e){let t={};t[re]=e;for(let r of n)if(r.path===""&&On(r)!==re){let i=new be([],{});t[On(r)]=i}return t}function hj(n,e,t){return t.some(r=>hf(n,e,r)&&On(r)!==re)}function fj(n,e,t){return t.some(r=>hf(n,e,r))}function hf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function pj(n,e,t){return e.length===0&&!n.children[t]}var y_=class{};function gj(n,e,t,r,i,o,s="emptyOnly"){return new v_(n,e,t,r,i,s,o).recognize()}var mj=31,v_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new g_(this.urlSerializer,this.urlTree)}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=hA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:t,rootSnapshot:r})=>{let i=new on(r,t),o=new wu("",i),s=DA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new bo([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,t).pipe(se(r=>({children:r,rootSnapshot:t})),ri(r=>{if(r instanceof Tu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(se(s=>s instanceof on?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return $e(o).pipe(Cs(s=>{let a=r.children[s],u=NU(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Tm((s,a)=>(s.push(...a),s)),ii(null),Cm(),ot(s=>{if(s===null)return Qs(r);let a=BA(s);return yj(a),X(a)}))}processSegment(e,t,r,i,o,s,a){return $e(t).pipe(Cs(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(ri(l=>{if(l instanceof Cu)return X(null);throw l}))),yr(u=>!!u),ri(u=>{if(VA(u))return pj(r,i,o)?X(new y_):Qs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return On(r)!==s&&(s===re||!hf(i,o,r))?Qs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Qs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=jA(t,i,o);if(!u)return Qs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mj&&(this.allowRedirects=!1));let v=new bo(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,fA(i),On(i),i.component??i._loadedComponent??null,i,pA(i)),A=af(v,a,this.paramsInheritanceStrategy);return v.params=Object.freeze(A.params),v.data=Object.freeze(A.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e).pipe(Bt(x=>this.applyRedirects.lineralizeSegments(i,x)),ot(x=>this.processSegment(e,r,t,x.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=cj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Bt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:v}=u,A=new bo(g,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,fA(r),On(r),r.component??r._loadedComponent??null,r,pA(r)),F=af(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(F.params),A.data=Object.freeze(F.data);let{segmentGroup:x,slicedSegments:j}=hA(t,g,v,l);if(j.length===0&&x.hasChildren())return this.processChildren(h,l,x,A).pipe(se(te=>new on(A,te)));if(l.length===0&&j.length===0)return X(new on(A,[]));let Q=On(r)===o;return this.processSegment(h,l,x,j,Q?re:o,!0,A).pipe(se(te=>new on(A,te instanceof on?[te]:[])))}))):Qs(t)))}getChildConfig(e,t,r){return t.children?X({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?X({routes:t._loadedRoutes,injector:t._loadedInjector}):rj(e,t,r,this.urlSerializer).pipe(ot(i=>i?this.configLoader.loadChildren(e,t).pipe(ct(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):sj(t))):X({routes:[],injector:e})}};function yj(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}function vj(n){let e=n.value.routeConfig;return e&&e.path===""}function BA(n){let e=[],t=new Set;for(let r of n){if(!vj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=BA(r.children);e.push(new on(r.value,i))}return e.filter(r=>!t.has(r))}function fA(n){return n.data||{}}function pA(n){return n.resolve||{}}function _j(n,e,t,r,i,o){return ot(s=>gj(n,e,t,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:u})=>K(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Ej(n,e){return ot(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of $A(u))s.add(l);let a=0;return $e(s).pipe(Cs(u=>o.has(u)?Ij(u,r,n,e):(u.data=af(u,u.parent,n).resolve,X(void 0))),ct(()=>a++),Ts(1),ot(u=>a===s.size?X(t):Ut))})}function $A(n){let e=n.children.map(t=>$A(t)).flat();return[n,...e]}function Ij(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!xA(i)&&(o[Du]=i.title),Cc(()=>(n.data=af(n,n.parent,t).resolve,wj(o,n,e,r).pipe(se(s=>(n._resolvedData=s,n.data=L(L({},n.data),s),null)))))}function wj(n,e,t,r){let i=s_(n);if(i.length===0)return X({});let o={};return $e(i).pipe(ot(s=>bj(n[s],e,t,r).pipe(yr(),ct(a=>{if(a instanceof ra)throw cf(new To,a);o[s]=a}))),Ts(1),se(()=>o),ri(s=>VA(s)?Ut:ws(s)))}function bj(n,e,t,r){let i=oa(e)??r,o=aa(n,i),s=o.resolve?o.resolve(e,t):at(i,()=>o(e,t));return Nr(s)}function i_(n){return Bt(e=>{let t=n(e);return t?$e(t).pipe(se(()=>e)):X(e)})}var w_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(t){return t.data[Du]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(HA),providedIn:"root"})}return n})(),HA=(()=>{class n extends w_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(le(aA))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pu=new q("",{providedIn:"root",factory:()=>({})}),Nu=new q(""),zA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Pv);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return X(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Nr(at(t,()=>r.loadComponent())).pipe(se(GA),Bt(WA),ct(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Tc(()=>{this.componentLoaders.delete(r)})),o=new vs(i,()=>new it).pipe(ys());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=qA(r,this.compiler,t,this.onLoadEndListener).pipe(Tc(()=>{this.childrenLoaders.delete(r)})),s=new vs(o,()=>new it).pipe(ys());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qA(n,e,t,r){return Nr(at(t,()=>n.loadChildren())).pipe(se(GA),Bt(WA),ot(i=>i instanceof Sh||Array.isArray(i)?X(i):$e(e.compileModuleAsync(i))),se(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Nu,[],{optional:!0,self:!0}).flat()),{routes:s.map(I_),injector:o}}))}function Cj(n){return n&&typeof n=="object"&&"default"in n}function GA(n){return Cj(n)?n.default:n}function WA(n){return X(n)}var ff=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(Tj),providedIn:"root"})}return n})(),Tj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KA=new q("");var YA=new q(""),QA=(()=>{class n{currentNavigation=tn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new it;transitionAbortWithErrorSubject=new it;configLoader=M(zA);environmentInjector=M(st);destroyRef=M(Pn);urlSerializer=M(Su);rootContexts=M(sa);location=M(Ys);inputBindingEnabled=M(df,{optional:!0})!==null;titleStrategy=M(w_);options=M(Pu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(ff);createViewTransition=M(KA,{optional:!0});navigationErrorHandler=M(YA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>X(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Zh(i)),r=i=>this.events.next(new Xh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;_t(()=>{this.transitions?.next(K(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new gt(null),this.transitions.pipe(dn(r=>r!==null),Bt(r=>{let i=!1;return X(r).pipe(Bt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ft.SupersededByNewNavigation),Ut;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?K(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.rawUrl),"",vu.IgnoredSameUrlNavigation)),o.resolve(!1),Ut;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return X(o).pipe(Bt(u=>(this.events.next(new Do(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Ut:Promise.resolve(u))),_j(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ct(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new _u(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,v=new Do(u,this.urlSerializer.serialize(l),h,p);this.events.next(v);let A=NA(this.rootComponentType).snapshot;return this.currentTransition=r=K(L({},o),{targetSnapshot:A,urlAfterRedirects:l,extras:K(L({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(F=>(F.finalUrl=l,F)),X(r)}else return this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",vu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ut}),ct(o=>{let s=new Kh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),se(o=>(this.currentTransition=r=K(L({},o),{guards:VU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),YU(this.environmentInjector,o=>this.events.next(o)),ct(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw cf(this.urlSerializer,o.guardsResult);let s=new Yh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),dn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ft.GuardRejected),!1)),i_(o=>{if(o.guards.canActivateChecks.length!==0)return X(o).pipe(ct(s=>{let a=new Qh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Bt(s=>{let a=!1;return X(s).pipe(Ej(this.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ft.NoDataFromResolver)}}))}),ct(s=>{let a=new Jh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),i_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=oa(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(ct(h=>{a.component=h}),se(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Nd(s(o.targetSnapshot.root)).pipe(ii(null),mr(1))}),i_(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?$e(a).pipe(se(()=>r)):X(r)}),se(o=>{let s=xU(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=K(L({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ct(()=>{this.events.next(new Eu)}),LU(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),mr(1),xd(new Z(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(dn(()=>!i&&!r.targetRouterState),ct(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ft.Aborted)}))),ct({next:o=>{i=!0,this.lastSuccessfulNavigation=_t(this.currentNavigation),this.events.next(new Rr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),xd(this.transitionAbortWithErrorSubject.pipe(ct(o=>{throw o}))),Tc(()=>{i||this.cancelNavigationTransition(r,"",Ft.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ri(o=>{if(this.destroyed)return r.resolve(!1),Ut;if(i=!0,LA(o))this.events.next(new Zn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),FU(o)?this.events.next(new na(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ta(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=at(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ra){let{message:u,cancellationCode:l}=cf(this.urlSerializer,a);this.events.next(new Zn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new na(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ut}))}))}cancelNavigationTransition(t,r,i){let o=new Zn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=_t(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dj(n){return n!==gu}var JA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(Sj),providedIn:"root"})}return n})(),lf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Sj=(()=>{class n extends lf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZA=(()=>{class n{urlSerializer=M(Su);options=M(Pu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(Ys);urlHandlingStrategy=M(ff);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=NA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>M(Aj),providedIn:"root"})}return n})(),Aj=(()=>{class n extends ZA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Do?this.updateStateMemento():t instanceof Pr?this.commitTransition(r):t instanceof _u?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Eu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Zn&&t.code!==Ft.SupersededByNewNavigation&&t.code!==Ft.Redirect?this.restoreHistory(r):t instanceof ta?this.restoreHistory(r,!0):t instanceof Rr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function b_(n,e){n.events.pipe(dn(t=>t instanceof Rr||t instanceof Zn||t instanceof ta||t instanceof Pr),se(t=>t instanceof Rr||t instanceof Pr?0:(t instanceof Zn?t.code===Ft.Redirect||t.code===Ft.SupersededByNewNavigation:!1)?2:1),dn(t=>t!==2),mr(1)).subscribe(()=>{e()})}var Rj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(Dv);stateManager=M(ZA);options=M(Pu,{optional:!0})||{};pendingTasks=M(Gn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(QA);urlSerializer=M(Su);location=M(Ys);urlHandlingStrategy=M(ff);injector=M(st);_events=new it;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(JA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Nu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(df,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ze;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=_t(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Zn&&r.code!==Ft.Redirect&&r.code!==Ft.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rr)this.navigated=!0;else if(r instanceof na){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Dj(i.source)},s);this.scheduleNavigation(a,gu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}RU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(qt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return _t(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(I_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=SA(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return AA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ea(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,gu,null,r)}navigate(t,r={skipLocationChange:!1}){return Nj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Ss(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},Rj):r===!1?i=L({},Pj):i=r,ea(t))return cA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return cA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return b_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}var xj=new q("");function C_(n,...e){return Jt([{provide:Nu,multi:!0,useValue:n},[],{provide:_n,useFactory:Oj,deps:[Lt]},{provide:Ah,multi:!0,useFactory:kj},e.map(t=>t.\u0275providers)])}function Oj(n){return n.routerState.root}function kj(){let n=M(Xe);return e=>{let t=n.get(Sr);if(e!==t.components[0])return;let r=n.get(Lt),i=n.get(Fj);n.get(Lj)===1&&r.initialNavigation(),n.get(Vj,null,{optional:!0})?.setUpPreloading(),n.get(xj,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Fj=new q("",{factory:()=>new it}),Lj=new q("",{providedIn:"root",factory:()=>1});var Vj=new q("");var XA=()=>{};var nR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},jj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},pf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(g=64)),r.push(t[h],t[p],t[g],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new D_;let g=o<<2|a>>4;if(r.push(g),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},D_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Bj=function(n){let e=nR(n);return pf.encodeByteArray(e,!0)},xu=function(n){return Bj(n).replace(/\./g,"")},gf=function(n){try{return pf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $j=()=>A_().__FIREBASE_DEFAULTS__,Hj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&gf(n[1]);return e&&JSON.parse(e)},mf=()=>{try{return XA()||$j()||Hj()||zj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},R_=n=>{var e,t;return(t=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rR=n=>{let e=R_(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},P_=()=>{var n;return(n=mf())===null||n===void 0?void 0:n.config},N_=n=>{var e;return(e=mf())===null||e===void 0?void 0:e[`_${n}`]};var So=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function _i(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function yf(n){return y(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function iR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xu(JSON.stringify(t)),xu(JSON.stringify(s)),""].join(".")}var Mu={};function qj(){let n={prod:[],emulator:[]};for(let e of Object.keys(Mu))Mu[e]?n.emulator.push(e):n.prod.push(e);return n}function Gj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var eR=!1;function vf(n,e){if(typeof window>"u"||typeof document>"u"||!_i(window.location.host)||Mu[n]===e||Mu[n]||eR)return;Mu[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=qj().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{eR=!0,s()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=Gj(r),v=t("text"),A=document.getElementById(v)||document.createElement("span"),F=t("learnmore"),x=document.getElementById(F)||document.createElement("a"),j=t("preprendIcon"),Q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let te=g.element;a(te),h(x,F);let Me=l();u(Q,j),te.append(Q,A,x,Me),document.body.appendChild(te)}o?(A.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function Wj(){var n;let e=(n=mf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uR(){let n=dt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lR(){return!Wj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ou(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Kj="FirebaseError",an=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Kj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}},kn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Yj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new an(i,a,r)}};function Yj(n,e){return n.replace(Qj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Qj=/\{\$([^}]+)}/g;function hR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function er(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(tR(o)&&tR(s)){if(!er(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function tR(n){return n!==null&&typeof n=="object"}function ku(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ca(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ua(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fR(n,e){let t=new S_(n,e);return t.subscribe.bind(t)}var S_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Jj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=T_),i.error===void 0&&(i.error=T_),i.complete===void 0&&(i.complete=T_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Jj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function T_(){}var Sae=14400*1e3;function Ge(n){return n&&n._delegate?n._delegate:n}var Vt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ao="[DEFAULT]";var M_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new So;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xj(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zj(n){return n===Ao?void 0:n}function Xj(n){return n.instantiationMode==="EAGER"}var _f=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new M_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var eB=[],fe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(fe||{}),tB={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},nB=fe.INFO,rB={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},iB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=rB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},tr=class{constructor(e){this.name=e,this._logLevel=nB,this._logHandler=iB,this._userLogHandler=null,eB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var oB=(n,e)=>e.some(t=>n instanceof t),pR,gR;function sB(){return pR||(pR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aB(){return gR||(gR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mR=new WeakMap,O_=new WeakMap,yR=new WeakMap,x_=new WeakMap,F_=new WeakMap;function cB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(nr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&mR.set(t,n)}).catch(()=>{}),F_.set(e,n),e}function uB(n){if(O_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});O_.set(n,e)}var k_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return O_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return nr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vR(n){k_=n(k_)}function lB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ef(this),e,...t);return yR.set(r,e.sort?e.sort():[e]),nr(r)}:aB().includes(n)?function(...e){return n.apply(Ef(this),e),nr(mR.get(this))}:function(...e){return nr(n.apply(Ef(this),e))}}function dB(n){return typeof n=="function"?lB(n):(n instanceof IDBTransaction&&uB(n),oB(n,sB())?new Proxy(n,k_):n)}function nr(n){if(n instanceof IDBRequest)return cB(n);if(x_.has(n))return x_.get(n);let e=dB(n);return e!==n&&(x_.set(n,e),F_.set(e,n)),e}var Ef=n=>F_.get(n);function If(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=nr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(nr(s.result),u.oldVersion,u.newVersion,nr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var hB=["get","getKey","getAll","getAllKeys","count"],fB=["put","add","delete","clear"],L_=new Map;function _R(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(L_.get(e))return L_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=fB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hB.includes(t)))return;let o=function(s,...a){return y(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return L_.set(e,o),o}vR(n=>K(L({},n),{get:(e,t,r)=>_R(e,t)||n.get(e,t,r),has:(e,t)=>!!_R(e,t)||n.has(e,t)}));var U_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function pB(n){let e=n.getComponent();return e?.type==="VERSION"}var j_="@firebase/app",ER="0.13.2";var Mr=new tr("@firebase/app"),gB="@firebase/app-compat",mB="@firebase/analytics-compat",yB="@firebase/analytics",vB="@firebase/app-check-compat",_B="@firebase/app-check",EB="@firebase/auth",IB="@firebase/auth-compat",wB="@firebase/database",bB="@firebase/data-connect",CB="@firebase/database-compat",TB="@firebase/functions",DB="@firebase/functions-compat",SB="@firebase/installations",AB="@firebase/installations-compat",RB="@firebase/messaging",PB="@firebase/messaging-compat",NB="@firebase/performance",MB="@firebase/performance-compat",xB="@firebase/remote-config",OB="@firebase/remote-config-compat",kB="@firebase/storage",FB="@firebase/storage-compat",LB="@firebase/firestore",VB="@firebase/ai",UB="@firebase/firestore-compat",jB="firebase",BB="11.10.0";var B_="[DEFAULT]",$B={[j_]:"fire-core",[gB]:"fire-core-compat",[yB]:"fire-analytics",[mB]:"fire-analytics-compat",[_B]:"fire-app-check",[vB]:"fire-app-check-compat",[EB]:"fire-auth",[IB]:"fire-auth-compat",[wB]:"fire-rtdb",[bB]:"fire-data-connect",[CB]:"fire-rtdb-compat",[TB]:"fire-fn",[DB]:"fire-fn-compat",[SB]:"fire-iid",[AB]:"fire-iid-compat",[RB]:"fire-fcm",[PB]:"fire-fcm-compat",[NB]:"fire-perf",[MB]:"fire-perf-compat",[xB]:"fire-rc",[OB]:"fire-rc-compat",[kB]:"fire-gcs",[FB]:"fire-gcs-compat",[LB]:"fire-fst",[UB]:"fire-fst-compat",[VB]:"fire-vertex","fire-js":"fire-js",[jB]:"fire-js-all"};var Fu=new Map,HB=new Map,$_=new Map;function IR(n,e){try{n.container.addComponent(e)}catch(t){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fn(n){let e=n.name;if($_.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;$_.set(e,n);for(let t of Fu.values())IR(t,n);for(let t of HB.values())IR(t,n);return!0}function la(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gt(n){return n==null?!1:n.settings!==void 0}var zB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new kn("app","Firebase",zB);var H_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}};var Ii=BB;function G_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:B_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(t||(t=P_()),!t)throw Ei.create("no-options");let o=Fu.get(i);if(o){if(er(t,o.options)&&er(r,o.config))return o;throw Ei.create("duplicate-app",{appName:i})}let s=new _f(i);for(let u of $_.values())s.addComponent(u);let a=new H_(t,r,s);return Fu.set(i,a),a}function Ro(n=B_){let e=Fu.get(n);if(!e&&n===B_&&P_())return G_();if(!e)throw Ei.create("no-app",{appName:n});return e}function wf(){return Array.from(Fu.values())}function We(n,e,t){var r;let i=(r=$B[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}Fn(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var qB="firebase-heartbeat-database",GB=1,Lu="firebase-heartbeat-store",V_=null;function TR(){return V_||(V_=If(qB,GB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ei.create("idb-open",{originalErrorMessage:n.message})})),V_}function WB(n){return y(this,null,function*(){try{let t=(yield TR()).transaction(Lu),r=yield t.objectStore(Lu).get(DR(n));return yield t.done,r}catch(e){if(e instanceof an)Mr.warn(e.message);else{let t=Ei.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(t.message)}}})}function wR(n,e){return y(this,null,function*(){try{let r=(yield TR()).transaction(Lu,"readwrite");yield r.objectStore(Lu).put(e,DR(n)),yield r.done}catch(t){if(t instanceof an)Mr.warn(t.message);else{let r=Ei.create("idb-set",{originalErrorMessage:t?.message});Mr.warn(r.message)}}})}function DR(n){return`${n.name}!${n.options.appId}`}var KB=1024,YB=30,z_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new q_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>YB){let s=JB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mr.warn(r)}})}getHeartbeatsHeader(){return y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=bR(),{heartbeatsToSend:r,unsentEntries:i}=QB(this._heartbeatsCache.heartbeats),o=xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Mr.warn(t),""}})}};function bR(){return new Date().toISOString().substring(0,10)}function QB(n,e=KB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),CR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),CR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var q_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return Ou()?dR().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield WB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function CR(n){return xu(JSON.stringify({version:2,heartbeats:n})).length}function JB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function ZB(n){Fn(new Vt("platform-logger",e=>new U_(e),"PRIVATE")),Fn(new Vt("heartbeat",e=>new z_(e),"PRIVATE")),We(j_,ER,n),We(j_,ER,"esm2017"),We("fire-js","")}ZB("");var XB="firebase",e3="11.10.0";We(XB,e3,"app");function SR(n){n===void 0&&(n=M(Xe));let e=n.get(ks);return t=>new Z(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var wi=new eo("ANGULARFIRE2_VERSION");function Vu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ha=(n,e)=>{let t=e?[e]:wf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},da=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(da||{}),AR=Uv()&&typeof Zone<"u"?da.WARN:da.SILENT;var bf=class{zone;delegate;constructor(e,t=Em){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},bi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(Se);this.outsideAngular=t.runOutsideAngular(()=>new bf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new bf(typeof Zone>"u"?void 0:Zone.current,_m))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RR=!1;function t3(n,e){!RR&&(AR>da.SILENT||Uv())&&(RR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),AR>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function n3(n){let e=M(Se,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Po(n){let e=M(Se,{optional:!0});return e?e.run(()=>n()):n()}var r3=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),at(t,()=>Po(()=>n.apply(void 0,r)))),Je=(n,e,t)=>(t||=e?da.WARN:da.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(bi),s=M(ks),a=M(st)}catch{return t3(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Po(()=>s.add())),i[l]=r3(i[l],r,a));let u=n3(()=>n.apply(this,i));return e?u instanceof Z?u.pipe(ni(o.outsideAngular),ti(o.insideAngular),SR(a)):u instanceof Promise?Po(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>at(a,()=>Po(()=>h(g))),g=>at(a,()=>Po(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Po(()=>u):u instanceof Z?u.pipe(ni(o.outsideAngular),ti(o.insideAngular)):Po(()=>u)});var xr=class{constructor(e){return e}},No=class{constructor(){return wf()}};function i3(n){return n&&n.length===1?n[0]:new xr(Ro())}var W_=new q("angularfire2._apps"),o3={provide:xr,useFactory:i3,deps:[[new nn,W_]]},s3={provide:No,deps:[[new nn,W_]]};function a3(n){return(e,t)=>{let r=t.get(_o);We("angularfire",wi.full,"core"),We("angularfire",wi.full,"app"),We("angular",Um.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new xr(i)}}function PR(n,...e){return Jt([o3,s3,{provide:W_,useFactory:a3(n),multi:!0,deps:[Se,Xe,bi,...e]}])}var NR=Je(G_,!0);var c3=new Map,u3={activated:!1,tokenObservers:[]},l3={initialized:!1,enabled:!1};function Ln(n){return c3.get(n)||Object.assign({},u3)}function kR(){return l3}var d3="https://content-firebaseappcheck.googleapis.com/v1";var h3="exchangeDebugToken",MR={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Pce=1440*60*1e3;var Q_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return y(this,null,function*(){this.stop();try{this.pending=new So,this.pending.promise.catch(t=>{}),yield f3(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new So,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function f3(n){return new Promise(e=>{setTimeout(e,n)})}var p3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ci=new kn("appCheck","AppCheck",p3);function FR(n){if(!Ln(n).activated)throw Ci.create("use-before-activation",{appName:n.name})}function LR(r,i){return y(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(v){throw Ci.create("fetch-network-error",{originalErrorMessage:v?.message})}if(u.status!==200)throw Ci.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(v){throw Ci.create("fetch-parse-error",{originalErrorMessage:v?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ci.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function VR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${d3}/projects/${t}/apps/${r}:${h3}?key=${i}`,body:{debug_token:e}}}var g3="firebase-app-check-database",m3=1,J_="firebase-app-check-store";var Cf=null;function y3(){return Cf||(Cf=new Promise((n,e)=>{try{let t=indexedDB.open(g3,m3);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ci.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(J_,{keyPath:"compositeKey"})}}}catch(t){e(Ci.create("storage-open",{originalErrorMessage:t?.message}))}}),Cf)}function v3(n,e){return _3(E3(n),e)}function _3(n,e){return y(this,null,function*(){let r=(yield y3()).transaction(J_,"readwrite"),o=r.objectStore(J_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Ci.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function E3(n){return`${n.options.appId}-${n.name}`}var Uu=new tr("@firebase/app-check");function K_(n,e){return Ou()?v3(n,e).catch(t=>{Uu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function UR(){return kR().enabled}function jR(){return y(this,null,function*(){let n=kR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var I3={error:"UNKNOWN_ERROR"};function w3(n){return pf.encodeString(JSON.stringify(n),!1)}function Z_(n,e=!1,t=!1){return y(this,null,function*(){let r=n.app;FR(r);let i=Ln(r),o=i.token,s;if(o&&!ju(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ju(l)?o=l:yield K_(r,void 0))}if(!e&&o&&ju(o))return{token:o.token};let a=!1;if(UR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=LR(VR(r,yield jR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield K_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Uu.warn(l.message):t&&Uu.error(l),Y_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Ln(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Uu.warn(l.message):t&&Uu.error(l),s=l}let u;return o?s?ju(o)?u={token:o.token,internalError:s}:u=Y_(s):(u={token:o.token},i.token=o,yield K_(r,o)):u=Y_(s),a&&D3(r,u),u})}function b3(n){return y(this,null,function*(){let e=n.app;FR(e);let{provider:t}=Ln(e);if(UR()){let r=yield jR(),{token:i}=yield LR(VR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function C3(n,e,t,r){let{app:i}=n,o=Ln(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ju(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),xR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>xR(n))}function BR(n,e){let t=Ln(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function xR(n){let{app:e}=n,t=Ln(e),r=t.tokenRefresher;r||(r=T3(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function T3(n){let{app:e}=n;return new Q_(()=>y(null,null,function*(){let t=Ln(e),r;if(t.token?r=yield Z_(n,!0):r=yield Z_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Ln(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},MR.RETRIAL_MIN_WAIT,MR.RETRIAL_MAX_WAIT)}function D3(n,e){let t=Ln(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ju(n){return n.expireTimeMillis-Date.now()>0}function Y_(n){return{token:w3(I3),error:n}}var X_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Ln(this.app);for(let t of e)BR(this.app,t.next);return Promise.resolve()}};function S3(n,e){return new X_(n,e)}function A3(n){return{getToken:e=>Z_(n,e),getLimitedUseToken:()=>b3(n),addTokenListener:e=>C3(n,"INTERNAL",e),removeTokenListener:e=>BR(n.app,e)}}var R3="@firebase/app-check",P3="0.10.1";var N3="app-check",OR="app-check-internal";function M3(){Fn(new Vt(N3,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return S3(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(OR).initialize()})),Fn(new Vt(OR,n=>{let e=n.getProvider("app-check").getImmediate();return A3(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(R3,P3)}M3();var x3="app-check";var fa=class{constructor(){return ha(x3)}};var O3=["localhost","0.0.0.0","127.0.0.1"],Hce=typeof window<"u"&&O3.includes(window.location.hostname);var $R=()=>{};var HR=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},k3=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},zR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(g=64)),r.push(t[h],t[p],t[g],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):k3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new tE;let g=o<<2|a>>4;if(r.push(g),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},tE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},F3=function(n){let e=HR(n);return zR.encodeByteArray(e,!0)},rE=function(n){return F3(n).replace(/\./g,"")},Tf=function(n){try{return zR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function L3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var V3=()=>L3().__FIREBASE_DEFAULTS__,U3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},j3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Tf(n[1]);return e&&JSON.parse(e)},B3=()=>{try{return $R()||V3()||U3()||j3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};var qR=n=>B3()?.[`_${n}`];function iE(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function WR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QR(){try{return typeof indexedDB=="object"}catch{return!1}}function JR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var $3="FirebaseError",rr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=$3,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or.prototype.create)}},Or=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?H3(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new rr(i,a,r)}};function H3(n,e){return n.replace(z3,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var z3=/\{\$([^}]+)}/g;function oE(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ZR(n,e){let t=new nE(n,e);return t.subscribe.bind(t)}var nE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");q3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=eE),i.error===void 0&&(i.error=eE),i.complete===void 0&&(i.complete=eE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function q3(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function eE(){}var Kce=14400*1e3;function pa(n){return n&&n._delegate?n._delegate:n}var kr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var G3=[],Fe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Fe||{}),W3={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},K3=Fe.INFO,Y3={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},Q3=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Y3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ga=class{constructor(e){this.name=e,this._logLevel=K3,this._logHandler=Q3,this._userLogHandler=null,G3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}};var aE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Z3(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Z3(n){return n.getComponent()?.type==="VERSION"}var cE="@firebase/app",XR="0.14.6";var Fr=new ga("@firebase/app"),X3="@firebase/app-compat",e$="@firebase/analytics-compat",t$="@firebase/analytics",n$="@firebase/app-check-compat",r$="@firebase/app-check",i$="@firebase/auth",o$="@firebase/auth-compat",s$="@firebase/database",a$="@firebase/data-connect",c$="@firebase/database-compat",u$="@firebase/functions",l$="@firebase/functions-compat",d$="@firebase/installations",h$="@firebase/installations-compat",f$="@firebase/messaging",p$="@firebase/messaging-compat",g$="@firebase/performance",m$="@firebase/performance-compat",y$="@firebase/remote-config",v$="@firebase/remote-config-compat",_$="@firebase/storage",E$="@firebase/storage-compat",I$="@firebase/firestore",w$="@firebase/ai",b$="@firebase/firestore-compat",C$="firebase",T$="12.6.0";var D$={[cE]:"fire-core",[X3]:"fire-core-compat",[t$]:"fire-analytics",[e$]:"fire-analytics-compat",[r$]:"fire-app-check",[n$]:"fire-app-check-compat",[i$]:"fire-auth",[o$]:"fire-auth-compat",[s$]:"fire-rtdb",[a$]:"fire-data-connect",[c$]:"fire-rtdb-compat",[u$]:"fire-fn",[l$]:"fire-fn-compat",[d$]:"fire-iid",[h$]:"fire-iid-compat",[f$]:"fire-fcm",[p$]:"fire-fcm-compat",[g$]:"fire-perf",[m$]:"fire-perf-compat",[y$]:"fire-rc",[v$]:"fire-rc-compat",[_$]:"fire-gcs",[E$]:"fire-gcs-compat",[I$]:"fire-fst",[b$]:"fire-fst-compat",[w$]:"fire-vertex","fire-js":"fire-js",[C$]:"fire-js-all"};var S$=new Map,A$=new Map,eP=new Map;function tP(n,e){try{n.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ya(n){let e=n.name;if(eP.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;eP.set(e,n);for(let t of S$.values())tP(t,n);for(let t of A$.values())tP(t,n);return!0}function Mo(n){return n==null?!1:n.settings!==void 0}var R$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dE=new Or("app","Firebase",R$);var Df=T$;function ma(n,e,t){let r=D$[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(s.join(" "));return}ya(new kr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var P$="firebase-heartbeat-database",N$=1,Bu="firebase-heartbeat-store",sE=null;function oP(){return sE||(sE=If(P$,N$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bu)}catch(t){console.warn(t)}}}}).catch(n=>{throw dE.create("idb-open",{originalErrorMessage:n.message})})),sE}function M$(n){return y(this,null,function*(){try{let t=(yield oP()).transaction(Bu),r=yield t.objectStore(Bu).get(sP(n));return yield t.done,r}catch(e){if(e instanceof rr)Fr.warn(e.message);else{let t=dE.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(t.message)}}})}function nP(n,e){return y(this,null,function*(){try{let r=(yield oP()).transaction(Bu,"readwrite");yield r.objectStore(Bu).put(e,sP(n)),yield r.done}catch(t){if(t instanceof rr)Fr.warn(t.message);else{let r=dE.create("idb-set",{originalErrorMessage:t?.message});Fr.warn(r.message)}}})}function sP(n){return`${n.name}!${n.options.appId}`}var x$=1024,O$=30,uE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new lE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rP();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>O$){let i=F$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fr.warn(e)}})}getHeartbeatsHeader(){return y(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=rP(),{heartbeatsToSend:t,unsentEntries:r}=k$(this._heartbeatsCache.heartbeats),i=rE(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Fr.warn(e),""}})}};function rP(){return new Date().toISOString().substring(0,10)}function k$(n,e=x$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),iP(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var lE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return QR()?JR().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield M$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return nP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return nP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function iP(n){return rE(JSON.stringify({version:2,heartbeats:n})).length}function F$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function L$(n){ya(new kr("platform-logger",e=>new aE(e),"PRIVATE")),ya(new kr("heartbeat",e=>new uE(e),"PRIVATE")),ma(cE,XR,n),ma(cE,XR,"esm2020"),ma("fire-js","")}L$("");function pP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var gP=pP,mP=new Or("auth","Firebase",pP());var Pf=new ga("@firebase/auth");function V$(n,...e){Pf.logLevel<=Fe.WARN&&Pf.warn(`Auth (${Df}): ${n}`,...e)}function Af(n,...e){Pf.logLevel<=Fe.ERROR&&Pf.error(`Auth (${Df}): ${n}`,...e)}function aP(n,...e){throw bE(n,...e)}function wE(n,...e){return bE(n,...e)}function yP(n,e,t){let r=K(L({},gP()),{[e]:t});return new Or("auth","Firebase",r).create(e,{appName:n.name})}function Rf(n){return yP(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mP.create(n,...e)}function Ce(n,e,...t){if(!n)throw bE(e,...t)}function $u(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Af(e),new Error(e)}function Nf(n,e){n||$u(e)}function U$(){return cP()==="http:"||cP()==="https:"}function cP(){return typeof self<"u"&&self.location?.protocol||null}function j$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U$()||KR()||"connection"in navigator)?navigator.onLine:!0}function B$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ko=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nf(t>e,"Short delay should be less than long delay!"),this.isMobile=GR()||YR()}get(){return j$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $$(n,e){Nf(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Mf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$u("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$u("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$u("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var H$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var z$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q$=new ko(3e4,6e4);function vP(n,e){return n.tenantId&&!e.tenantId?K(L({},e),{tenantId:n.tenantId}):e}function Lf(o,s,a,u){return y(this,arguments,function*(n,e,t,r,i={}){return _P(n,i,()=>y(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=oE(L({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let v=L({method:e,headers:g},l);return WR()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&iE(n.emulatorConfig.host)&&(v.credentials="include"),Mf.fetch()(yield EP(n,n.config.apiHost,t,p),v)}))})}function _P(n,e,t){return y(this,null,function*(){n._canInitEmulator=!1;let r=L(L({},H$),e);try{let i=new pE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Sf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Sf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Sf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw yP(n,h,l);aP(n,h)}}catch(i){if(i instanceof rr)throw i;aP(n,"network-request-failed",{message:String(i)})}})}function EP(n,e,t,r){return y(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?$$(n.config,i):`${n.config.apiScheme}://${i}`;return z$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var pE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wE(this.auth,"network-request-failed")),q$.get())})}};function Sf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=wE(n,e,r);return i.customData._tokenResponse=t,i}function G$(n,e){return y(this,null,function*(){return Lf(n,"POST","/v1/accounts:delete",e)})}function xf(n,e){return y(this,null,function*(){return Lf(n,"POST","/v1/accounts:lookup",e)})}function Hu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function IP(n,e=!1){return y(this,null,function*(){let t=pa(n),r=yield t.getIdToken(e),i=wP(r);Ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Hu(hE(i.auth_time)),issuedAtTime:Hu(hE(i.iat)),expirationTime:Hu(hE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function hE(n){return Number(n)*1e3}function wP(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{let i=Tf(t);return i?JSON.parse(i):(Af("Failed to decode base64 JWT payload"),null)}catch(i){return Af("Caught error parsing JWT payload as JSON",i?.toString()),null}}function uP(n){let e=wP(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function gE(n,e,t=!1){return y(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof rr&&W$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function W$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var mE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),t)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Of(n){return y(this,null,function*(){let e=n.auth,t=yield n.getIdToken(),r=yield gE(n,xf(e,{idToken:t}));Ce(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?CP(i.providerUserInfo):[],s=K$(n.providerData,o),a=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!s?.length,l=a?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qu(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,h)})}function bP(n){return y(this,null,function*(){let e=pa(n);yield Of(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function K$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CP(n){return n.map(r=>{var i=r,{providerId:e}=i,t=em(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}function Y$(n,e){return y(this,null,function*(){let t=yield _P(n,{},()=>y(null,null,function*(){let r=oE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield EP(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&iE(n.emulatorConfig.host)&&(u.credentials="include"),Mf.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Q$(n,e){return y(this,null,function*(){return Lf(n,"POST","/v2/accounts:revokeToken",vP(n,e))})}var zu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");let t=uP(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return y(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Y$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return $u("not implemented")}};function Ti(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var xo=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=em(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qu(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let t=yield gE(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return IP(this,e)}reload(){return bP(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>L({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(K(L({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Of(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(Mo(this.auth.app))return Promise.reject(Rf(this.auth));let e=yield this.getIdToken();return yield gE(this,G$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return K(L({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>L({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,u=t._redirectEventId??void 0,l=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:A,stsTokenManager:F}=t;Ce(p&&F,e,"internal-error");let x=zu.fromJSON(this.name,F);Ce(typeof p=="string",e,"internal-error"),Ti(r,e.name),Ti(i,e.name),Ce(typeof g=="boolean",e,"internal-error"),Ce(typeof v=="boolean",e,"internal-error"),Ti(o,e.name),Ti(s,e.name),Ti(a,e.name),Ti(u,e.name),Ti(l,e.name),Ti(h,e.name);let j=new n({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:x,createdAt:l,lastLoginAt:h});return A&&Array.isArray(A)&&(j.providerData=A.map(Q=>L({},Q))),u&&(j._redirectEventId=u),j}static _fromIdTokenResponse(e,t,r=!1){return y(this,null,function*(){let i=new zu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Of(o),o})}static _fromGetAccountInfoResponse(e,t,r){return y(this,null,function*(){let i=t.users[0];Ce(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?CP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new zu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var lP=new Map;function Oo(n){Nf(n instanceof Function,"Expected a class definition");let e=lP.get(n);return e?(Nf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lP.set(n,e),e)}var J$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(t,r){return y(this,null,function*(){this.storage[t]=r})}_get(t){return y(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return y(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),yE=J$;function fE(n,e,t){return`firebase:${n}:${e}:${t}`}var kf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=fE(this.userKey,i.apiKey,o),this.fullPersistenceKey=fE("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield xf(this.auth,{idToken:e}).catch(()=>{});return t?xo._fromGetAccountInfoResponse(this.auth,t,e):null}return xo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(this,null,function*(){if(!t.length)return new n(Oo(yE),e,r);let i=(yield Promise.all(t.map(l=>y(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Oo(yE),s=fE(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield xf(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield xo._fromGetAccountInfoResponse(e,g,h)}else p=xo._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>y(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function dP(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rH(e))return"Blackberry";if(iH(e))return"Webos";if(X$(e))return"Safari";if((e.includes("chrome/")||eH(e))&&!e.includes("edge/"))return"Chrome";if(nH(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Z$(n=Vn()){return/firefox\//i.test(n)}function X$(n=Vn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eH(n=Vn()){return/crios\//i.test(n)}function tH(n=Vn()){return/iemobile/i.test(n)}function nH(n=Vn()){return/android/i.test(n)}function rH(n=Vn()){return/blackberry/i.test(n)}function iH(n=Vn()){return/webos/i.test(n)}function TP(n,e=[]){let t;switch(n){case"Browser":t=dP(Vn());break;case"Worker":t=`${dP(Vn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Df}/${r}`}var vE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function oH(t){return y(this,arguments,function*(n,e={}){return Lf(n,"GET","/v2/passwordPolicy",vP(n,e))})}var sH=6,_E=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??sH,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var EE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ff(this),this.idTokenSubscription=new Ff(this),this.beforeStateQueue=new vE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oo(t)),this._initializationPromise=this.queue(()=>y(this,null,function*(){if(!this._deleted&&(this.persistenceManager=yield kf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let t=yield xf(this,{idToken:e}),r=yield xo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){if(Mo(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=yield this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return y(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield Of(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=B$()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(Mo(this.app))return Promise.reject(Rf(this));let t=e?pa(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return y(this,null,function*(){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return Mo(this.app)?Promise.reject(Rf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Mo(this.app)?Promise.reject(Rf(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(Oo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield oH(this),t=new _E(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Or("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Q$(this,r)}})}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(e,t){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Oo(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=yield kf.create(this,[Oo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=yield this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return y(this,null,function*(){if(Mo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&V$(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function aH(n){return pa(n)}var Ff=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZR(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cH={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uH(n){cH=n}function lH(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function dH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Oo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function CE(n,e,t,r){return pa(n).onIdTokenChanged(e,t,r)}var Aue=lH("rcb"),Rue=new ko(3e4,6e4);var Pue=new ko(2e3,1e4);var Nue=600*1e3;var Mue=new ko(3e4,6e4);var xue=new ko(5e3,15e3);var Oue=encodeURIComponent("fac");var hP="@firebase/auth",fP="1.11.1";var IE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function hH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fH(n){ya(new kr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TP(n)},l=new EE(r,i,o,u);return dH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ya(new kr("auth-internal",e=>{let t=aH(e.getProvider("auth").getImmediate());return(r=>new IE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ma(hP,fP,hH(n)),ma(hP,fP,"esm2020")}var pH=300,kue=qR("authIdTokenMaxAge")||pH;function gH(){return document.getElementsByTagName("head")?.[0]??document}uH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=wE("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",gH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fH("Browser");function DP(n){return new Z(function(e){var t=CE(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function $P(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HP=$P,zP=new kn("auth","Firebase",$P());var Hf=new tr("@firebase/auth");function vH(n,...e){Hf.logLevel<=fe.WARN&&Hf.warn(`Auth (${Ii}): ${n}`,...e)}function Uf(n,...e){Hf.logLevel<=fe.ERROR&&Hf.error(`Auth (${Ii}): ${n}`,...e)}function or(n,...e){throw YE(n,...e)}function Fo(n,...e){return YE(n,...e)}function qP(n,e,t){let r=Object.assign(Object.assign({},HP()),{[e]:t});return new kn("auth","Firebase",r).create(e,{appName:n.name})}function Ur(n){return qP(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return zP.create(n,...e)}function J(n,e,...t){if(!n)throw YE(e,...t)}function Lr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Uf(e),new Error(e)}function Ai(n,e){n||Lr(e)}function AE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _H(){return SP()==="http:"||SP()==="https:"}function SP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function EH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_H()||aR()||"connection"in navigator)?navigator.onLine:!0}function IH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Lo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ai(t>e,"Short delay should be less than long delay!"),this.isMobile=oR()||cR()}get(){return EH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function QE(n,e){Ai(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var zf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CH=new Lo(3e4,6e4);function Ri(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function jr(o,s,a,u){return y(this,arguments,function*(n,e,t,r,i={}){return GP(n,i,()=>y(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ku(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:g},l);return sR()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&_i(n.emulatorConfig.host)&&(v.credentials="include"),zf.fetch()(yield WP(n,n.config.apiHost,t,p),v)}))})}function GP(n,e,t){return y(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},wH),e);try{let i=new RE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Vf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Vf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Vf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw qP(n,h,l);or(n,h)}}catch(i){if(i instanceof an)throw i;or(n,"network-request-failed",{message:String(i)})}})}function Xu(o,s,a,u){return y(this,arguments,function*(n,e,t,r,i={}){let l=yield jr(n,e,t,r,i);return"mfaPendingCredential"in l&&or(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function WP(n,e,t,r){return y(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?QE(n.config,i):`${n.config.apiScheme}://${i}`;return bH.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function TH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var RE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fo(this.auth,"network-request-failed")),CH.get())})}};function Vf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Fo(n,e,r);return i.customData._tokenResponse=t,i}function AP(n){return n!==void 0&&n.enterprise!==void 0}var PE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return TH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function DH(n,e){return y(this,null,function*(){return jr(n,"GET","/v2/recaptchaConfig",Ri(n,e))})}function SH(n,e){return y(this,null,function*(){return jr(n,"POST","/v1/accounts:delete",e)})}function qf(n,e){return y(this,null,function*(){return jr(n,"POST","/v1/accounts:lookup",e)})}function Wu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function JE(n,e=!1){return y(this,null,function*(){let t=Ge(n),r=yield t.getIdToken(e),i=ZE(r);J(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Wu(TE(i.auth_time)),issuedAtTime:Wu(TE(i.iat)),expirationTime:Wu(TE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function TE(n){return Number(n)*1e3}function ZE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{let i=gf(t);return i?JSON.parse(i):(Uf("Failed to decode base64 JWT payload"),null)}catch(i){return Uf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function RP(n){let e=ZE(n);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function va(n,e,t=!1){return y(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof an&&AH(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function AH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var NE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),t)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Yu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Gf(n){return y(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield va(n,qf(t,{idToken:r}));J(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KP(o.providerUserInfo):[],a=RH(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function XE(n){return y(this,null,function*(){let e=Ge(n);yield Gf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function RH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KP(n){return n.map(e=>{var{providerId:t}=e,r=Im(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function PH(n,e){return y(this,null,function*(){let t=yield GP(n,{},()=>y(null,null,function*(){let r=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield WP(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&_i(n.emulatorConfig.host)&&(u.credentials="include"),zf.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function NH(n,e){return y(this,null,function*(){return jr(n,"POST","/v2/accounts:revokeToken",Ri(n,e))})}var Ku=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){J(e.length!==0,"internal-error");let t=RP(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return y(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield PH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Lr("not implemented")}};function Di(n,e){J(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Si=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Im(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let t=yield va(this,this.stsTokenManager.getToken(this.auth,e));return J(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return JE(this,e)}reload(){return XE(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Gf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(Gt(this.auth.app))return Promise.reject(Ur(this.auth));let e=yield this.getIdToken();return yield va(this,SH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,F=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=t.createdAt)!==null&&l!==void 0?l:void 0,Q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:te,emailVerified:Me,isAnonymous:Pt,providerData:Re,stsTokenManager:C}=t;J(te&&C,e,"internal-error");let _=Ku.fromJSON(this.name,C);J(typeof te=="string",e,"internal-error"),Di(p,e.name),Di(g,e.name),J(typeof Me=="boolean",e,"internal-error"),J(typeof Pt=="boolean",e,"internal-error"),Di(v,e.name),Di(A,e.name),Di(F,e.name),Di(x,e.name),Di(j,e.name),Di(Q,e.name);let I=new n({uid:te,auth:e,email:g,emailVerified:Me,displayName:p,isAnonymous:Pt,photoURL:A,phoneNumber:v,tenantId:F,stsTokenManager:_,createdAt:j,lastLoginAt:Q});return Re&&Array.isArray(Re)&&(I.providerData=Re.map(w=>Object.assign({},w))),x&&(I._redirectEventId=x),I}static _fromIdTokenResponse(e,t,r=!1){return y(this,null,function*(){let i=new Ku;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return y(this,null,function*(){let i=t.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?KP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ku;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Yu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var PP=new Map;function Vr(n){Ai(n instanceof Function,"Expected a class definition");let e=PP.get(n);return e?(Ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,PP.set(n,e),e)}var MH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(t,r){return y(this,null,function*(){this.storage[t]=r})}_get(t){return y(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return y(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),ME=MH;function jf(n,e,t){return`firebase:${n}:${e}:${t}`}var Wf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=jf(this.userKey,i.apiKey,o),this.fullPersistenceKey=jf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield qf(this.auth,{idToken:e}).catch(()=>{});return t?Si._fromGetAccountInfoResponse(this.auth,t,e):null}return Si._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(this,null,function*(){if(!t.length)return new n(Vr(ME),e,r);let i=(yield Promise.all(t.map(l=>y(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Vr(ME),s=jf(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield qf(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Si._fromGetAccountInfoResponse(e,g,h)}else p=Si._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>y(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function NP(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eN(e))return"Blackberry";if(tN(e))return"Webos";if(QP(e))return"Safari";if((e.includes("chrome/")||JP(e))&&!e.includes("edge/"))return"Chrome";if(XP(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function YP(n=dt()){return/firefox\//i.test(n)}function QP(n=dt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JP(n=dt()){return/crios\//i.test(n)}function ZP(n=dt()){return/iemobile/i.test(n)}function XP(n=dt()){return/android/i.test(n)}function eN(n=dt()){return/blackberry/i.test(n)}function tN(n=dt()){return/webos/i.test(n)}function eI(n=dt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xH(n=dt()){var e;return eI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OH(){return uR()&&document.documentMode===10}function nN(n=dt()){return eI(n)||XP(n)||tN(n)||eN(n)||/windows phone/i.test(n)||ZP(n)}function rN(n,e=[]){let t;switch(n){case"Browser":t=NP(dt());break;case"Worker":t=`${NP(dt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ii}/${r}`}var xE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function kH(t){return y(this,arguments,function*(n,e={}){return jr(n,"GET","/v2/passwordPolicy",Ri(n,e))})}var FH=6,OE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:FH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var kE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kf(this),this.idTokenSubscription=new Kf(this),this.beforeStateQueue=new xE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vr(t)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Wf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let t=yield qf(this,{idToken:e}),r=yield Si._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var t;if(Gt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return y(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield Gf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=IH()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(Gt(this.app))return Promise.reject(Ur(this));let t=e?Ge(e):null;return t&&J(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return y(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return Gt(this.app)?Promise.reject(Ur(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Gt(this.app)?Promise.reject(Ur(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(Vr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield kH(this),t=new OE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield NH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Vr(e)||this._popupRedirectResolver;J(t,this,"argument-error"),this.redirectPersistenceManager=yield Wf.create(this,[Vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return y(this,null,function*(){var e;if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&vH(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Uo(n){return Ge(n)}var Kf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fR(t=>this.observer=t)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var tp={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LH(n){tp=n}function iN(n){return tp.loadJS(n)}function VH(){return tp.recaptchaEnterpriseScript}function UH(){return tp.gapiScript}function oN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var FE=class{constructor(){this.enterprise=new LE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},LE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var jH="recaptcha-enterprise",sN="NO_RECAPTCHA",VE=class{constructor(e){this.type=jH,this.auth=Uo(e)}verify(e="verify",t=!1){return y(this,null,function*(){function r(o){return y(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>y(null,null,function*(){DH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new PE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;AP(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(sN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&AP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=VH();u.length!==0&&(u+=a),iN(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Gu(n,e,t,r=!1,i=!1){return y(this,null,function*(){let o=new VE(n),s;if(i)s=sN;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function UE(n,e,t,r,i){return y(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Gu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>y(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Gu(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Gu(n,e,t);return r(n,a).catch(u=>y(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Gu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield Gu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function tI(n,e){let t=la(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(er(o,e??{}))return i;or(i,"already-initialized")}return t.initialize({options:e})}function BH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Vr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function nI(n,e,t){let r=Uo(n);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=aN(e),{host:s,port:a}=$H(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(er(l,r.config.emulator)&&er(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,_i(s)?(yf(`${o}//${s}${u}`),vf("Auth",!0)):i||HH()}function aN(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $H(n){let e=aN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:MP(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:MP(s)}}}function MP(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function HH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Qu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}};function zH(n,e){return y(this,null,function*(){return jr(n,"POST","/v1/accounts:signUp",e)})}function qH(n,e){return y(this,null,function*(){return Xu(n,"POST","/v1/accounts:signInWithPassword",Ri(n,e))})}function GH(n,e){return y(this,null,function*(){return Xu(n,"POST","/v1/accounts:signInWithEmailLink",Ri(n,e))})}function WH(n,e){return y(this,null,function*(){return Xu(n,"POST","/v1/accounts:signInWithEmailLink",Ri(n,e))})}var Ju=class n extends Qu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return y(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UE(e,t,"signInWithPassword",qH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return GH(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}})}_linkToIdToken(e,t){return y(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UE(e,r,"signUpPassword",zH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return WH(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function DE(n,e){return y(this,null,function*(){return Xu(n,"POST","/v1/accounts:signInWithIdp",Ri(n,e))})}function KH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YH(n){let e=ca(ua(n)).link,t=e?ca(ua(e)).deep_link_id:null,r=ca(ua(n)).deep_link_id;return(r?ca(ua(r)).link:null)||r||t||e||n}var Yf=class n{constructor(e){var t,r,i,o,s,a;let u=ca(ua(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=KH((i=u.mode)!==null&&i!==void 0?i:null);J(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=YH(e);try{return new n(t)}catch{return null}}};var cN=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ju._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Yf.parseLink(r);return J(i,"argument-error"),Ju._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Qf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var jE=class extends Qf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function QH(n,e){return y(this,null,function*(){return Xu(n,"POST","/v1/accounts:signUp",Ri(n,e))})}var _a=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return y(this,null,function*(){let o=yield Si._fromIdTokenResponse(e,r,i),s=xP(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return y(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=xP(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function xP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var BE=class n extends an{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function uN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?BE._fromErrorAndOperation(n,o,e,r):o})}function JH(n,e,t=!1){return y(this,null,function*(){let r=yield va(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return _a._forOperation(n,"link",r)})}function ZH(n,e,t=!1){return y(this,null,function*(){let{auth:r}=n;if(Gt(r.app))return Promise.reject(Ur(r));let i="reauthenticate";try{let o=yield va(n,uN(r,i,e,n),t);J(o.idToken,r,"internal-error");let s=ZE(o.idToken);J(s,r,"internal-error");let{sub:a}=s;return J(n.uid===a,r,"user-mismatch"),_a._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&or(r,"user-mismatch"),o}})}function lN(n,e,t=!1){return y(this,null,function*(){if(Gt(n.app))return Promise.reject(Ur(n));let r="signIn",i=yield uN(n,r,e),o=yield _a._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function rI(n,e){return y(this,null,function*(){return lN(Uo(n),e)})}function dN(n){return y(this,null,function*(){let e=Uo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function iI(n,e,t){return y(this,null,function*(){if(Gt(n.app))return Promise.reject(Ur(n));let r=Uo(n),s=yield UE(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QH,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&dN(n),u}),a=yield _a._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function oI(n,e,t){return Gt(n.app)?Promise.reject(Ur(n)):rI(Ge(n),cN.credential(e,t)).catch(r=>y(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&dN(n),r}))}function XH(n,e){return y(this,null,function*(){return jr(n,"POST","/v1/accounts:update",e)})}function sI(r,i){return y(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Ge(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=yield va(o,XH(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function aI(n,e,t,r){return Ge(n).onIdTokenChanged(e,t,r)}function cI(n,e,t){return Ge(n).beforeAuthStateChanged(e,t)}function uI(n){return Ge(n).signOut()}var Jf="__sak";var Zf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var e6=1e3,t6=10,n6=(()=>{class n extends Zf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);OH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,t6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},e6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return y(this,null,function*(){yield pr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return y(this,null,function*(){let r=yield pr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return y(this,null,function*(){yield pr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),hN=n6;var r6=(()=>{class n extends Zf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),lI=r6;function i6(n){return Promise.all(n.map(e=>y(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var o6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return y(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>y(this,null,function*(){return h(r.origin,s)})),l=yield i6(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function fN(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var $E=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return y(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=fN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ir(){return window}function s6(n){ir().location.href=n}function pN(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}function a6(){return y(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function c6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function u6(){return pN()?self:null}var gN="firebaseLocalStorageDb",l6=1,Xf="firebaseLocalStorage",mN="fbase_key",Vo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function np(n,e){return n.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function d6(){let n=indexedDB.deleteDatabase(gN);return new Vo(n).toPromise()}function HE(){let n=indexedDB.open(gN,l6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Xf,{keyPath:mN})}catch(i){t(i)}}),n.addEventListener("success",()=>y(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Xf)?e(r):(r.close(),yield d6(),e(yield HE()))}))})}function OP(n,e,t){return y(this,null,function*(){let r=np(n,!0).put({[mN]:e,value:t});return new Vo(r).toPromise()})}function h6(n,e){return y(this,null,function*(){let t=np(n,!1).get(e),r=yield new Vo(t).toPromise();return r===void 0?null:r.value})}function kP(n,e){let t=np(n,!0).delete(e);return new Vo(t).toPromise()}var f6=800,p6=3,g6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield HE(),this.db)})}_withRetries(t){return y(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>p6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return pN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=o6._getInstance(u6()),this.receiver._subscribe("keyChanged",(t,r)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var t,r;if(this.activeServiceWorker=yield a6(),!this.activeServiceWorker)return;this.sender=new $E(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||c6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let t=yield HE();return yield OP(t,Jf,"1"),yield kP(t,Jf),!0}catch{}return!1})}_withPendingWrite(t){return y(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(i=>OP(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return y(this,null,function*(){let r=yield this._withRetries(i=>h6(i,t));return this.localCache[t]=r,r})}_remove(t){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>kP(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return y(this,null,function*(){let t=yield this._withRetries(o=>{let s=np(o,!1).getAll();return new Vo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),f6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),yN=g6;var Cde=oN("rcb"),Tde=new Lo(3e4,6e4);function m6(n,e){return e?Vr(e):(J(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Zu=class extends Qu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return DE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return DE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return DE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function y6(n){return lN(n.auth,new Zu(n),n.bypassAuthState)}function v6(n){let{auth:e,user:t}=n;return J(t,e,"internal-error"),ZH(t,new Zu(n),n.bypassAuthState)}function _6(n){return y(this,null,function*(){let{auth:e,user:t}=n;return J(t,e,"internal-error"),JH(t,new Zu(n),n.bypassAuthState)})}var zE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y6;case"linkViaPopup":case"linkViaRedirect":return _6;case"reauthViaPopup":case"reauthViaRedirect":return v6;default:or(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Dde=new Lo(2e3,1e4);var E6="pendingRedirect",Bf=new Map,qE=class n extends zE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return y(this,null,function*(){let e=Bf.get(this.auth._key());if(!e){try{let r=(yield I6(this.resolver,this.auth))?yield pr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return pr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,pr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function I6(n,e){return y(this,null,function*(){let t=C6(e),r=b6(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function w6(n,e){Bf.set(n._key(),e)}function b6(n){return Vr(n._redirectPersistence)}function C6(n){return jf(E6,n.config.apiKey,n.name)}function T6(n,e,t=!1){return y(this,null,function*(){if(Gt(n.app))return Promise.reject(Ur(n));let r=Uo(n),i=m6(r,e),s=yield new qE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var D6=600*1e3,GE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D6&&this.cachedEventUids.clear(),this.cachedEventUids.has(FP(e))}saveEventToCache(e){this.cachedEventUids.add(FP(e)),this.lastProcessedEventTime=Date.now()}};function FP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function S6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vN(n);default:return!1}}function A6(t){return y(this,arguments,function*(n,e={}){return jr(n,"GET","/v1/projects",e)})}var R6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P6=/^https?/;function N6(n){return y(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield A6(n);for(let t of e)try{if(M6(t))return}catch{}or(n,"unauthorized-domain")})}function M6(n){let e=AE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!P6.test(t))return!1;if(R6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var x6=new Lo(3e4,6e4);function LP(){let n=ir().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function O6(n){return new Promise((e,t)=>{var r,i,o;function s(){LP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LP(),t(Fo(n,"network-request-failed"))},timeout:x6.get()})}if(!((i=(r=ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ir().gapi)===null||o===void 0)&&o.load)s();else{let a=oN("iframefcb");return ir()[a]=()=>{gapi.load?s():t(Fo(n,"network-request-failed"))},iN(`${UH()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw $f=null,e})}var $f=null;function k6(n){return $f=$f||O6(n),$f}var F6=new Lo(5e3,15e3),L6="__/auth/iframe",V6="emulator/auth/iframe",U6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B6(n){let e=n.config;J(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?QE(e,V6):`https://${n.config.authDomain}/${L6}`,r={apiKey:e.apiKey,appName:n.name,v:Ii},i=j6.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ku(r).slice(1)}`}function $6(n){return y(this,null,function*(){let e=yield k6(n),t=ir().gapi;return J(t,n,"internal-error"),e.open({where:document.body,url:B6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U6,dontclear:!0},r=>new Promise((i,o)=>y(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Fo(n,"network-request-failed"),a=ir().setTimeout(()=>{o(s)},F6.get());function u(){ir().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var H6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z6=500,q6=600,G6="_blank",W6="http://localhost",ep=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function K6(n,e,t,r=z6,i=q6){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},H6),{width:r.toString(),height:i.toString(),top:o,left:s}),l=dt().toLowerCase();t&&(a=JP(l)?G6:t),YP(l)&&(e=e||W6,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[v,A])=>`${g}${v}=${A},`,"");if(xH(l)&&a!=="_self")return Y6(e||"",a),new ep(null);let p=window.open(e||"",a,h);J(p,n,"popup-blocked");try{p.focus()}catch{}return new ep(p)}function Y6(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Q6="__/auth/handler",J6="emulator/auth/handler",Z6=encodeURIComponent("fac");function VP(n,e,t,r,i,o){return y(this,null,function*(){J(n.config.authDomain,n,"auth-domain-config-required"),J(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ii,eventId:i};if(e instanceof Qf){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",hR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof jE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${Z6}=${encodeURIComponent(u)}`:"";return`${X6(n)}?${ku(a).slice(1)}${l}`})}function X6({config:n}){return n.emulator?QE(n,J6):`https://${n.authDomain}/${Q6}`}var SE="webStorageSupport",WE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lI,this._completeRedirectFn=T6,this._overrideRedirectResult=w6}_openPopup(e,t,r,i){return y(this,null,function*(){var o;Ai((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield VP(e,t,r,AE(),i);return K6(e,s,fN())})}_openRedirect(e,t,r,i){return y(this,null,function*(){yield this._originValidation(e);let o=yield VP(e,t,r,AE(),i);return s6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ai(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return y(this,null,function*(){let t=yield $6(e),r=new GE(e);return t.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(SE,{type:SE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[SE];s!==void 0&&t(!!s),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=N6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nN()||QP()||eI()}},_N=WE;var UP="@firebase/auth",jP="1.10.8";var KE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function e4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t4(n){Fn(new Vt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rN(n)},l=new kE(r,i,o,u);return BH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fn(new Vt("auth-internal",e=>{let t=Uo(e.getProvider("auth").getImmediate());return(r=>new KE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(UP,jP,e4(n)),We(UP,jP,"esm2017")}var n4=300,r4=N_("authIdTokenMaxAge")||n4,BP=null,i4=n=>e=>y(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>r4)return;let i=t?.token;BP!==i&&(BP=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function dI(n=Ro()){let e=la(n,"auth");if(e.isInitialized())return e.getImmediate();let t=tI(n,{popupRedirectResolver:_N,persistence:[yN,hN,lI]}),r=N_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=i4(o.toString());cI(t,s,()=>s(t.currentUser)),aI(t,a=>s(a))}}let i=R_("auth");return i&&nI(t,`http://${i}`),t}function o4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}LH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Fo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",o4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t4("Browser");var EN="auth",jo=class{constructor(e){return e}},el=class{constructor(){return ha(EN)}};var hI=new q("angularfire2.auth-instances");function W4(n,e){let t=Vu(EN,n,e);return t&&new jo(t)}function K4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new jo(r)}}var Y4={provide:el,deps:[[new nn,hI]]},Q4={provide:jo,useFactory:W4,deps:[[new nn,hI],xr]};function IN(n,...e){return We("angularfire",wi.full,"auth"),Jt([Q4,Y4,{provide:hI,useFactory:K4(n),multi:!0,deps:[Se,Xe,bi,No,[new nn,fa],...e]}])}var wN=Je(DP,!0);var bN=Je(iI,!0,2);var CN=Je(dI,!0);var TN=Je(oI,!0,2);var DN=Je(uI,!0,2);var SN=Je(sI,!0,2);var AN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RN={};var Br,fI;(function(){var n;function e(C,_){function I(){}I.prototype=_.prototype,C.D=_.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(w,T,R){for(var E=Array(arguments.length-2),dr=2;dr<arguments.length;dr++)E[dr-2]=arguments[dr];return _.prototype[T].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,I){I||(I=0);var w=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)w[T]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(T=0;16>T;++T)w[T]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=C.g[0],I=C.g[1],T=C.g[2];var R=C.g[3],E=_+(R^I&(T^R))+w[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=R+(T^_&(I^T))+w[1]+3905402710&4294967295,R=_+(E<<12&4294967295|E>>>20),E=T+(I^R&(_^I))+w[2]+606105819&4294967295,T=R+(E<<17&4294967295|E>>>15),E=I+(_^T&(R^_))+w[3]+3250441966&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(R^I&(T^R))+w[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=R+(T^_&(I^T))+w[5]+1200080426&4294967295,R=_+(E<<12&4294967295|E>>>20),E=T+(I^R&(_^I))+w[6]+2821735955&4294967295,T=R+(E<<17&4294967295|E>>>15),E=I+(_^T&(R^_))+w[7]+4249261313&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(R^I&(T^R))+w[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=R+(T^_&(I^T))+w[9]+2336552879&4294967295,R=_+(E<<12&4294967295|E>>>20),E=T+(I^R&(_^I))+w[10]+4294925233&4294967295,T=R+(E<<17&4294967295|E>>>15),E=I+(_^T&(R^_))+w[11]+2304563134&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(R^I&(T^R))+w[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=R+(T^_&(I^T))+w[13]+4254626195&4294967295,R=_+(E<<12&4294967295|E>>>20),E=T+(I^R&(_^I))+w[14]+2792965006&4294967295,T=R+(E<<17&4294967295|E>>>15),E=I+(_^T&(R^_))+w[15]+1236535329&4294967295,I=T+(E<<22&4294967295|E>>>10),E=_+(T^R&(I^T))+w[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=R+(I^T&(_^I))+w[6]+3225465664&4294967295,R=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(R^_))+w[11]+643717713&4294967295,T=R+(E<<14&4294967295|E>>>18),E=I+(R^_&(T^R))+w[0]+3921069994&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(T^R&(I^T))+w[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=R+(I^T&(_^I))+w[10]+38016083&4294967295,R=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(R^_))+w[15]+3634488961&4294967295,T=R+(E<<14&4294967295|E>>>18),E=I+(R^_&(T^R))+w[4]+3889429448&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(T^R&(I^T))+w[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=R+(I^T&(_^I))+w[14]+3275163606&4294967295,R=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(R^_))+w[3]+4107603335&4294967295,T=R+(E<<14&4294967295|E>>>18),E=I+(R^_&(T^R))+w[8]+1163531501&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(T^R&(I^T))+w[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=R+(I^T&(_^I))+w[2]+4243563512&4294967295,R=_+(E<<9&4294967295|E>>>23),E=T+(_^I&(R^_))+w[7]+1735328473&4294967295,T=R+(E<<14&4294967295|E>>>18),E=I+(R^_&(T^R))+w[12]+2368359562&4294967295,I=T+(E<<20&4294967295|E>>>12),E=_+(I^T^R)+w[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=R+(_^I^T)+w[8]+2272392833&4294967295,R=_+(E<<11&4294967295|E>>>21),E=T+(R^_^I)+w[11]+1839030562&4294967295,T=R+(E<<16&4294967295|E>>>16),E=I+(T^R^_)+w[14]+4259657740&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(I^T^R)+w[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=R+(_^I^T)+w[4]+1272893353&4294967295,R=_+(E<<11&4294967295|E>>>21),E=T+(R^_^I)+w[7]+4139469664&4294967295,T=R+(E<<16&4294967295|E>>>16),E=I+(T^R^_)+w[10]+3200236656&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(I^T^R)+w[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=R+(_^I^T)+w[0]+3936430074&4294967295,R=_+(E<<11&4294967295|E>>>21),E=T+(R^_^I)+w[3]+3572445317&4294967295,T=R+(E<<16&4294967295|E>>>16),E=I+(T^R^_)+w[6]+76029189&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(I^T^R)+w[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=R+(_^I^T)+w[12]+3873151461&4294967295,R=_+(E<<11&4294967295|E>>>21),E=T+(R^_^I)+w[15]+530742520&4294967295,T=R+(E<<16&4294967295|E>>>16),E=I+(T^R^_)+w[2]+3299628645&4294967295,I=T+(E<<23&4294967295|E>>>9),E=_+(T^(I|~R))+w[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=R+(I^(_|~T))+w[7]+1126891415&4294967295,R=_+(E<<10&4294967295|E>>>22),E=T+(_^(R|~I))+w[14]+2878612391&4294967295,T=R+(E<<15&4294967295|E>>>17),E=I+(R^(T|~_))+w[5]+4237533241&4294967295,I=T+(E<<21&4294967295|E>>>11),E=_+(T^(I|~R))+w[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=R+(I^(_|~T))+w[3]+2399980690&4294967295,R=_+(E<<10&4294967295|E>>>22),E=T+(_^(R|~I))+w[10]+4293915773&4294967295,T=R+(E<<15&4294967295|E>>>17),E=I+(R^(T|~_))+w[1]+2240044497&4294967295,I=T+(E<<21&4294967295|E>>>11),E=_+(T^(I|~R))+w[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=R+(I^(_|~T))+w[15]+4264355552&4294967295,R=_+(E<<10&4294967295|E>>>22),E=T+(_^(R|~I))+w[6]+2734768916&4294967295,T=R+(E<<15&4294967295|E>>>17),E=I+(R^(T|~_))+w[13]+1309151649&4294967295,I=T+(E<<21&4294967295|E>>>11),E=_+(T^(I|~R))+w[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=R+(I^(_|~T))+w[11]+3174756917&4294967295,R=_+(E<<10&4294967295|E>>>22),E=T+(_^(R|~I))+w[2]+718787259&4294967295,T=R+(E<<15&4294967295|E>>>17),E=I+(R^(T|~_))+w[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,C.g[2]=C.g[2]+T&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var I=_-this.blockSize,w=this.B,T=this.h,R=0;R<_;){if(T==0)for(;R<=I;)i(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<_;)if(w[T++]=C.charCodeAt(R++),T==this.blockSize){i(this,w),T=0;break}}else for(;R<_;)if(w[T++]=C[R++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var I=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=I&255,I/=256;for(this.u(C),C=Array(16),_=I=0;4>_;++_)for(var w=0;32>w;w+=8)C[I++]=this.g[_]>>>w&255;return C};function o(C,_){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=_(C)}function s(C,_){this.h=_;for(var I=[],w=!0,T=C.length-1;0<=T;T--){var R=C[T]|0;w&&R==_||(I[T]=R,w=!1)}this.g=I}var a={};function u(C){return-128<=C&&128>C?o(C,function(_){return new s([_|0],0>_?-1:0)}):new s([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return x(l(-C));for(var _=[],I=1,w=0;C>=I;w++)_[w]=C/I|0,I*=4294967296;return new s(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return x(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),w=p,T=0;T<C.length;T+=8){var R=Math.min(8,C.length-T),E=parseInt(C.substring(T,T+R),_);8>R?(R=l(Math.pow(_,R)),w=w.j(R).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),g=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(F(this))return-x(this).m();for(var C=0,_=1,I=0;I<this.g.length;I++){var w=this.i(I);C+=(0<=w?w:4294967296+w)*_,_*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A(this))return"0";if(F(this))return"-"+x(this).toString(C);for(var _=l(Math.pow(C,6)),I=this,w="";;){var T=Me(I,_).g;I=j(I,T.j(_));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=T,A(I))return R+w;for(;6>R.length;)R="0"+R;w=R+w}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function A(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function F(C){return C.h==-1}n.l=function(C){return C=j(this,C),F(C)?-1:A(C)?0:1};function x(C){for(var _=C.g.length,I=[],w=0;w<_;w++)I[w]=~C.g[w];return new s(I,~C.h).add(g)}n.abs=function(){return F(this)?x(this):this},n.add=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],w=0,T=0;T<=_;T++){var R=w+(this.i(T)&65535)+(C.i(T)&65535),E=(R>>>16)+(this.i(T)>>>16)+(C.i(T)>>>16);w=E>>>16,R&=65535,E&=65535,I[T]=E<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function j(C,_){return C.add(x(_))}n.j=function(C){if(A(this)||A(C))return p;if(F(this))return F(C)?x(this).j(x(C)):x(x(this).j(C));if(F(C))return x(this.j(x(C)));if(0>this.l(v)&&0>C.l(v))return l(this.m()*C.m());for(var _=this.g.length+C.g.length,I=[],w=0;w<2*_;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<C.g.length;T++){var R=this.i(w)>>>16,E=this.i(w)&65535,dr=C.i(T)>>>16,Xa=C.i(T)&65535;I[2*w+2*T]+=E*Xa,Q(I,2*w+2*T),I[2*w+2*T+1]+=R*Xa,Q(I,2*w+2*T+1),I[2*w+2*T+1]+=E*dr,Q(I,2*w+2*T+1),I[2*w+2*T+2]+=R*dr,Q(I,2*w+2*T+2)}for(w=0;w<_;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=_;w<2*_;w++)I[w]=0;return new s(I,0)};function Q(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function te(C,_){this.g=C,this.h=_}function Me(C,_){if(A(_))throw Error("division by zero");if(A(C))return new te(p,p);if(F(C))return _=Me(x(C),_),new te(x(_.g),x(_.h));if(F(_))return _=Me(C,x(_)),new te(x(_.g),_.h);if(30<C.g.length){if(F(C)||F(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,w=_;0>=w.l(C);)I=Pt(I),w=Pt(w);var T=Re(I,1),R=Re(w,1);for(w=Re(w,2),I=Re(I,2);!A(w);){var E=R.add(w);0>=E.l(C)&&(T=T.add(I),R=E),w=Re(w,1),I=Re(I,1)}return _=j(C,T.j(_)),new te(T,_)}for(T=p;0<=C.l(_);){for(I=Math.max(1,Math.floor(C.m()/_.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),R=l(I),E=R.j(_);F(E)||0<E.l(C);)I-=w,R=l(I),E=R.j(_);A(R)&&(R=g),T=T.add(R),C=j(C,E)}return new te(T,C)}n.A=function(C){return Me(this,C).h},n.and=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)&C.i(w);return new s(I,this.h&C.h)},n.or=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)|C.i(w);return new s(I,this.h|C.h)},n.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)^C.i(w);return new s(I,this.h^C.h)};function Pt(C){for(var _=C.g.length+1,I=[],w=0;w<_;w++)I[w]=C.i(w)<<1|C.i(w-1)>>>31;return new s(I,C.h)}function Re(C,_){var I=_>>5;_%=32;for(var w=C.g.length-I,T=[],R=0;R<w;R++)T[R]=0<_?C.i(R+I)>>>_|C.i(R+I+1)<<32-_:C.i(R+I);return new s(T,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fI=RN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Br=RN.Integer=s}).apply(typeof AN<"u"?AN:typeof self<"u"?self:typeof window<"u"?window:{});var rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$r={};var pI,J4,Ea,gI,tl,ip,mI,yI,vI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rp=="object"&&rp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var D=c[m];if(!(D in f))break e;f=f[D]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,D={next:function(){if(!m&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,m),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,D,N){for(var U=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)U[xe-2]=arguments[xe];return d.prototype[D].apply(m,U)}}function F(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let D=c.length||0,N=m.length||0;c.length=D+N;for(let U=0;U<N;U++)c[D+U]=m[U]}else c.push(m)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Me(c){return Me[" "](c),c}Me[" "]=function(){};var Pt=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Re(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function C(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let D=1;D<arguments.length;D++){m=arguments[D];for(f in m)c[f]=m[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function R(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Rg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class dr{constructor(){this.h=this.g=null}add(d,f){let m=Xa.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Xa=new j(()=>new GO,c=>c.reset());class GO{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ec,tc=!1,Rg=new dr,Xb=()=>{let c=a.Promise.resolve(void 0);ec=()=>{c.then(WO)}};var WO=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){R(f)}var d=Xa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}tc=!1};function Qr(){this.s=this.s,this.C=this.C}Qr.prototype.s=!1,Qr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var KO=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function nc(c,d){if(It.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Pt){e:{try{Me(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:YO[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&nc.aa.h.call(this)}}A(nc,It);var YO={2:"touch",3:"pen",4:"mouse"};nc.prototype.h=function(){nc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var rc="closure_listenable_"+(1e6*Math.random()|0),QO=0;function JO(c,d,f,m,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=D,this.key=++QO,this.da=this.fa=!1}function Ol(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kl(c){this.src=c,this.g={},this.h=0}kl.prototype.add=function(c,d,f,m,D){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var U=Ng(c,d,m,D);return-1<U?(d=c[U],f||(d.fa=!1)):(d=new JO(d,this.src,N,!!m,D),d.fa=f,c.push(d)),d};function Pg(c,d){var f=d.type;if(f in c.g){var m=c.g[f],D=Array.prototype.indexOf.call(m,d,void 0),N;(N=0<=D)&&Array.prototype.splice.call(m,D,1),N&&(Ol(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ng(c,d,f,m){for(var D=0;D<c.length;++D){var N=c[D];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==m)return D}return-1}var Mg="closure_lm_"+(1e6*Math.random()|0),xg={};function e0(c,d,f,m,D){if(m&&m.once)return n0(c,d,f,m,D);if(Array.isArray(d)){for(var N=0;N<d.length;N++)e0(c,d[N],f,m,D);return null}return f=Lg(f),c&&c[rc]?c.K(d,f,l(m)?!!m.capture:!!m,D):t0(c,d,f,!1,m,D)}function t0(c,d,f,m,D,N){if(!d)throw Error("Invalid event type");var U=l(D)?!!D.capture:!!D,xe=kg(c);if(xe||(c[Mg]=xe=new kl(c)),f=xe.add(d,f,m,U,N),f.proxy)return f;if(m=ZO(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)KO||(D=U),D===void 0&&(D=!1),c.addEventListener(d.toString(),m,D);else if(c.attachEvent)c.attachEvent(i0(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ZO(){function c(f){return d.call(c.src,c.listener,f)}let d=XO;return c}function n0(c,d,f,m,D){if(Array.isArray(d)){for(var N=0;N<d.length;N++)n0(c,d[N],f,m,D);return null}return f=Lg(f),c&&c[rc]?c.L(d,f,l(m)?!!m.capture:!!m,D):t0(c,d,f,!0,m,D)}function r0(c,d,f,m,D){if(Array.isArray(d))for(var N=0;N<d.length;N++)r0(c,d[N],f,m,D);else m=l(m)?!!m.capture:!!m,f=Lg(f),c&&c[rc]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=Ng(N,f,m,D),-1<f&&(Ol(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=kg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ng(d,f,m,D)),(f=-1<c?d[c]:null)&&Og(f))}function Og(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[rc])Pg(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(i0(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=kg(d))?(Pg(f,c),f.h==0&&(f.src=null,d[Mg]=null)):Ol(c)}}}function i0(c){return c in xg?xg[c]:xg[c]="on"+c}function XO(c,d){if(c.da)c=!0;else{d=new nc(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Og(c),c=f.call(m,d)}return c}function kg(c){return c=c[Mg],c instanceof kl?c:null}var Fg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lg(c){return typeof c=="function"?c:(c[Fg]||(c[Fg]=function(d){return c.handleEvent(d)}),c[Fg])}function wt(){Qr.call(this),this.i=new kl(this),this.M=this,this.F=null}A(wt,Qr),wt.prototype[rc]=!0,wt.prototype.removeEventListener=function(c,d,f,m){r0(this,c,d,f,m)};function Nt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new It(d,c);else if(d instanceof It)d.target=d.target||c;else{var D=d;d=new It(m,c),w(d,D)}if(D=!0,f)for(var N=f.length-1;0<=N;N--){var U=d.g=f[N];D=Fl(U,m,!0,d)&&D}if(U=d.g=c,D=Fl(U,m,!0,d)&&D,D=Fl(U,m,!1,d)&&D,f)for(N=0;N<f.length;N++)U=d.g=f[N],D=Fl(U,m,!1,d)&&D}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Ol(f[m]);delete c.g[d],c.h--}}this.F=null},wt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},wt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Fl(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,N=0;N<d.length;++N){var U=d[N];if(U&&!U.da&&U.capture==f){var xe=U.listener,pt=U.ha||U.src;U.fa&&Pg(c.i,U),D=xe.call(pt,m)!==!1&&D}}return D&&!m.defaultPrevented}function o0(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function s0(c){c.g=o0(()=>{c.g=null,c.i&&(c.i=!1,s0(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class ek extends Qr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:s0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ic(c){Qr.call(this),this.h=c,this.g={}}A(ic,Qr);var a0=[];function c0(c){Re(c.g,function(d,f){this.g.hasOwnProperty(f)&&Og(d)},c),c.g={}}ic.prototype.N=function(){ic.aa.N.call(this),c0(this)},ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vg=a.JSON.stringify,tk=a.JSON.parse,nk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ug(){}Ug.prototype.h=null;function u0(c){return c.h||(c.h=c.i())}function l0(){}var oc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jg(){It.call(this,"d")}A(jg,It);function Bg(){It.call(this,"c")}A(Bg,It);var qi={},d0=null;function Ll(){return d0=d0||new wt}qi.La="serverreachability";function h0(c){It.call(this,qi.La,c)}A(h0,It);function sc(c){let d=Ll();Nt(d,new h0(d))}qi.STAT_EVENT="statevent";function f0(c,d){It.call(this,qi.STAT_EVENT,c),this.stat=d}A(f0,It);function Mt(c){let d=Ll();Nt(d,new f0(d,c))}qi.Ma="timingevent";function p0(c,d){It.call(this,qi.Ma,c),this.size=d}A(p0,It);function ac(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function cc(){this.g=!0}cc.prototype.xa=function(){this.g=!1};function rk(c,d,f,m,D,N){c.info(function(){if(c.g)if(N)for(var U="",xe=N.split("&"),pt=0;pt<xe.length;pt++){var _e=xe[pt].split("=");if(1<_e.length){var bt=_e[0];_e=_e[1];var Ct=bt.split("_");U=2<=Ct.length&&Ct[1]=="type"?U+(bt+"="+_e+"&"):U+(bt+"=redacted&")}}else U=null;else U=N;return"XMLHTTP REQ ("+m+") [attempt "+D+"]: "+d+`
`+f+`
`+U})}function ik(c,d,f,m,D,N,U){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+D+"]: "+d+`
`+f+`
`+N+" "+U})}function ns(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+sk(c,f)+(m?" "+m:"")})}function ok(c,d){c.info(function(){return"TIMEOUT: "+d})}cc.prototype.info=function(){};function sk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var D=m[1];if(Array.isArray(D)&&!(1>D.length)){var N=D[0];if(N!="noop"&&N!="stop"&&N!="close")for(var U=1;U<D.length;U++)D[U]=""}}}}return Vg(f)}catch{return d}}var Vl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},g0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$g;function Ul(){}A(Ul,Ug),Ul.prototype.g=function(){return new XMLHttpRequest},Ul.prototype.i=function(){return{}},$g=new Ul;function Jr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new ic(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new m0}function m0(){this.i=null,this.g="",this.h=!1}var y0={},Hg={};function zg(c,d,f){c.L=1,c.v=Hl(hr(d)),c.m=f,c.P=!0,v0(c,null)}function v0(c,d){c.F=Date.now(),jl(c),c.A=hr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),M0(f.i,"t",m),c.C=0,f=c.j.J,c.h=new m0,c.g=Q0(c.j,f?d:null,!c.m),0<c.O&&(c.M=new ek(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(a0[0]=D.toString()),D=a0);for(var N=0;N<D.length;N++){var U=e0(f,D[N],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),sc(),rk(c.i,c.u,c.A,c.l,c.R,c.m)}Jr.prototype.ca=function(c){c=c.target;let d=this.M;d&&fr(c)==3?d.j():this.Y(c)},Jr.prototype.Y=function(c){try{if(c==this.g)e:{let Ct=fr(this.g);var d=this.g.Ba();let os=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||U0(this.g)))){this.J||Ct!=4||d==7||(d==8||0>=os?sc(3):sc(2)),qg(this);var f=this.g.Z();this.X=f;t:if(_0(this)){var m=U0(this.g);c="";var D=m.length,N=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),uc(this);var U="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(N&&d==D-1)});m.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,ik(this.i,this.u,this.A,this.l,this.R,Ct,f),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,pt=this.g;if((xe=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(xe)){var _e=xe;break t}}_e=null}if(f=_e)ns(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,f);else{this.o=!1,this.s=3,Mt(12),Gi(this),uc(this);break e}}if(this.P){f=!0;let wn;for(;!this.J&&this.C<U.length;)if(wn=ak(this,U),wn==Hg){Ct==4&&(this.s=4,Mt(14),f=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==y0){this.s=4,Mt(15),ns(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else ns(this.i,this.l,wn,null),Gg(this,wn);if(_0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||U.length!=0||this.h.h||(this.s=1,Mt(16),f=!1),this.o=this.o&&f,!f)ns(this.i,this.l,U,"[Invalid Chunked Response]"),Gi(this),uc(this);else if(0<U.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Zg(bt),bt.M=!0,Mt(11))}}else ns(this.i,this.l,U,null),Gg(this,U);Ct==4&&Gi(this),this.o&&!this.J&&(Ct==4?G0(this.j,this):(this.o=!1,jl(this)))}else Ck(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Gi(this),uc(this)}}}catch{}finally{}};function _0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ak(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Hg:(f=Number(d.substring(f,m)),isNaN(f)?y0:(m+=1,m+f>d.length?Hg:(d=d.slice(m,m+f),c.C=m+f,d)))}Jr.prototype.cancel=function(){this.J=!0,Gi(this)};function jl(c){c.S=Date.now()+c.I,E0(c,c.I)}function E0(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ac(g(c.ba,c),d)}function qg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Jr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ok(this.i,this.A),this.L!=2&&(sc(),Mt(17)),Gi(this),this.s=2,uc(this)):E0(this,this.S-c)};function uc(c){c.j.G==0||c.J||G0(c.j,c)}function Gi(c){qg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,c0(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Gg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Wg(f.h,c))){if(!c.K&&Wg(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var D=m;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Kl(f),Gl(f);else break e;Jg(f),Mt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=ac(g(f.Za,f),6e3));if(1>=b0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ki(f,11)}else if((c.K||f.g==c)&&Kl(f),!Q(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let _e=D[d];if(f.T=_e[0],_e=_e[1],f.G==2)if(_e[0]=="c"){f.K=_e[1],f.ia=_e[2];let bt=_e[3];bt!=null&&(f.la=bt,f.j.info("VER="+f.la));let Ct=_e[4];Ct!=null&&(f.Aa=Ct,f.j.info("SVER="+f.Aa));let os=_e[5];os!=null&&typeof os=="number"&&0<os&&(m=1.5*os,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let wn=c.g;if(wn){let Ql=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ql){var N=m.h;N.g||Ql.indexOf("spdy")==-1&&Ql.indexOf("quic")==-1&&Ql.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Kg(N,N.h),N.h=null))}if(m.D){let Xg=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xg&&(m.ya=Xg,Ve(m.I,m.D,Xg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var U=c;if(m.qa=Y0(m,m.J?m.ia:null,m.W),U.K){C0(m.h,U);var xe=U,pt=m.L;pt&&(xe.I=pt),xe.B&&(qg(xe),jl(xe)),m.g=U}else z0(m);0<f.i.length&&Wl(f)}else _e[0]!="stop"&&_e[0]!="close"||Ki(f,7);else f.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Ki(f,7):Qg(f):_e[0]!="noop"&&f.l&&f.l.ta(_e),f.v=0)}}sc(4)}catch{}}var ck=class{constructor(c,d){this.g=c,this.map=d}};function I0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function w0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function b0(c){return c.h?1:c.g?c.g.size:0}function Wg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Kg(c,d){c.g?c.g.add(d):c.h=d}function C0(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}I0.prototype.cancel=function(){if(this.i=T0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function T0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return F(c.i)}function uk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function lk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function D0(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=lk(c),m=uk(c),D=m.length,N=0;N<D;N++)d.call(void 0,m[N],f&&f[N],c)}var S0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dk(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),D=null;if(0<=m){var N=c[f].substring(0,m);D=c[f].substring(m+1)}else N=c[f];d(N,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Wi){this.h=c.h,Bl(this,c.j),this.o=c.o,this.g=c.g,$l(this,c.s),this.l=c.l;var d=c.i,f=new hc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),A0(this,f),this.m=c.m}else c&&(d=String(c).match(S0))?(this.h=!1,Bl(this,d[1]||"",!0),this.o=lc(d[2]||""),this.g=lc(d[3]||"",!0),$l(this,d[4]),this.l=lc(d[5]||"",!0),A0(this,d[6]||"",!0),this.m=lc(d[7]||"")):(this.h=!1,this.i=new hc(null,this.h))}Wi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(dc(d,R0,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(dc(d,R0,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(dc(f,f.charAt(0)=="/"?pk:fk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",dc(f,mk)),c.join("")};function hr(c){return new Wi(c)}function Bl(c,d,f){c.j=f?lc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function $l(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function A0(c,d,f){d instanceof hc?(c.i=d,yk(c.i,c.h)):(f||(d=dc(d,gk)),c.i=new hc(d,c.h))}function Ve(c,d,f){c.i.set(d,f)}function Hl(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function lc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function dc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,hk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var R0=/[#\/\?@]/g,fk=/[#\?:]/g,pk=/[#\?]/g,gk=/[#\?@]/g,mk=/#/g;function hc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Zr(c){c.g||(c.g=new Map,c.h=0,c.i&&dk(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=hc.prototype,n.add=function(c,d){Zr(this),this.i=null,c=rs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function P0(c,d){Zr(c),d=rs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function N0(c,d){return Zr(c),d=rs(c,d),c.g.has(d)}n.forEach=function(c,d){Zr(this),this.g.forEach(function(f,m){f.forEach(function(D){c.call(d,D,m,this)},this)},this)},n.na=function(){Zr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let D=c[m];for(let N=0;N<D.length;N++)f.push(d[m])}return f},n.V=function(c){Zr(this);let d=[];if(typeof c=="string")N0(this,c)&&(d=d.concat(this.g.get(rs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Zr(this),this.i=null,c=rs(this,c),N0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function M0(c,d,f){P0(c,d),0<f.length&&(c.i=null,c.g.set(rs(c,d),F(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let N=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var D=N;U[m]!==""&&(D+="="+encodeURIComponent(String(U[m]))),c.push(D)}}return this.i=c.join("&")};function rs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function yk(c,d){d&&!c.j&&(Zr(c),c.i=null,c.g.forEach(function(f,m){var D=m.toLowerCase();m!=D&&(P0(this,m),M0(this,D,f))},c)),c.j=d}function vk(c,d){let f=new cc;if(a.Image){let m=new Image;m.onload=v(Xr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(Xr,f,"TestLoadImage: error",!1,d,m),m.onabort=v(Xr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(Xr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function _k(c,d){let f=new cc,m=new AbortController,D=setTimeout(()=>{m.abort(),Xr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(N=>{clearTimeout(D),N.ok?Xr(f,"TestPingServer: ok",!0,d):Xr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Xr(f,"TestPingServer: error",!1,d)})}function Xr(c,d,f,m,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),m(f)}catch{}}function Ek(){this.g=new nk}function Ik(c,d,f){let m=f||"";try{D0(c,function(D,N){let U=D;l(D)&&(U=Vg(D)),d.push(m+N+"="+encodeURIComponent(U))})}catch(D){throw d.push(m+"type="+encodeURIComponent("_badmap")),D}}function fc(c){this.l=c.Ub||null,this.j=c.eb||!1}A(fc,Ug),fc.prototype.g=function(){return new zl(this.l,this.j)},fc.prototype.i=(function(c){return function(){return c}})({});function zl(c,d){wt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(zl,wt),n=zl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,gc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gc(this)),this.g&&(this.readyState=3,gc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;x0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function x0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?pc(this):gc(this),this.readyState==3&&x0(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,pc(this))},n.Qa=function(c){this.g&&(this.response=c,pc(this))},n.ga=function(){this.g&&pc(this)};function pc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function gc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function O0(c){let d="";return Re(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Yg(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=O0(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ve(c,d,f))}function He(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(He,wt);var wk=/^https?$/i,bk=["POST","PUT"];n=He.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$g.g(),this.v=this.o?u0(this.o):u0($g),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){k0(this,N);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var D in m)f.set(D,m[D]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bk,d,void 0))||m||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,U]of f)this.g.setRequestHeader(N,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{V0(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){k0(this,N)}};function k0(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,F0(c),ql(c)}function F0(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),ql(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ql(this,!0)),He.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?L0(this):this.bb())},n.bb=function(){L0(this)};function L0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||fr(c)!=4||c.Z()!=2)){if(c.u&&fr(c)==4)o0(c.Ea,0,c);else if(Nt(c,"readystatechange"),fr(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=U===0){var D=String(c.D).match(S0)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),m=!wk.test(D?D.toLowerCase():"")}f=m}if(f)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var N=2<fr(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",F0(c)}}finally{ql(c)}}}}function ql(c,d){if(c.g){V0(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Nt(c,"ready");try{f.onreadystatechange=m}catch{}}}function V0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function fr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),tk(d)}};function U0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ck(c){let d={};c=(c.g&&2<=fr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(Q(c[m]))continue;var f=T(c[m]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[D]||[];d[D]=N,N.push(f)}C(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function j0(c){this.Aa=0,this.i=[],this.j=new cc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mc("baseRetryDelayMs",5e3,c),this.cb=mc("retryDelaySeedMs",1e4,c),this.Wa=mc("forwardChannelMaxRetries",2,c),this.wa=mc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new I0(c&&c.concurrentRequestLimit),this.Da=new Ek,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=j0.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Mt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Y0(this,null,this.W),Wl(this)};function Qg(c){if(B0(c),c.G==3){var d=c.U++,f=hr(c.I);if(Ve(f,"SID",c.K),Ve(f,"RID",d),Ve(f,"TYPE","terminate"),yc(c,f),d=new Jr(c,c.j,d),d.L=2,d.v=Hl(hr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Q0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),jl(d)}K0(c)}function Gl(c){c.g&&(Zg(c),c.g.cancel(),c.g=null)}function B0(c){Gl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Kl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Wl(c){if(!w0(c.h)&&!c.s){c.s=!0;var d=c.Ga;ec||Xb(),tc||(ec(),tc=!0),Rg.add(d,c),c.B=0}}function Tk(c,d){return b0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ac(g(c.Ga,c,d),W0(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Jr(this,this.j,c),N=this.o;if(this.S&&(N?(N=_(N),w(N,this.S)):N=this.S),this.m!==null||this.O||(D.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=H0(this,D,d),f=hr(this.I),Ve(f,"RID",c),Ve(f,"CVER",22),this.D&&Ve(f,"X-HTTP-Session-Id",this.D),yc(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(O0(N)))+"&"+d:this.m&&Yg(f,this.m,N)),Kg(this.h,D),this.Ua&&Ve(f,"TYPE","init"),this.P?(Ve(f,"$req",d),Ve(f,"SID","null"),D.T=!0,zg(D,f,null)):zg(D,f,d),this.G=2}}else this.G==3&&(c?$0(this,c):this.i.length==0||w0(this.h)||$0(this))};function $0(c,d){var f;d?f=d.l:f=c.U++;let m=hr(c.I);Ve(m,"SID",c.K),Ve(m,"RID",f),Ve(m,"AID",c.T),yc(c,m),c.m&&c.o&&Yg(m,c.m,c.o),f=new Jr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=H0(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Kg(c.h,f),zg(f,m,d)}function yc(c,d){c.H&&Re(c.H,function(f,m){Ve(d,m,f)}),c.l&&D0({},function(f,m){Ve(d,m,f)})}function H0(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var D=c.i;let N=-1;for(;;){let U=["count="+f];N==-1?0<f?(N=D[0].g,U.push("ofs="+N)):N=0:U.push("ofs="+N);let xe=!0;for(let pt=0;pt<f;pt++){let _e=D[pt].g,bt=D[pt].map;if(_e-=N,0>_e)N=Math.max(0,D[pt].g-100),xe=!1;else try{Ik(bt,U,"req"+_e+"_")}catch{m&&m(bt)}}if(xe){m=U.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function z0(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ec||Xb(),tc||(ec(),tc=!0),Rg.add(d,c),c.v=0}}function Jg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ac(g(c.Fa,c),W0(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,q0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ac(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Gl(this),q0(this))};function Zg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function q0(c){c.g=new Jr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=hr(c.qa);Ve(d,"RID","rpc"),Ve(d,"SID",c.K),Ve(d,"AID",c.T),Ve(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(d,"TO",c.ja),Ve(d,"TYPE","xmlhttp"),yc(c,d),c.m&&c.o&&Yg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Hl(hr(d)),f.m=null,f.P=!0,v0(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Gl(this),Jg(this),Mt(19))};function Kl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function G0(c,d){var f=null;if(c.g==d){Kl(c),Zg(c),c.g=null;var m=2}else if(Wg(c.h,d))f=d.D,C0(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;m=Ll(),Nt(m,new p0(m,f)),Wl(c)}else z0(c);else if(D=d.s,D==3||D==0&&0<d.X||!(m==1&&Tk(c,d)||m==2&&Jg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function W0(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ki(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let D=!m;m=new Wi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bl(m,"https"),Hl(m),D?vk(m.toString(),f):_k(m.toString(),f)}else Mt(2);c.G=0,c.l&&c.l.sa(d),K0(c),B0(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function K0(c){if(c.G=0,c.ka=[],c.l){let d=T0(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Y0(c,d,f){var m=f instanceof Wi?hr(f):new Wi(f);if(m.g!="")d&&(m.g=d+"."+m.g),$l(m,m.s);else{var D=a.location;m=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var N=new Wi(null);m&&Bl(N,m),d&&(N.g=d),D&&$l(N,D),f&&(N.l=f),m=N}return f=c.D,d=c.ya,f&&d&&Ve(m,f,d),Ve(m,"VER",c.la),yc(c,m),m}function Q0(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new He(new fc({eb:f})):new He(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function J0(){}n=J0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Yl(){}Yl.prototype.g=function(c,d){return new Wt(c,d)};function Wt(c,d){wt.call(this),this.g=new j0(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new is(this)}A(Wt,wt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Qg(this.g)},Wt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Vg(c),c=f);d.i.push(new ck(d.Ya++,c)),d.G==3&&Wl(d)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Qg(this.g),delete this.g,Wt.aa.N.call(this)};function Z0(c){jg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(Z0,jg);function X0(){Bg.call(this),this.status=1}A(X0,Bg);function is(c){this.g=c}A(is,J0),is.prototype.ua=function(){Nt(this.g,"a")},is.prototype.ta=function(c){Nt(this.g,new Z0(c))},is.prototype.sa=function(c){Nt(this.g,new X0)},is.prototype.ra=function(){Nt(this.g,"b")},Yl.prototype.createWebChannel=Yl.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,vI=$r.createWebChannelTransport=function(){return new Yl},yI=$r.getStatEventTarget=function(){return Ll()},mI=$r.Event=qi,ip=$r.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vl.NO_ERROR=0,Vl.TIMEOUT=8,Vl.HTTP_ERROR=6,tl=$r.ErrorCode=Vl,g0.COMPLETE="complete",gI=$r.EventType=g0,l0.EventType=oc,oc.OPEN="a",oc.CLOSE="b",oc.ERROR="c",oc.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Ea=$r.WebChannel=l0,J4=$r.FetchXmlHttpFactory=fc,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,pI=$r.XhrIo=He}).apply(typeof rp<"u"?rp:typeof self<"u"?self:typeof window<"u"?window:{});var PN="@firebase/firestore",NN="4.8.0";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var Ba="11.10.0";var qo=new tr("@firebase/firestore");function Ia(){return qo.logLevel}function $(n,...e){if(qo.logLevel<=fe.DEBUG){let t=e.map(cb);qo.debug(`Firestore (${Ba}): ${n}`,...t)}}function qr(n,...e){if(qo.logLevel<=fe.ERROR){let t=e.map(cb);qo.error(`Firestore (${Ba}): ${n}`,...t)}}function ki(n,...e){if(qo.logLevel<=fe.WARN){let t=e.map(cb);qo.warn(`Firestore (${Ba}): ${n}`,...t)}}function cb(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Y(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,CM(n,r,t)}function CM(n,e,t){let r=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw qr(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||CM(e,i,r)}function ie(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends an{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var dp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ht.UNAUTHENTICATED))}shutdown(){}},CI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},TI=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>y(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new dp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new ht(e)}},DI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},SI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new DI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},AI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Z4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function TM(){return new TextEncoder}var al=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Z4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function he(n,e){return n<e?-1:n>e?1:0}function RI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return he(r,i);{let o=TM(),s=X4(o.encode(MN(n,t)),o.encode(MN(e,t)));return s!==0?s:he(r,i)}}t+=r>65535?2:1}return he(n.length,e.length)}function MN(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function X4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return he(n[t],e[t]);return he(n.length,e.length)}function Ra(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var xN="__name__",fp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Y(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return he(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):RI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}},Be=class n extends fp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},e5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,un=class n extends fp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return e5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xN}static keyField(){return new n([xN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var W=class n{constructor(e){this.path=e}static fromPath(e){return new n(Be.fromString(e))}static fromName(e){return new n(Be.fromString(e).popFirst(5))}static empty(){return new n(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Be(e.slice()))}};function DM(n,e,t){if(!t)throw new B(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function t5(n,e,t,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ON(n){if(!W.isDocumentKey(n))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kN(n){if(W.isDocumentKey(n))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SM(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y(12329,{type:typeof n})}function Pi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=qp(n);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function rt(n,e){let t={typeString:n};return e&&(t.value=e),t}function _l(n,e){if(!SM(n))throw new B(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new B(k.INVALID_ARGUMENT,t);return!0}var FN=-62135596800,LN=1e6,Le=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*LN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<FN)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LN}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_l(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-FN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:rt("string",Le._jsonSchemaVersion),seconds:rt("number"),nanoseconds:rt("number")};var ae=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Le(0,0))}static max(){return new n(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cl=-1,PI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};PI.UNKNOWN_ID=-1;function n5(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Le(t+1,0):new Le(t,r));return new Go(i,W.empty(),e)}function r5(n){return new Go(n.readTime,n.key,cl)}var Go=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ae.min(),W.empty(),cl)}static max(){return new n(ae.max(),W.empty(),cl)}};function i5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=W.comparator(n.documentKey,e.documentKey),t!==0?t:he(n.largestBatchId,e.largestBatchId))}var o5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",NI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function $a(n){return y(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==o5)throw n;$("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function s5(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ha(n){return n.name==="IndexedDbTransactionError"}var ub=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),lb=-1;function Gp(n){return n==null}function ul(n){return n===0&&1/n==-1/0}function a5(n){return typeof n=="number"&&Number.isInteger(n)&&!ul(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var AM="";function c5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VN(e)),e=u5(n.get(t),e);return VN(e)}function u5(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case AM:t+="";break;default:t+=o}}return t}function VN(n){return n+AM+""}var l5="remoteDocuments",RM="owner";var PM="mutationQueues";var NM="mutations";var MM="documentMutations",d5="remoteDocumentsV14";var xM="remoteDocumentGlobal";var OM="targets";var kM="targetDocuments";var FM="targetGlobal",LM="collectionParents";var VM="clientMetadata";var UM="bundles";var jM="namedQueries";var h5="indexConfiguration";var f5="indexState";var p5="indexEntries";var BM="documentOverlays";var g5="globals";var m5=[PM,NM,MM,l5,OM,RM,FM,kM,VM,xM,LM,UM,jM],Rhe=[...m5,BM],y5=[PM,NM,MM,d5,OM,RM,FM,kM,VM,xM,LM,UM,jM,BM],v5=y5,_5=[...v5,h5,f5,p5];var Phe=[..._5,g5];function UN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $M(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ke=class n{constructor(e,t){this.comparator=e,this.root=t||sr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ta(this.root,e,this.comparator,!0)}},Ta=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new sr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class n{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pp(this.data.getIterator())}getIteratorFrom(e){return new pp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},pp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var In=class n{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new n([])}unionWith(e){let t=new ft(un.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var gp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Rt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gp("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Rt.EMPTY_BYTE_STRING=new Rt("");var E5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(n){if(Ae(!!n,39018),typeof n=="string"){let e=0,t=E5.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(n.seconds),nanos:je(n.nanos)}}function je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wr(n){return typeof n=="string"?Rt.fromBase64String(n):Rt.fromUint8Array(n)}var HM="server_timestamp",zM="__type__",qM="__previous_value__",GM="__local_write_time__";function db(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[zM])===null||t===void 0?void 0:t.stringValue)===HM}function Wp(n){let e=n.mapValue.fields[qM];return db(e)?Wp(e):e}function ll(n){let e=Gr(n.mapValue.fields[GM].timestampValue);return new Le(e.seconds,e.nanos)}var MI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},mp="(default)",yp=class n{constructor(e,t){this.projectId=e,this.database=t||mp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===mp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var hb="__type__",WM="__max__",op={mapValue:{fields:{__type__:{stringValue:WM}}}},fb="__vector__",Pa="value";function Fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?db(n)?4:YM(n)?9007199254740991:KM(n)?10:11:Y(28295,{value:n})}function ur(n,e){if(n===e)return!0;let t=Fi(n);if(t!==Fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ll(n).isEqual(ll(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Gr(i.timestampValue),a=Gr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Wr(i.bytesValue).isEqual(Wr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return je(i.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return je(i.integerValue)===je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=je(i.doubleValue),a=je(o.doubleValue);return s===a?ul(s)===ul(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Ra(n.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(UN(s)!==UN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ur(s[u],a[u])))return!1;return!0})(n,e);default:return Y(52216,{left:n})}}function dl(n,e){return(n.values||[]).find(t=>ur(t,e))!==void 0}function Na(n,e){if(n===e)return 0;let t=Fi(n),r=Fi(e);if(t!==r)return he(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return he(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=je(o.integerValue||o.doubleValue),u=je(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return jN(n.timestampValue,e.timestampValue);case 4:return jN(ll(n),ll(e));case 5:return RI(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Wr(o),u=Wr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=he(a[l],u[l]);if(h!==0)return h}return he(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=he(je(o.latitude),je(s.latitude));return a!==0?a:he(je(o.longitude),je(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return BN(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},v=(a=p[Pa])===null||a===void 0?void 0:a.arrayValue,A=(u=g[Pa])===null||u===void 0?void 0:u.arrayValue,F=he(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return F!==0?F:BN(v,A)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===op.mapValue&&s===op.mapValue)return 0;if(o===op.mapValue)return 1;if(s===op.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=RI(u[p],h[p]);if(g!==0)return g;let v=Na(a[u[p]],l[h[p]]);if(v!==0)return v}return he(u.length,h.length)})(n.mapValue,e.mapValue);default:throw Y(23264,{le:t})}}function jN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return he(n,e);let t=Gr(n),r=Gr(e),i=he(t.seconds,r.seconds);return i!==0?i:he(t.nanos,r.nanos)}function BN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Na(t[i],r[i]);if(o)return o}return he(t.length,r.length)}function Ma(n){return xI(n)}function xI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Gr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Wr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return W.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=xI(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${xI(t.fields[s])}`;return i+"}"})(n.mapValue):Y(61005,{value:n})}function cp(n){switch(Fi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Wp(n);return e?16+cp(e):16;case 5:return 2*n.stringValue.length;case 6:return Wr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+cp(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Bi(r.fields,(o,s)=>{i+=o.length+cp(s)}),i})(n.mapValue);default:throw Y(13486,{value:n})}}function $N(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function OI(n){return!!n&&"integerValue"in n}function pb(n){return!!n&&"arrayValue"in n}function HN(n){return!!n&&"nullValue"in n}function zN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function up(n){return!!n&&"mapValue"in n}function KM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[hb])===null||t===void 0?void 0:t.stringValue)===fb}function rl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Bi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function YM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WM}var Mhe={mapValue:{fields:{[hb]:{stringValue:fb},[Pa]:{arrayValue:{}}}}};var cn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!up(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(t)}setAll(e){let t=un.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=rl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());up(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];up(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(rl(this.value))}};function QM(n){let e=[];return Bi(n.fields,(t,r)=>{let i=new un([t]);if(up(r)){let o=QM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new In(e)}var Un=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),cn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ae.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var xa=class{constructor(e,t){this.position=e,this.inclusive=t}};function qN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),t.key):r=Na(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function GN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ur(n.position[t],e.position[t]))return!1;return!0}var Wo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function I5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var vp=class{},nt=class n extends vp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new FI(e,t,r):t==="array-contains"?new UI(e,r):t==="in"?new jI(e,r):t==="not-in"?new BI(e,r):t==="array-contains-any"?new $I(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new LI(e,r):new VI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Na(t,this.value)):t!==null&&Fi(this.value)===Fi(t)&&this.matchesComparison(Na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},jn=class n extends vp{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return JM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function JM(n){return n.op==="and"}function ZM(n){return w5(n)&&JM(n)}function w5(n){for(let e of n.filters)if(e instanceof jn)return!1;return!0}function kI(n){if(n instanceof nt)return n.field.canonicalString()+n.op.toString()+Ma(n.value);if(ZM(n))return n.filters.map(e=>kI(e)).join(",");{let e=n.filters.map(t=>kI(t)).join(",");return`${n.op}(${e})`}}function XM(n,e){return n instanceof nt?(function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&ur(r.value,i.value)})(n,e):n instanceof jn?(function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&XM(s,i.filters[a]),!0):!1})(n,e):void Y(19439)}function ex(n){return n instanceof nt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ma(t.value)}`})(n):n instanceof jn?(function(t){return t.op.toString()+" {"+t.getFilters().map(ex).join(" ,")+"}"})(n):"Filter"}var FI=class extends nt{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){let t=W.comparator(e.key,this.key);return this.matchesComparison(t)}},LI=class extends nt{constructor(e,t){super(e,"in",t),this.keys=tx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},VI=class extends nt{constructor(e,t){super(e,"not-in",t),this.keys=tx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function tx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}var UI=class extends nt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return pb(t)&&dl(t.arrayValue,this.value)}},jI=class extends nt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&dl(this.value.arrayValue,t)}},BI=class extends nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!dl(this.value.arrayValue,t)}},$I=class extends nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!pb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>dl(this.value.arrayValue,r))}};var HI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function WN(n,e=null,t=[],r=[],i=null,o=null,s=null){return new HI(n,e,t,r,i,o,s)}function gb(n){let e=ie(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>kI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Gp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ma(r)).join(",")),e.Pe=t}return e.Pe}function mb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!I5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!GN(n.startAt,e.startAt)&&GN(n.endAt,e.endAt)}function zI(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Li=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function b5(n,e,t,r,i,o,s,a){return new Li(n,e,t,r,i,o,s,a)}function yb(n){return new Li(n)}function KN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nx(n){return n.collectionGroup!==null}function il(n){let e=ie(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ft(un.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Wo(o,r))}),t.has(un.keyField().canonicalString())||e.Te.push(new Wo(un.keyField(),r))}return e.Te}function ar(n){let e=ie(n);return e.Ie||(e.Ie=C5(e,il(n))),e.Ie}function C5(n,e){if(n.limitType==="F")return WN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Wo(i.field,o)});let t=n.endAt?new xa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xa(n.startAt.position,n.startAt.inclusive):null;return WN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qI(n,e){let t=n.filters.concat([e]);return new Li(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function GI(n,e,t){return new Li(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kp(n,e){return mb(ar(n),ar(e))&&n.limitType===e.limitType}function rx(n){return`${gb(ar(n))}|lt:${n.limitType}`}function wa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ex(i)).join(", ")}]`),Gp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ma(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ma(i)).join(",")),`Target(${r})`})(ar(n))}; limitType=${n.limitType})`}function Yp(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of il(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=qN(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,il(r),i)||r.endAt&&!(function(s,a,u){let l=qN(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,il(r),i))})(n,e)}function T5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ix(n){return(e,t)=>{let r=!1;for(let i of il(n)){let o=D5(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function D5(n,e,t){let r=n.field.isKeyField()?W.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Na(u,l):Y(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:n.dir})}}var Kr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return $M(this.inner)}size(){return this.innerSize}};var S5=new Ke(W.comparator);function Yr(){return S5}var ox=new Ke(W.comparator);function nl(...n){let e=ox;for(let t of n)e=e.insert(t.key,t);return e}function sx(n){let e=ox;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bo(){return ol()}function ax(){return ol()}function ol(){return new Kr(n=>n.toString(),(n,e)=>n.isEqual(e))}var A5=new Ke(W.comparator),R5=new ft(W.comparator);function ge(...n){let e=R5;for(let t of n)e=e.add(t);return e}var P5=new ft(he);function N5(){return P5}function vb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ul(e)?"-0":e}}function cx(n){return{integerValue:""+n}}function M5(n,e){return a5(e)?cx(e):vb(n,e)}var Oa=class{constructor(){this._=void 0}};function x5(n,e,t){return n instanceof ka?(function(i,o){let s={fields:{[zM]:{stringValue:HM},[GM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&db(o)&&(o=Wp(o)),o&&(s.fields[qM]=o),{mapValue:s}})(t,e):n instanceof Ko?lx(n,e):n instanceof Yo?dx(n,e):(function(i,o){let s=ux(i,o),a=YN(s)+YN(i.Ee);return OI(s)&&OI(i.Ee)?cx(a):vb(i.serializer,a)})(n,e)}function O5(n,e,t){return n instanceof Ko?lx(n,e):n instanceof Yo?dx(n,e):t}function ux(n,e){return n instanceof Fa?(function(r){return OI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var ka=class extends Oa{},Ko=class extends Oa{constructor(e){super(),this.elements=e}};function lx(n,e){let t=hx(e);for(let r of n.elements)t.some(i=>ur(i,r))||t.push(r);return{arrayValue:{values:t}}}var Yo=class extends Oa{constructor(e){super(),this.elements=e}};function dx(n,e){let t=hx(e);for(let r of n.elements)t=t.filter(i=>!ur(i,r));return{arrayValue:{values:t}}}var Fa=class extends Oa{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function YN(n){return je(n.integerValue||n.doubleValue)}function hx(n){return pb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function k5(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Ko&&i instanceof Ko||r instanceof Yo&&i instanceof Yo?Ra(r.elements,i.elements,ur):r instanceof Fa&&i instanceof Fa?ur(r.Ee,i.Ee):r instanceof ka&&i instanceof ka})(n.transform,e.transform)}var WI=class{constructor(e,t){this.version=e,this.transformResults=t}},zr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function lp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var La=class{};function fx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hl(n.key,zr.none()):new Qo(n.key,n.data,zr.none());{let t=n.data,r=cn.empty(),i=new ft(un.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new lr(n.key,r,new In(i.toArray()),zr.none())}}function F5(n,e,t){n instanceof Qo?(function(i,o,s){let a=i.value.clone(),u=JN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof lr?(function(i,o,s){if(!lp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=JN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(px(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function sl(n,e,t,r){return n instanceof Qo?(function(o,s,a,u){if(!lp(o.precondition,s))return a;let l=o.value.clone(),h=ZN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof lr?(function(o,s,a,u){if(!lp(o.precondition,s))return a;let l=ZN(o.fieldTransforms,u,s),h=s.data;return h.setAll(px(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return lp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function L5(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=ux(r.transform,i||null);o!=null&&(t===null&&(t=cn.empty()),t.set(r.field,o))}return t||null}function QN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ra(r,i,(o,s)=>k5(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Qo=class extends La{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},lr=class extends La{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function px(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function JN(n,e,t){let r=new Map;Ae(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,O5(s,a,t[i]))}return r}function ZN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,x5(o,s,e))}return r}var hl=class extends La{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},KI=class extends La{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var YI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&F5(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=sl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=sl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ax();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=fx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(t,r)=>QN(t,r))&&Ra(this.baseMutations,e.baseMutations,(t,r)=>QN(t,r))}},QI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return A5})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var JI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ZI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var et,ve;function V5(n){switch(n){case k.OK:return Y(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Y(15467,{code:n})}}function gx(n){if(n===void 0)return qr("GRPC error has no .code"),k.UNKNOWN;switch(n){case et.OK:return k.OK;case et.CANCELLED:return k.CANCELLED;case et.UNKNOWN:return k.UNKNOWN;case et.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case et.INTERNAL:return k.INTERNAL;case et.UNAVAILABLE:return k.UNAVAILABLE;case et.UNAUTHENTICATED:return k.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case et.NOT_FOUND:return k.NOT_FOUND;case et.ALREADY_EXISTS:return k.ALREADY_EXISTS;case et.PERMISSION_DENIED:return k.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case et.ABORTED:return k.ABORTED;case et.OUT_OF_RANGE:return k.OUT_OF_RANGE;case et.UNIMPLEMENTED:return k.UNIMPLEMENTED;case et.DATA_LOSS:return k.DATA_LOSS;default:return Y(39323,{code:n})}}(ve=et||(et={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var XN=null;var U5=new Br([4294967295,4294967295],0);function eM(n){let e=TM().encode(n),t=new fI;return t.update(e),new Uint8Array(t.digest())}function tM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Br([t,r],0),new Br([i,o],0)]}var XI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $o(`Invalid padding: ${t}`);if(r<0)throw new $o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $o(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Br.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Br.fromNumber(r)));return i.compare(U5)===1&&(i=new Br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=eM(e),[r,i]=tM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=eM(e),[r,i]=tM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},$o=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _p=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,fl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ae.min(),i,new Ke(he),Yr(),ge())}},fl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var Da=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Ep=class{constructor(e,t){this.targetId=e,this.De=t}},Ip=class{constructor(e,t,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},wp=class{constructor(){this.ve=0,this.Ce=nM(),this.Fe=Rt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ge(),t=ge(),r=ge();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new fl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=nM()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},ew=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Yr(),this.je=sp(),this.Je=sp(),this.He=new Ke(he)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(zI(o))if(r===0){let s=new W(o.path);this.Xe(t,s,Un.newNoDocument(s,ae.min()))}else Ae(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}XN?.ct((function(h,p,g,v,A){var F,x,j,Q,te,Me;let Pt={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Re=p.unchangedNames;return Re&&(Pt.bloomFilter={applied:A===0,hashCount:(F=Re?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(Q=(j=(x=Re?.bits)===null||x===void 0?void 0:x.bitmap)===null||j===void 0?void 0:j.length)!==null&&Q!==void 0?Q:0,padding:(Me=(te=Re?.bits)===null||te===void 0?void 0:te.padding)!==null&&Me!==void 0?Me:0,mightContain:C=>{var _;return(_=v?.mightContain(C))!==null&&_!==void 0&&_}}),Pt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Wr(r).toUint8Array()}catch(u){if(u instanceof gp)return ki("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new XI(s,i,o)}catch(u){return ki(u instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&zI(a.target)){let u=new W(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Un.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ge();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new _p(e,t,this.He,this.ze,r);return this.ze=Yr(),this.je=sp(),this.Je=sp(),this.He=new Ke(he),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new wp,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ft(he),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ft(he),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||$("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new wp),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function sp(){return new Ke(W.comparator)}function nM(){return new Ke(W.comparator)}var j5={asc:"ASCENDING",desc:"DESCENDING"},B5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$5={and:"AND",or:"OR"},tw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function nw(n,e){return n.useProto3Json||Gp(e)?e:{value:e}}function bp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function H5(n,e){return bp(n,e.toTimestamp())}function cr(n){return Ae(!!n,49232),ae.fromTimestamp((function(t){let r=Gr(t);return new Le(r.seconds,r.nanos)})(n))}function _b(n,e){return rw(n,e).canonicalString()}function rw(n,e){let t=(function(i){return new Be(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function yx(n){let e=Be.fromString(n);return Ae(wx(e),10190,{key:e.toString()}),e}function iw(n,e){return _b(n.databaseId,e.path)}function _I(n,e){let t=yx(e);if(t.get(1)!==n.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(_x(t))}function vx(n,e){return _b(n.databaseId,e)}function z5(n){let e=yx(n);return e.length===4?Be.emptyPath():_x(e)}function ow(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _x(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rM(n,e,t){return{name:iw(n,e),fields:t.value.mapValue.fields}}function q5(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ae(h===void 0||typeof h=="string",58123),Rt.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Rt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?k.UNKNOWN:gx(l.code);return new B(h,l.message||"")})(s);t=new Ip(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=_I(n,r.document.name),o=cr(r.document.updateTime),s=r.document.createTime?cr(r.document.createTime):ae.min(),a=new cn({mapValue:{fields:r.document.fields}}),u=Un.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Da(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=_I(n,r.document),o=r.readTime?cr(r.readTime):ae.min(),s=Un.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Da([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=_I(n,r.document),o=r.removedTargetIds||[];t=new Da([],o,i,null)}else{if(!("filter"in e))return Y(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ZI(i,o),a=r.targetId;t=new Ep(a,s)}}return t}function G5(n,e){let t;if(e instanceof Qo)t={update:rM(n,e.key,e.value)};else if(e instanceof hl)t={delete:iw(n,e.key)};else if(e instanceof lr)t={update:rM(n,e.key,e.data),updateMask:tz(e.fieldMask)};else{if(!(e instanceof KI))return Y(16599,{Rt:e.type});t={verify:iw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof ka)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fa)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Y(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:H5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)})(n,e.precondition)),t}function W5(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?cr(i.updateTime):cr(o);return s.isEqual(ae.min())&&(s=cr(o)),new WI(s,i.transformResults||[])})(t,e))):[]}function K5(n,e){return{documents:[vx(n,e.path)]}}function Y5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vx(n,i);let o=(function(l){if(l.length!==0)return Ix(jn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:ba(g.field),direction:Z5(g.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=nw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function Q5(n){let e=z5(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ae(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let g=Ex(p);return g instanceof jn&&ZM(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(A){return new Wo(Ca(A.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Gp(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,v=p.values||[];return new xa(v,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,v=p.values||[];return new xa(v,g)})(t.endAt)),b5(e,i,s,o,a,"F",u,l)}function J5(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ex(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ca(t.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ca(t.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ca(t.unaryFilter.field);return nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ca(t.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}})(n):n.fieldFilter!==void 0?(function(t){return nt.create(Ca(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return jn.create(t.compositeFilter.filters.map(r=>Ex(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}})(t.compositeFilter.op))})(n):Y(30097,{filter:n})}function Z5(n){return j5[n]}function X5(n){return B5[n]}function ez(n){return $5[n]}function ba(n){return{fieldPath:n.canonicalString()}}function Ca(n){return un.fromServerFormat(n.fieldPath)}function Ix(n){return n instanceof nt?(function(t){if(t.op==="=="){if(zN(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NAN"}};if(HN(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zN(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NAN"}};if(HN(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(t.field),op:X5(t.op),value:t.value}}})(n):n instanceof jn?(function(t){let r=t.getFilters().map(i=>Ix(i));return r.length===1?r[0]:{compositeFilter:{op:ez(t.op),filters:r}}})(n):Y(54877,{filter:n})}function tz(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var pl=class n{constructor(e,t,r,i,o=ae.min(),s=ae.min(),a=Rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var sw=class{constructor(e){this.gt=e}};function nz(n){let e=Q5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?GI(e,e.limit,"L"):e}var Cp=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),ul(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Gr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Wr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?YM(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):KM(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Y(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Pa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(je(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),W.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Cp.Ut=new Cp;var aw=class{constructor(){this.Dn=new cw}addToCollectionParentIndex(e,t){return this.Dn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Go.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},cw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ft(Be.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(Be.comparator)).toArray()}};var xhe=new Uint8Array(0);var iM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bx=41943040,En=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(bx,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);var gl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var oM="LruGarbageCollector",rz=1048576;function sM([n,e],[t,r]){let i=he(n,t);return i===0?he(e,r):i}var uw=class{constructor(e){this.Tr=e,this.buffer=new ft(sM),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();sM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},lw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){$(oM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>y(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ha(t)?$(oM,"Ignoring IndexedDB error during garbage collection: ",t):yield $a(t)}yield this.Rr(3e5)}))}},dw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return V.resolve(ub.ue);let r=new uw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(iM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iM):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ia()<=fe.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function iz(n,e){return new dw(n,e)}var hw=class{constructor(){this.changes=new Kr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var pw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&sl(r.mutation,i,In.empty(),Le.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=Bo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=nl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Bo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Yr(),s=ol(),a=(function(){return ol()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof lr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),sl(h.mutation,l,h.mutation.getFieldMask(),Le.now())):s.set(l.key,In.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new fw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ol(),i=new Ke((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||In.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=ax();h.forEach(g=>{if(!o.has(g)){let v=fx(t.get(g),r.get(g));v!==null&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):V.resolve(Bo()),a=cl,u=o;return s.next(l=>V.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:sx(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=nl();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,u=>{let l=(function(p,g){return new Li(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Un.newInvalidDocument(h)))});let a=nl();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&sl(h.mutation,l,In.empty(),Le.now()),Yp(t,l)&&(a=a.insert(u,l))}),a})}};var gw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return V.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:cr(i.createTime)}})(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:nz(i.bundledQuery),readTime:cr(i.readTime)}})(t)),V.resolve()}};var mw=class{constructor(){this.overlays=new Ke(W.comparator),this.kr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Bo();return V.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=Bo(),o=t.length+1,s=new W(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ke((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Bo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Bo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return V.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new JI(t,r));let o=this.kr.get(t);o===void 0&&(o=ge(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var yw=class{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var ml=class{constructor(){this.qr=new ft(tt.Qr),this.$r=new ft(tt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new tt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new tt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new W(new Be([])),r=new tt(t,e),i=new tt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new W(new Be([])),r=new tt(t,e),i=new tt(t,e+1),o=ge();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new tt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},tt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return W.comparator(e.key,t.key)||he(e.Hr,t.Hr)}static Ur(e,t){return he(e.Hr,t.Hr)||W.comparator(e.key,t.key)}};var vw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ft(tt.Qr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new YI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new tt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?lb:this.er-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new tt(t,0),i=new tt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ft(he);return t.forEach(i=>{let o=new tt(i,0),s=new tt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),V.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new tt(new W(o),0),a=new ft(he);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),V.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return V.forEach(t.mutations,i=>{let o=new tt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new tt(t,0),i=this.Yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var _w=class{constructor(e){this.ni=e,this.docs=(function(){return new Ke(W.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let r=Yr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Un.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Yr(),s=t.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||i5(r5(h),r)<=0||(i.has(h.key)||Yp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Y(9500)}ri(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ew(this)}getSize(e){return V.resolve(this.size)}},Ew=class extends hw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Iw=class{constructor(e){this.persistence=e,this.ii=new Kr(t=>gb(t),mb),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.si=0,this.oi=new ml,this.targetCount=0,this._i=gl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),V.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.hr(t),V.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.oi.containsKey(t))}};var Tp=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new ub(0),this.ci=!1,this.ci=!0,this.li=new yw,this.referenceDelegate=e(this),this.hi=new Iw(this),this.indexManager=new aw,this.remoteDocumentCache=(function(i){return new _w(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new sw(t),this.Ti=new gw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new vw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){$("MemoryPersistence","Starting transaction:",e);let i=new ww(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return V.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},ww=class extends NI{constructor(e){super(),this.currentSequenceNumber=e}},bw=class n{constructor(e){this.persistence=e,this.Ai=new ml,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw Y(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),V.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ae.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return V.or([()=>V.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Dp=class n{constructor(e,t){this.persistence=e,this.gi=new Kr(r=>c5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=iz(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return V.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return V.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?V.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ae.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cp(e.data.value)),t}Sr(e,t,r){return V.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Cw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ge(),i=ge();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Tw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Dw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return lR()?8:s5(dt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Tw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ia()<=fe.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),V.resolve()):(Ia()<=fe.DEBUG&&$("QueryEngine","Query:",wa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ia()<=fe.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(t))):V.resolve())}ps(e,t){if(KN(t))return V.resolve(null);let r=ar(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=GI(t,null,"F"),r=ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,GI(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return KN(t)||i.isEqual(ae.min())?V.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?V.resolve(null):(Ia()<=fe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wa(t)),this.vs(e,s,t,n5(i,cl)).next(a=>a))})}bs(e,t){let r=new ft(ix(e));return t.forEach((i,o)=>{Yp(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ia()<=fe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",wa(t)),this.gs.getDocumentsMatchingQuery(e,t,Go.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Eb="LocalStore",oz=3e8,Sw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ke(he),this.Ms=new Kr(o=>gb(o),mb),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function sz(n,e,t,r){return new Sw(n,e,t,r)}function Cx(n,e){return y(this,null,function*(){let t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function az(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),v=V.resolve();return g.forEach(A=>{v=v.next(()=>h.getEntry(u,A)).next(F=>{let x=l.docVersions.get(A);Ae(x!==null,48541),F.version.compareTo(x)<0&&(p.applyToRemoteDocument(F,l),F.isValidDocument()&&(F.setReadTime(l.commitVersion),h.addEntry(F)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Tx(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function cz(n,e){let t=ie(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Rt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),(function(F,x,j){return F.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=oz?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(g,v,h)&&a.push(t.hi.updateTargetData(o,v))});let u=Yr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(uz(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ae.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function uz(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Yr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):$(Eb,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function lz(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=lb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dz(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new pl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Aw(n,e,t){return y(this,null,function*(){let r=ie(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ha(s))throw s;$(Eb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function aM(n,e,t){let r=ie(n),i=ae.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=ie(u),g=p.Ms.get(h);return g!==void 0?V.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)})(r,s,ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ae.min(),t?o:ge())).next(a=>(hz(r,T5(e),a),{documents:a,qs:o})))}function hz(n,e,t){let r=n.xs.get(e)||ae.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Sp=class{constructor(){this.activeTargetIds=N5()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Rw=class{constructor(){this.Fo=new Sp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Sp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Pw=class{xo(e){}shutdown(){}};var cM="ConnectivityMonitor",Ap=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){$(cM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){$(cM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ap=null;function Nw(){return ap===null?ap=(function(){return 268435456+Math.round(2147483648*Math.random())})():ap++,"0x"+ap.toString(16)}var EI="RestConnection",fz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Mw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===mp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Nw(),a=this.Go(e,t.toUriEncodedString());$(EI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=_i(l);return this.jo(e,a,u,r,h).then(p=>($(EI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ki(EI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ba})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=fz[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var xw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var At="WebChannelConnection",Ow=class extends Mw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Nw();return new Promise((a,u)=>{let l=new pI;l.setWithCredentials(!0),l.listenOnce(gI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tl.NO_ERROR:let p=l.getResponseJson();$(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case tl.TIMEOUT:$(At,`RPC '${e}' ${s} timed out`),u(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case tl.HTTP_ERROR:let g=l.getStatus();if($(At,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let A=v?.error;if(A&&A.status&&A.message){let F=(function(j){let Q=j.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(Q)>=0?Q:k.UNKNOWN})(A.status);u(new B(F,A.message))}else u(new B(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new B(k.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{$(At,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);$(At,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=Nw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vI(),a=yI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");$(At,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,v=!1,A=new xw({Ho:x=>{v?$(At,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||($(At,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),$(At,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Yo:()=>p.close()}),F=(x,j,Q)=>{x.listen(j,te=>{try{Q(te)}catch(Me){setTimeout(()=>{throw Me},0)}})};return F(p,Ea.EventType.OPEN,()=>{v||($(At,`RPC '${e}' stream ${i} transport opened.`),A.s_())}),F(p,Ea.EventType.CLOSE,()=>{v||(v=!0,$(At,`RPC '${e}' stream ${i} transport closed`),A.__(),this.I_(p))}),F(p,Ea.EventType.ERROR,x=>{v||(v=!0,ki(At,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),A.__(new B(k.UNAVAILABLE,"The operation could not be completed")))}),F(p,Ea.EventType.MESSAGE,x=>{var j;if(!v){let Q=x.data[0];Ae(!!Q,16349);let te=Q,Me=te?.error||((j=te[0])===null||j===void 0?void 0:j.error);if(Me){$(At,`RPC '${e}' stream ${i} received error:`,Me);let Pt=Me.status,Re=(function(I){let w=et[I];if(w!==void 0)return gx(w)})(Pt),C=Me.message;Re===void 0&&(Re=k.INTERNAL,C="Unknown error status: "+Pt+" with message "+Me.message),v=!0,A.__(new B(Re,C)),p.close()}else $(At,`RPC '${e}' stream ${i} received:`,Q),A.a_(Q)}}),F(a,mI.STAT_EVENT,x=>{x.stat===ip.PROXY?$(At,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===ip.NOPROXY&&$(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function II(){return typeof document<"u"?document:null}function Qp(n){return new tw(n,!0)}var Rp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var uM="PersistentStream",Pp=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Rp(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return y(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return y(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return y(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>y(this,null,function*(){this.state=0,this.start()}))}G_(e){return $(uM,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():($(uM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kw=class extends Pp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=q5(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?cr(s.readTime):ae.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=ow(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=zI(u)?{documents:K5(o,u)}:{query:Y5(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=mx(o,s.resumeToken);let l=nw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=bp(o,s.snapshotVersion.toTimestamp());let l=nw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=J5(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=ow(this.serializer),t.removeTarget=e,this.k_(t)}},Fw=class extends Pp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=W5(e.writeResults,e.commitTime),r=cr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=ow(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>G5(this.serializer,r))};this.k_(t)}};var Lw=class{},Vw=class extends Lw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,rw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,rw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Uw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(qr(t),this._a=!1):$("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Jo="RemoteStore",jw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>y(this,null,function*(){Xo(this)&&($(Jo,"Restarting streams for network reachability change."),yield(function(u){return y(this,null,function*(){let l=ie(u);l.Ia.add(4),yield El(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Jp(l)})})(this))}))}),this.Aa=new Uw(r,i)}};function Jp(n){return y(this,null,function*(){if(Xo(n))for(let e of n.da)yield e(!0)})}function El(n){return y(this,null,function*(){for(let e of n.da)yield e(!1)})}function Dx(n,e){let t=ie(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Cb(t)?bb(t):za(t).x_()&&wb(t,e))}function Ib(n,e){let t=ie(n),r=za(t);t.Ta.delete(e),r.x_()&&Sx(t,e),t.Ta.size===0&&(r.x_()?r.B_():Xo(t)&&t.Aa.set("Unknown"))}function wb(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}za(n).H_(e)}function Sx(n,e){n.Ra.$e(e),za(n).Y_(e)}function bb(n){n.Ra=new ew({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),za(n).start(),n.Aa.aa()}function Cb(n){return Xo(n)&&!za(n).M_()&&n.Ta.size>0}function Xo(n){return ie(n).Ia.size===0}function Ax(n){n.Ra=void 0}function pz(n){return y(this,null,function*(){n.Aa.set("Online")})}function gz(n){return y(this,null,function*(){n.Ta.forEach((e,t)=>{wb(n,e)})})}function mz(n,e){return y(this,null,function*(){Ax(n),Cb(n)?(n.Aa.la(e),bb(n)):n.Aa.set("Unknown")})}function yz(n,e,t){return y(this,null,function*(){if(n.Aa.set("Online"),e instanceof Ip&&e.state===2&&e.cause)try{yield(function(i,o){return y(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){$(Jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Np(n,r)}else if(e instanceof Da?n.Ra.Ye(e):e instanceof Ep?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ae.min()))try{let r=yield Tx(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),Sx(o,u);let p=new pl(h.target,u,l,h.sequenceNumber);wb(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){$(Jo,"Failed to raise snapshot:",r),yield Np(n,r)}})}function Np(n,e,t){return y(this,null,function*(){if(!Ha(e))throw e;n.Ia.add(1),yield El(n),n.Aa.set("Offline"),t||(t=()=>Tx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>y(null,null,function*(){$(Jo,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Jp(n)}))})}function Rx(n,e){return e().catch(t=>Np(n,t,e))}function Zp(n){return y(this,null,function*(){let e=ie(n),t=Vi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:lb;for(;vz(e);)try{let i=yield lz(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,_z(e,i)}catch(i){yield Np(e,i)}Px(e)&&Nx(e)})}function vz(n){return Xo(n)&&n.Pa.length<10}function _z(n,e){n.Pa.push(e);let t=Vi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function Px(n){return Xo(n)&&!Vi(n).M_()&&n.Pa.length>0}function Nx(n){Vi(n).start()}function Ez(n){return y(this,null,function*(){Vi(n).na()})}function Iz(n){return y(this,null,function*(){let e=Vi(n);for(let t of n.Pa)e.X_(t.mutations)})}function wz(n,e,t){return y(this,null,function*(){let r=n.Pa.shift(),i=QI.from(r,e,t);yield Rx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Zp(n)})}function bz(n,e){return y(this,null,function*(){e&&Vi(n).Z_&&(yield(function(r,i){return y(this,null,function*(){if((function(s){return V5(s)&&s!==k.ABORTED})(i.code)){let o=r.Pa.shift();Vi(r).N_(),yield Rx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Zp(r)}})})(n,e)),Px(n)&&Nx(n)})}function lM(n,e){return y(this,null,function*(){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),$(Jo,"RemoteStore received new credentials");let r=Xo(t);t.Ia.add(3),yield El(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Jp(t)})}function Cz(n,e){return y(this,null,function*(){let t=ie(n);e?(t.Ia.delete(2),yield Jp(t)):e||(t.Ia.add(2),yield El(t),t.Aa.set("Unknown"))})}function za(n){return n.Va||(n.Va=(function(t,r,i){let o=ie(t);return o.ia(),new kw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:pz.bind(null,n),e_:gz.bind(null,n),n_:mz.bind(null,n),J_:yz.bind(null,n)}),n.da.push(e=>y(null,null,function*(){e?(n.Va.N_(),Cb(n)?bb(n):n.Aa.set("Unknown")):(yield n.Va.stop(),Ax(n))}))),n.Va}function Vi(n){return n.ma||(n.ma=(function(t,r,i){let o=ie(t);return o.ia(),new Fw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Ez.bind(null,n),n_:bz.bind(null,n),ea:Iz.bind(null,n),ta:wz.bind(null,n)}),n.da.push(e=>y(null,null,function*(){e?(n.ma.N_(),yield Zp(n)):(yield n.ma.stop(),n.Pa.length>0&&($(Jo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var Bw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Tb(n,e){if(qr("AsyncQueue",`${e}: ${n}`),Ha(n))return new B(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Mp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=nl(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var xp=class{constructor(){this.fa=new Ke(W.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Y(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Va=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Mp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var $w=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Hw=class{constructor(){this.queries=dM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=dM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new B(k.ABORTED,"Firestore shutting down"))}};function dM(){return new Kr(n=>rx(n),Kp)}function Tz(n,e){return y(this,null,function*(){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new $w,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Tb(s,`Initialization of query '${wa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&Db(t)})}function Dz(n,e){return y(this,null,function*(){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Sz(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&Db(t)}function Az(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function Db(n){n.Da.forEach(e=>{e.next()})}var zw,hM;(hM=zw||(zw={})).Fa="default",hM.Cache="cache";var qw=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==zw.Cache}};var Op=class{constructor(e){this.key=e}},kp=class{constructor(e){this.key=e}},Gw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ge(),this.mutatedKeys=ge(),this.Xa=ix(e),this.eu=new Mp(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new xp,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),v=Yp(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),F=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),x=!1;g&&v?g.data.isEqual(v.data)?A!==F&&(r.track({type:3,doc:v}),x=!0):this.iu(g,v)||(r.track({type:2,doc:v}),x=!0,(u&&this.Xa(v,u)>0||l&&this.Xa(v,l)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),x=!0):g&&!v&&(r.track({type:1,doc:g}),x=!0,(u||l)&&(a=!0)),x&&(v?(s=s.add(v),o=F?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(v,A){let F=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{At:x})}};return F(v)-F(A)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Va(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new xp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ge(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new kp(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Op(r))}),t}uu(e){this.Ha=e.qs,this.Za=ge();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Va.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Sb="SyncEngine",Ww=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Kw=class{constructor(e){this.key=e,this.lu=!1}},Yw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Kr(a=>rx(a),Kp),this.Tu=new Map,this.Iu=new Set,this.du=new Ke(W.comparator),this.Eu=new Map,this.Au=new ml,this.Ru={},this.Vu=new Map,this.mu=gl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Rz(n,e,t=!0){return y(this,null,function*(){let r=Lx(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield Mx(r,e,t,!0),i})}function Pz(n,e){return y(this,null,function*(){let t=Lx(n);yield Mx(t,e,!0,!1)})}function Mx(n,e,t,r){return y(this,null,function*(){let i=yield dz(n.localStore,ar(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Nz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Dx(n.remoteStore,i),a})}function Nz(n,e,t,r,i){return y(this,null,function*(){n.gu=(p,g,v)=>(function(F,x,j,Q){return y(this,null,function*(){let te=x.view.nu(j);te.Ds&&(te=yield aM(F.localStore,x.query,!1).then(({documents:C})=>x.view.nu(C,te)));let Me=Q&&Q.targetChanges.get(x.targetId),Pt=Q&&Q.targetMismatches.get(x.targetId)!=null,Re=x.view.applyChanges(te,F.isPrimaryClient,Me,Pt);return pM(F,x.targetId,Re._u),Re.snapshot})})(n,p,g,v);let o=yield aM(n.localStore,e,!0),s=new Gw(e,o.qs),a=s.nu(o.documents),u=fl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);pM(n,t,l._u);let h=new Ww(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function Mz(n,e,t){return y(this,null,function*(){let r=ie(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Kp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Aw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ib(r.remoteStore,i.targetId),Qw(r,i.targetId)}).catch($a))):(Qw(r,i.targetId),yield Aw(r.localStore,i.targetId,!0))})}function xz(n,e){return y(this,null,function*(){let t=ie(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ib(t.remoteStore,r.targetId))})}function Oz(n,e,t){return y(this,null,function*(){let r=Bz(n);try{let i=yield(function(s,a){let u=ie(s),l=Le.now(),h=a.reduce((v,A)=>v.add(A.key),ge()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=Yr(),F=ge();return u.Os.getEntries(v,h).next(x=>{A=x,A.forEach((j,Q)=>{Q.isValidDocument()||(F=F.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,A)).next(x=>{p=x;let j=[];for(let Q of a){let te=L5(Q,p.get(Q.key).overlayedDocument);te!=null&&j.push(new lr(Q.key,te,QM(te.value.mapValue),zr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,j,a)}).next(x=>{g=x;let j=x.applyToLocalDocumentSet(p,F);return u.documentOverlayCache.saveOverlays(v,x.batchId,j)})}).then(()=>({batchId:g.batchId,changes:sx(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ke(he)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Il(r,i.changes),yield Zp(r.remoteStore)}catch(i){let o=Tb(i,"Failed to persist write");t.reject(o)}})}function xx(n,e){return y(this,null,function*(){let t=ie(n);try{let r=yield cz(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ae(s.lu,14607):i.removedDocuments.size>0&&(Ae(s.lu,42227),s.lu=!1))}),yield Il(t,r,e)}catch(r){yield $a(r)}})}function fM(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=ie(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&Db(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kz(n,e,t){return y(this,null,function*(){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ke(W.comparator);s=s.insert(o,Un.newNoDocument(o,ae.min()));let a=ge().add(o),u=new _p(ae.min(),new Map,new Ke(he),s,a);yield xx(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Ab(r)}else yield Aw(r.localStore,e,!1).then(()=>Qw(r,e,t)).catch($a)})}function Fz(n,e){return y(this,null,function*(){let t=ie(n),r=e.batch.batchId;try{let i=yield az(t.localStore,e);kx(t,r,null),Ox(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Il(t,i)}catch(i){yield $a(i)}})}function Lz(n,e,t){return y(this,null,function*(){let r=ie(n);try{let i=yield(function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ae(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);kx(r,e,t),Ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Il(r,i)}catch(i){yield $a(i)}})}function Ox(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function kx(n,e,t){let r=ie(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Qw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||Fx(n,r)})}function Fx(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(Ib(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Ab(n))}function pM(n,e,t){for(let r of t)r instanceof Op?(n.Au.addReference(r.key,e),Vz(n,r)):r instanceof kp?($(Sb,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||Fx(n,r.key)):Y(19791,{yu:r})}function Vz(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||($(Sb,"New document in limbo: "+t),n.Iu.add(r),Ab(n))}function Ab(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new W(Be.fromString(e)),r=n.mu.next();n.Eu.set(r,new Kw(t)),n.du=n.du.insert(t,r),Dx(n.remoteStore,new pl(ar(yb(t.path)),r,"TargetPurposeLimboResolution",ub.ue))}}function Il(n,e,t){return y(this,null,function*(){let r=ie(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Cw.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return y(this,null,function*(){let h=ie(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(l,g=>V.forEach(g.Is,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>V.forEach(g.ds,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Ha(p))throw p;$(Eb,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let v=h.Fs.get(g),A=v.snapshotVersion,F=v.withLastLimboFreeSnapshotVersion(A);h.Fs=h.Fs.insert(g,F)}}})})(r.localStore,o))})}function Uz(n,e){return y(this,null,function*(){let t=ie(n);if(!t.currentUser.isEqual(e)){$(Sb,"User change. New user:",e.toKey());let r=yield Cx(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new B(k.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Il(t,r.Bs)}})}function jz(n,e){let t=ie(n),r=t.Eu.get(e);if(r&&r.lu)return ge().add(r.key);{let i=ge(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function Lx(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kz.bind(null,e),e.hu.J_=Sz.bind(null,e.eventManager),e.hu.pu=Az.bind(null,e.eventManager),e}function Bz(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lz.bind(null,e),e}var Vx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return y(this,null,function*(){this.serializer=Qp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return sz(this.persistence,new Dw,t.initialUser,this.serializer)}Du(t){return new Tp(bw.Vi,this.serializer)}bu(t){return new Rw}terminate(){return y(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Jw=class extends Vx{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ae(this.persistence.referenceDelegate instanceof Dp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new lw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Tp(r=>Dp.Vi(r,t),this.serializer)}};var $z=(()=>{class n{initialize(t,r){return y(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uz.bind(null,this.syncEngine),yield Cz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new Hw})()}createDatastore(t){let r=Qp(t.databaseInfo.databaseId),i=(function(s){return new Ow(s)})(t.databaseInfo);return(function(s,a,u,l){return new Vw(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new jw(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>fM(this.syncEngine,r,0),(function(){return Ap.C()?new Ap:new Pw})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let g=new Yw(o,s,a,u,l,h);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return y(this,null,function*(){var t,r;yield(function(o){return y(this,null,function*(){let s=ie(o);$(Jo,"RemoteStore shutting down."),s.Ia.add(5),yield El(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Zw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ui="FirestoreClient",Xw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=al.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>y(this,null,function*(){$(Ui,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>($(Ui,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Tb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wI(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),$(Ui,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>y(null,null,function*(){r.isEqual(i)||(yield Cx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ki("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{$("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ki("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function gM(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Hz(n);$(Ui,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>lM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>lM(e.remoteStore,i)),n._onlineComponents=e})}function Hz(n){return y(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$(Ui,"Using user provided OfflineComponentProvider");try{yield wI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ki("Error using user provided cache. Falling back to memory cache: "+t),yield wI(n,new Vx)}}else $(Ui,"Using default OfflineComponentProvider"),yield wI(n,new Jw(void 0));return n._offlineComponents})}function Ux(n){return y(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?($(Ui,"Using user provided OnlineComponentProvider"),yield gM(n,n._uninitializedComponentsProvider._online)):($(Ui,"Using default OnlineComponentProvider"),yield gM(n,new $z))),n._onlineComponents})}function zz(n){return Ux(n).then(e=>e.syncEngine)}function mM(n){return y(this,null,function*(){let e=yield Ux(n),t=e.eventManager;return t.onListen=Rz.bind(null,e.syncEngine),t.onUnlisten=Mz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Pz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xz.bind(null,e.syncEngine),t})}function jx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var yM=new Map;var Bx="firestore.googleapis.com",vM=!0,Fp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bx,this.ssl=vM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:vM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rz)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ua=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new bI;switch(r.type){case"firstParty":return new SI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return y(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=yM.get(t);r&&($("ComponentProvider","Removing Datastore"),yM.delete(t),r.terminate())})(this),Promise.resolve()}};function $x(n,e,t,r={}){var i;n=Pi(n,Ua);let o=_i(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(yf(`https://${u}`),vf("Firestore",!0)),s.host!==Bx&&s.host!==u&&ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!er(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ht.MOCK_USER;else{h=iR(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ht(g)}n._authCredentials=new CI(new dp(h,p))}}var Zo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Et=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(_l(t,n._jsonSchema))return new n(e,r||null,new W(Be.fromString(t.referencePath)))}};Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:rt("string",Et._jsonSchemaVersion),referencePath:rt("string")};var Ni=class n extends Zo{constructor(e,t,r){super(e,t,yb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new W(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Hx(n,e,...t){if(n=Ge(n),DM("collection","path",e),n instanceof Ua){let r=Be.fromString(e,...t);return kN(r),new Ni(n,null,r)}{if(!(n instanceof Et||n instanceof Ni))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return kN(r),new Ni(n.firestore,null,r)}}function Rb(n,e,...t){if(n=Ge(n),arguments.length===1&&(e=al.newId()),DM("doc","path",e),n instanceof Ua){let r=Be.fromString(e,...t);return ON(r),new Et(n,null,new W(r))}{if(!(n instanceof Et||n instanceof Ni))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return ON(r),new Et(n.firestore,n instanceof Ni?n.converter:null,new W(r))}}var _M="AsyncQueue",Lp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Rp(this,"async_queue_retry"),this.oc=()=>{let r=II();r&&$(_M,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=II();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=II();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Hr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return y(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ha(e))throw e;$(_M,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,qr("INTERNAL UNHANDLED ERROR: ",EM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Bw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Y(47125,{hc:EM(this.tc)})}verifyOperationInProgress(){}Pc(){return y(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function EM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function IM(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var ji=class extends Ua{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Lp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return y(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lp(e),this._firestoreClient=void 0,yield e}})}};function zx(n,e){let t=typeof n=="object"?n:Ro(),r=typeof n=="string"?n:e||mp,i=la(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=rR("firestore");o&&$x(i,...o)}return i}function qx(n){if(n._terminated)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qz(n),n._firestoreClient}function qz(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new MI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Xw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var Mi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Rt.fromBase64String(e))}catch(t){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_l(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:rt("string",Mi._jsonSchemaVersion),bytes:rt("string")};var ja=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yl=class{constructor(e){this._methodName=e}};var xi=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(_l(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:rt("string",xi._jsonSchemaVersion),latitude:rt("number"),longitude:rt("number")};var Oi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_l(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new B(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:rt("string",Oi._jsonSchemaVersion),vectorValues:rt("object")};var Gz=/^__.*__$/,eb=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new lr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qo(e,this.data,t,this.fieldTransforms)}},Vp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new lr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Gx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ec:n})}}var tb=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return jp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Gx(this.Ec)&&Gz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},nb=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qp(e)}Dc(e,t,r,i=!1){return new tb({Ec:e,methodName:t,bc:r,path:un.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Pb(n){let e=n._freezeSettings(),t=Qp(n._databaseId);return new nb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Wz(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);Nb("Data must be an object, but it was:",s,r);let a=Wx(r,s),u,l;if(o.merge)u=new In(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=rb(e,p,t);if(!s.contains(g))throw new B(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Yx(h,g)||h.push(g)}u=new In(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new eb(new cn(a),u,l)}var Up=class n extends yl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Kz(n,e,t,r){let i=n.Dc(1,e,t);Nb("Data must be an object, but it was:",i,r);let o=[],s=cn.empty();Bi(r,(u,l)=>{let h=Mb(e,u,t);l=Ge(l);let p=i.gc(h);if(l instanceof Up)o.push(h);else{let g=wl(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new In(o);return new Vp(s,a,i.fieldTransforms)}function Yz(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[rb(e,r,t)],u=[i];if(o.length%2!=0)throw new B(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(rb(e,o[g])),u.push(o[g+1]);let l=[],h=cn.empty();for(let g=a.length-1;g>=0;--g)if(!Yx(l,a[g])){let v=a[g],A=u[g];A=Ge(A);let F=s.gc(v);if(A instanceof Up)l.push(v);else{let x=wl(A,F);x!=null&&(l.push(v),h.set(v,x))}}let p=new In(l);return new Vp(h,p,s.fieldTransforms)}function Qz(n,e,t,r=!1){return wl(t,n.Dc(r?4:3,e))}function wl(n,e){if(Kx(n=Ge(n)))return Nb("Unsupported field value:",e,n),Wx(n,e);if(n instanceof yl)return(function(r,i){if(!Gx(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=wl(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Le.fromDate(r);return{timestampValue:bp(i.serializer,o)}}if(r instanceof Le){let o=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bp(i.serializer,o)}}if(r instanceof xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mi)return{bytesValue:mx(i.serializer,r._byteString)};if(r instanceof Et){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_b(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Oi)return(function(s,a){return{mapValue:{fields:{[hb]:{stringValue:fb},[Pa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return vb(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${qp(r)}`)})(n,e)}function Wx(n,e){let t={};return $M(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(n,(r,i)=>{let o=wl(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Kx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Le||n instanceof xi||n instanceof Mi||n instanceof Et||n instanceof yl||n instanceof Oi)}function Nb(n,e,t){if(!Kx(t)||!SM(t)){let r=qp(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function rb(n,e,t){if((e=Ge(e))instanceof ja)return e._internalPath;if(typeof e=="string")return Mb(n,e);throw jp("Field path arguments must be of type string or ",n,!1,void 0,t)}var Jz=new RegExp("[~\\*/\\[\\]]");function Mb(n,e,t){if(e.search(Jz)>=0)throw jp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ja(...e.split("."))._internalPath}catch{throw jp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(k.INVALID_ARGUMENT,a+n+u)}function Yx(n,e){return n.some(t=>t.isEqual(e))}var Bp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ib(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Xp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ib=class extends Bp{data(){return super.data()}};function Xp(n,e){return typeof e=="string"?Mb(n,e):e instanceof ja?e._internalPath:e._delegate._internalPath}function Zz(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vl=class{},$p=class extends vl{};function Qx(n,e,...t){let r=[];e instanceof vl&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof ob).length,a=o.filter(u=>u instanceof Hp).length;if(s>1||s>0&&a>0)throw new B(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Hp=class n extends $p{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Xx(e._query,t),new Zo(e.firestore,e.converter,qI(e._query,t))}_parse(e){let t=Pb(e.firestore);return(function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new B(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){bM(p,h);let A=[];for(let F of p)A.push(wM(u,o,F));g={arrayValue:{values:A}}}else g=wM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||bM(p,h),g=Qz(a,s,p,h==="in"||h==="not-in");return nt.create(l,h,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Jx(n,e,t){let r=e,i=Xp("where",n);return Hp._create(i,r,t)}var ob=class n extends vl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:jn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Xx(s,u),s=qI(s,u)})(e._query,t),new Zo(e.firestore,e.converter,qI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var sb=class n extends $p{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wo(o,s)})(e._query,this._field,this._direction);return new Zo(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Li(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function Zx(n,e="asc"){let t=e,r=Xp("orderBy",n);return sb._create(r,t)}function wM(n,e,t){if(typeof(t=Ge(t))=="string"){if(t==="")throw new B(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nx(e)&&t.indexOf("/")!==-1)throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Be.fromString(t));if(!W.isDocumentKey(r))throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $N(n,new W(r))}if(t instanceof Et)return $N(n,t._key);throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qp(t)}.`)}function bM(n,e){if(!Array.isArray(n)||n.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xx(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var ab=class{convertValue(e,t="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Bi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Pa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>je(s.doubleValue));return new Oi(o)}convertGeoPoint(e){return new xi(je(e.latitude),je(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Wp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){let t=Gr(e);return new Le(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Be.fromString(e);Ae(wx(r),9688,{name:e});let i=new yp(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(t)||qr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Xz(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ho=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},zo=class n extends Bp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Sa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Xp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:rt("string",zo._jsonSchemaVersion),bundleSource:rt("string","DocumentSnapshot"),bundleName:rt("string"),bundle:rt("string")};var Sa=class extends zo{data(e={}){return super.data(e)}},Aa=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sa(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Sa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Sa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:eq(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=al.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function eq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:n})}}Aa._jsonSchemaVersion="firestore/querySnapshot/1.0",Aa._jsonSchema={type:rt("string",Aa._jsonSchemaVersion),bundleSource:rt("string","QuerySnapshot"),bundleName:rt("string"),bundle:rt("string")};var zp=class extends ab{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}};function eO(n,e,t,...r){n=Pi(n,Et);let i=Pi(n.firestore,ji),o=Pb(i),s;return s=typeof(e=Ge(e))=="string"||e instanceof ja?Yz(o,"updateDoc",n._key,e,t,r):Kz(o,"updateDoc",n._key,e),xb(i,[s.toMutation(n._key,zr.exists(!0))])}function tO(n){return xb(Pi(n.firestore,ji),[new hl(n._key,zr.none())])}function nO(n,e){let t=Pi(n.firestore,ji),r=Rb(n),i=Xz(n.converter,e);return xb(t,[Wz(Pb(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}function rO(n,...e){var t,r,i;n=Ge(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||IM(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(IM(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Et)l=Pi(n.firestore,ji),h=yb(n._key.path),u={next:p=>{e[s]&&e[s](tq(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Pi(n,Zo);l=Pi(p.firestore,ji),h=p._query;let g=new zp(l);u={next:v=>{e[s]&&e[s](new Aa(l,g,p,v))},error:e[s+1],complete:e[s+2]},Zz(n._query)}return(function(g,v,A,F){let x=new Zw(F),j=new qw(v,x,A);return g.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){return Tz(yield mM(g),j)})),()=>{x.Ou(),g.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){return Dz(yield mM(g),j)}))}})(qx(l),h,a,u)}function xb(n,e){return(function(r,i){let o=new Hr;return r.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){return Oz(yield zz(r),i,o)})),o.promise})(qx(n),e)}function tq(n,e,t){let r=t.docs.get(e._key),i=new zp(n);return new zo(n,i,e._key,r,new Ho(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ba=i})(Ii),Fn(new Vt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ji(new TI(r.getProvider("auth-internal")),new AI(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yp(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(PN,NN,e),We(PN,NN,"esm2017")})();var es=class{constructor(e){return e}},iO="firestore",Ob=class{constructor(){return ha(iO)}};var kb=new q("angularfire2.firestore-instances");function nq(n,e){let t=Vu(iO,n,e);return t&&new es(t)}function rq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new es(r)}}var iq={provide:Ob,deps:[[new nn,kb]]},oq={provide:es,useFactory:nq,deps:[[new nn,kb],xr]};function oO(n,...e){return We("angularfire",wi.full,"fst"),Jt([oq,iq,{provide:kb,useFactory:rq(n),multi:!0,deps:[Se,Xe,bi,No,[new nn,el],[new nn,fa],...e]}])}var Fb=Je(nO,!0,2);var Lb=Je(Hx,!0,2);var sO=Je(tO,!0,2);var eg=Je(Rb,!0,2);var aO=Je(zx,!0);var bl=Je(rO,!0);var tg=Je(Zx,!0,2),ng=Je(Qx,!0,2);var cO=Je(eO,!0,2);var Vb=Je(Jx,!0,2);var uO={production:!1,firebase:{apiKey:"AIzaSyBhfFnuSwiVvRPOmqVxC0BUU8ZvMUGiye0",authDomain:"sistema-evaluacion-5b6eb.firebaseapp.com",projectId:"sistema-evaluacion-5b6eb",storageBucket:"sistema-evaluacion-5b6eb.firebasestorage.app",messagingSenderId:"858778646472",appId:"1:858778646472:web:2aaf997dac54ce3732b2fd"}};var _O=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ee(pi),ee(Tr))};static \u0275dir=ke({type:n})}return n})(),hg=(()=>{class n extends _O{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})();static \u0275dir=ke({type:n,features:[vt]})}return n})(),Ka=new q("");var sq={provide:Ka,useExisting:xt(()=>Hi),multi:!0};function aq(){let n=vn()?vn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var cq=new q(""),Hi=(()=>{class n extends _O{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!aq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ee(pi),ee(Tr),ee(cq,8))};static \u0275dir=ke({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[yn([sq]),vt]})}return n})();function zb(n){return n==null||qb(n)===0}function qb(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ya=new q(""),Pl=new q(""),uq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Te=class{static min(e){return EO(e)}static max(e){return lq(e)}static required(e){return dq(e)}static requiredTrue(e){return hq(e)}static email(e){return fq(e)}static minLength(e){return pq(e)}static maxLength(e){return gq(e)}static pattern(e){return mq(e)}static nullValidator(e){return ig()}static compose(e){return DO(e)}static composeAsync(e){return AO(e)}};function EO(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function lq(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function dq(n){return zb(n.value)?{required:!0}:null}function hq(n){return n.value===!0?null:{required:!0}}function fq(n){return zb(n.value)||uq.test(n.value)?null:{email:!0}}function pq(n){return e=>{let t=e.value?.length??qb(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function gq(n){return e=>{let t=e.value?.length??qb(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function mq(n){if(!n)return ig;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(zb(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function ig(n){return null}function IO(n){return n!=null}function wO(n){return gi(n)?$e(n):n}function bO(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function CO(n,e){return e.map(t=>t(n))}function yq(n){return!n.validate}function TO(n){return n.map(e=>yq(e)?e:t=>e.validate(t))}function DO(n){if(!n)return null;let e=n.filter(IO);return e.length==0?null:function(t){return bO(CO(t,e))}}function SO(n){return n!=null?DO(TO(n)):null}function AO(n){if(!n)return null;let e=n.filter(IO);return e.length==0?null:function(t){let r=CO(t,e).map(wO);return bm(r).pipe(se(bO))}}function RO(n){return n!=null?AO(TO(n)):null}function lO(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PO(n){return n._rawValidators}function NO(n){return n._rawAsyncValidators}function Ub(n){return n?Array.isArray(n)?n:[n]:[]}function og(n,e){return Array.isArray(n)?n.includes(e):n===e}function dO(n,e){let t=Ub(e);return Ub(n).forEach(i=>{og(t,i)||t.push(i)}),t}function hO(n,e){return Ub(e).filter(t=>!og(n,t))}var sg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ln=class extends sg{name;get formDirective(){return null}get path(){return null}},ts=class extends sg{_parent=null;name=null;valueAccessor=null},ag=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},vq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rpe=K(L({},vq),{"[class.ng-submitted]":"isSubmitted"}),Qa=(()=>{class n extends ag{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ee(ts,2))};static \u0275dir=ke({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Qe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[vt]})}return n})(),fg=(()=>{class n extends ag{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ee(ln,10))};static \u0275dir=ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Qe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[vt]})}return n})();var Cl="VALID",rg="INVALID",qa="PENDING",Tl="DISABLED",$i=class{},cg=class extends $i{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Dl=class extends $i{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Sl=class extends $i{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ga=class extends $i{status;source;constructor(e,t){super(),this.status=e,this.source=t}},jb=class extends $i{source;constructor(e){super(),this.source=e}},Rl=class extends $i{source;constructor(e){super(),this.source=e}};function Gb(n){return(pg(n)?n.validators:n)||null}function _q(n){return Array.isArray(n)?SO(n):n||null}function Wb(n,e){return(pg(e)?e.asyncValidators:n)||null}function Eq(n){return Array.isArray(n)?RO(n):n||null}function pg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function MO(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[t])throw new z(1001,"")}function xO(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new z(1002,"")})}var Wa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return _t(this.statusReactive)}set status(e){_t(()=>this.statusReactive.set(e))}_status=Ws(()=>this.statusReactive());statusReactive=tn(void 0);get valid(){return this.status===Cl}get invalid(){return this.status===rg}get pending(){return this.status==qa}get disabled(){return this.status===Tl}get enabled(){return this.status!==Tl}errors;get pristine(){return _t(this.pristineReactive)}set pristine(e){_t(()=>this.pristineReactive.set(e))}_pristine=Ws(()=>this.pristineReactive());pristineReactive=tn(!0);get dirty(){return!this.pristine}get touched(){return _t(this.touchedReactive)}set touched(e){_t(()=>this.touchedReactive.set(e))}_touched=Ws(()=>this.touchedReactive());touchedReactive=tn(!1);get untouched(){return!this.touched}_events=new it;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hO(e,this._rawAsyncValidators))}hasValidator(e){return og(this._rawValidators,e)}hasAsyncValidator(e){return og(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(K(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Sl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Sl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(K(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Dl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Dl(!0,r))}markAsPending(e={}){this.status=qa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ga(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(K(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tl,this.errors=null,this._forEachChild(i=>{i.disable(K(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cg(this.value,r)),this._events.next(new Ga(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(K(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Cl,this._forEachChild(r=>{r.enable(K(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(K(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cl||this.status===qa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cg(this.value,t)),this._events.next(new Ga(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(K(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tl:Cl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=qa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=wO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ga(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Tl:this.errors?rg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qa)?qa:this._anyControlsHaveStatus(rg)?rg:Cl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Dl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Sl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=_q(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Eq(this._rawAsyncValidators)}},ug=class extends Wa{constructor(e,t,r){super(Gb(t),Wb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xO(this,!0,e),Object.keys(e).forEach(r=>{MO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Rl(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Bb=class extends ug{};var gg=new q("",{providedIn:"root",factory:()=>mg}),mg="always";function yg(n,e){return[...e.path,n]}function $b(n,e,t=mg){Kb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),wq(n,e),Cq(n,e),bq(n,e),Iq(n,e)}function fO(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),dg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Iq(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Kb(n,e){let t=PO(n);e.validator!==null?n.setValidators(lO(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=NO(n);e.asyncValidator!==null?n.setAsyncValidators(lO(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();lg(e._rawValidators,i),lg(e._rawAsyncValidators,i)}function dg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=PO(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=NO(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return lg(e._rawValidators,r),lg(e._rawAsyncValidators,r),t}function wq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&OO(n,e)})}function bq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&OO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function OO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Cq(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Tq(n,e){n==null,Kb(n,e)}function Dq(n,e){return dg(n,e)}function kO(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Sq(n){return Object.getPrototypeOf(n.constructor)===hg}function Aq(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function FO(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Hi?t=o:Sq(o)?r=o:i=o}),i||r||t||null}function Rq(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function pO(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function gO(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Al=class extends Wa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Gb(t),Wb(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(gO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Rl(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){gO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Pq=n=>n instanceof Al,Nq=(()=>{class n extends ln{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return yg(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})();static \u0275dir=ke({type:n,standalone:!1,features:[vt]})}return n})();var Mq={provide:ts,useExisting:xt(()=>Yb)},mO=Promise.resolve(),Yb=(()=>{class n extends ts{_changeDetectorRef;callSetDisabledState;control=new Al;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ye;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=FO(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),kO(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$b(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){mO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Bv(r);mO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?yg(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ee(ln,9),ee(Ya,10),ee(Pl,10),ee(Ka,10),ee(Ks,8),ee(gg,8))};static \u0275dir=ke({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yn([Mq]),vt,Cr]})}return n})();var vg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),xq={provide:Ka,useExisting:xt(()=>Qb),multi:!0},Qb=(()=>{class n extends hg{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})();static \u0275dir=ke({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[yn([xq]),vt]})}return n})();var LO=new q("");var Oq={provide:ln,useExisting:xt(()=>Ja)},Ja=(()=>{class n extends ln{callSetDisabledState;get submitted(){return _t(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ws(()=>this._submittedReactive());_submittedReactive=tn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ye;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return $b(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){fO(t.control||null,t,!1),Rq(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Aq(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new jb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(fO(r||null,t),Pq(i)&&($b(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Tq(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Dq(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kb(this.form,this),this._oldForm&&dg(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(ee(Ya,10),ee(Pl,10),ee(gg,8))};static \u0275dir=ke({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yn([Oq]),vt,Cr]})}return n})(),kq={provide:ln,useExisting:xt(()=>_g)},_g=(()=>{class n extends Nq{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){VO(this._parent)}static \u0275fac=function(r){return new(r||n)(ee(ln,13),ee(Ya,10),ee(Pl,10))};static \u0275dir=ke({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[yn([kq]),vt]})}return n})(),Fq={provide:ln,useExisting:xt(()=>Eg)},Eg=(()=>{class n extends ln{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){VO(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return yg(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(ee(ln,13),ee(Ya,10),ee(Pl,10))};static \u0275dir=ke({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[yn([Fq]),vt]})}return n})();function VO(n){return!(n instanceof _g)&&!(n instanceof Ja)&&!(n instanceof Eg)}var Lq={provide:ts,useExisting:xt(()=>Nl)},Nl=(()=>{class n extends ts{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ye;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=FO(this,o)}ngOnChanges(t){this._added||this._setUpControl(),kO(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return yg(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(ee(ln,13),ee(Ya,10),ee(Pl,10),ee(Ka,10),ee(LO,8))};static \u0275dir=ke({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[yn([Lq]),vt,Cr]})}return n})();var Vq={provide:Ka,useExisting:xt(()=>Za),multi:!0};function UO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Uq(n){return n.split(":")[0]}var Za=(()=>{class n extends hg{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=M(Sr).injector;destroyRef=M(Pn);cdr=M(Ks);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Ch({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=UO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Uq(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})();static \u0275dir=ke({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yn([Vq]),vt]})}return n})(),Ig=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(UO(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(ee(Tr),ee(pi),ee(Za,9))};static \u0275dir=ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),jq={provide:Ka,useExisting:xt(()=>jO),multi:!0};function yO(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Bq(n){return n.split(":")[0]}var jO=(()=>{class n extends hg{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Bq(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})();static \u0275dir=ke({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yn([jq]),vt]})}return n})(),wg=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(yO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(yO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(ee(Tr),ee(pi),ee(jO,9))};static \u0275dir=ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function $q(n){return typeof n=="number"?n:parseFloat(n)}var Hq=(()=>{class n{_validator=ig;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ig,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ke({type:n,features:[Cr]})}return n})();var zq={provide:Ya,useExisting:xt(()=>Jb),multi:!0},Jb=(()=>{class n extends Hq{min;inputName="min";normalizeInput=t=>$q(t);createValidator=t=>EO(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})();static \u0275dir=ke({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Rh("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[yn([zq]),vt]})}return n})();var BO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Dr({type:n});static \u0275inj=Hn({})}return n})(),Hb=class extends Wa{constructor(e,t,r){super(Gb(t),Wb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xO(this,!1,e),e.forEach((r,i)=>{MO(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Rl(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function vO(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var bg=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return vO(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ug(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Bb(i,r)}control(t,r,i){let o={};return this.useNonNullable?(vO(r)?o=r:(o.validators=r,o.asyncValidators=i),new Al(t,K(L({},o),{nonNullable:!0}))):new Al(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Hb(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Al)return t;if(t instanceof Wa)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $O=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gg,useValue:t.callSetDisabledState??mg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Dr({type:n});static \u0275inj=Hn({imports:[BO]})}return n})(),Cg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:LO,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gg,useValue:t.callSetDisabledState??mg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Dr({type:n});static \u0275inj=Hn({imports:[BO]})}return n})();var Bn=class n{auth=M(jo);user$=wN(this.auth);currentUser=null;constructor(){this.user$.subscribe(e=>{this.currentUser=e})}register(e,t,r){return y(this,null,function*(){try{let i=yield bN(this.auth,e,t);i.user&&(yield SN(i.user,{displayName:r}))}catch(i){throw console.error("Error al registrar:",i),i}})}login(e,t){return y(this,null,function*(){try{yield TN(this.auth,e,t)}catch(r){throw console.error("Error al iniciar sesi\xF3n:",r),r}})}logout(){return y(this,null,function*(){try{yield DN(this.auth)}catch(e){throw console.error("Error al cerrar sesi\xF3n:",e),e}})}getCurrentUser(){return this.currentUser}getUser(){return this.user$}static \u0275fac=function(t){return new(t||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};function qq(n,e){n&1&&(S(0,"span",27),P(1," Ingresa un correo v\xE1lido "),b())}function Gq(n,e){n&1&&(S(0,"span",27),P(1," La contrase\xF1a debe tener al menos 6 caracteres "),b())}function Wq(n,e){if(n&1&&(S(0,"div",27),P(1),b()),n&2){let t=Ne(2);O(),Ue(" ",t.errorMessage," ")}}function Kq(n,e){if(n&1){let t=xn();S(0,"form",19),Ie("ngSubmit",function(){Ht(t);let i=Ne();return zt(i.onLogin())}),S(1,"div",20)(2,"label",21),P(3,"Correo Electr\xF3nico"),b(),Ee(4,"input",22),me(5,qq,2,0,"span",23),b(),S(6,"div",20)(7,"label",24),P(8,"Contrase\xF1a"),b(),Ee(9,"input",25),me(10,Gq,2,0,"span",23),b(),me(11,Wq,2,1,"div",23),S(12,"button",26),P(13),b()()}if(n&2){let t,r,i,o,s=Ne();H("formGroup",s.loginForm),O(4),Qe("error",((t=s.loginForm.get("email"))==null?null:t.invalid)&&((t=s.loginForm.get("email"))==null?null:t.touched)),O(),H("ngIf",((r=s.loginForm.get("email"))==null?null:r.invalid)&&((r=s.loginForm.get("email"))==null?null:r.touched)),O(4),Qe("error",((i=s.loginForm.get("password"))==null?null:i.invalid)&&((i=s.loginForm.get("password"))==null?null:i.touched)),O(),H("ngIf",((o=s.loginForm.get("password"))==null?null:o.invalid)&&((o=s.loginForm.get("password"))==null?null:o.touched)),O(),H("ngIf",s.errorMessage),O(),H("disabled",s.loading||s.loginForm.invalid),O(),Ue(" ",s.loading?"Iniciando sesi\xF3n...":"Iniciar Sesi\xF3n"," ")}}function Yq(n,e){n&1&&(S(0,"span",27),P(1," El nombre debe tener al menos 3 caracteres "),b())}function Qq(n,e){n&1&&(S(0,"span",27),P(1," Ingresa un correo v\xE1lido "),b())}function Jq(n,e){n&1&&(S(0,"span",27),P(1," La contrase\xF1a debe tener al menos 6 caracteres "),b())}function Zq(n,e){n&1&&(S(0,"span",27),P(1," Confirma tu contrase\xF1a "),b())}function Xq(n,e){if(n&1&&(S(0,"div",27),P(1),b()),n&2){let t=Ne(2);O(),Ue(" ",t.errorMessage," ")}}function e8(n,e){if(n&1){let t=xn();S(0,"form",19),Ie("ngSubmit",function(){Ht(t);let i=Ne();return zt(i.onRegister())}),S(1,"div",20)(2,"label",28),P(3,"Nombre Completo"),b(),Ee(4,"input",29),me(5,Yq,2,0,"span",23),b(),S(6,"div",20)(7,"label",30),P(8,"Correo Electr\xF3nico"),b(),Ee(9,"input",31),me(10,Qq,2,0,"span",23),b(),S(11,"div",20)(12,"label",32),P(13,"Contrase\xF1a"),b(),Ee(14,"input",33),me(15,Jq,2,0,"span",23),b(),S(16,"div",20)(17,"label",34),P(18,"Confirmar Contrase\xF1a"),b(),Ee(19,"input",35),me(20,Zq,2,0,"span",23),b(),me(21,Xq,2,1,"div",23),S(22,"button",26),P(23),b()()}if(n&2){let t,r,i,o,s,a,u,l,h=Ne();H("formGroup",h.registerForm),O(4),Qe("error",((t=h.registerForm.get("displayName"))==null?null:t.invalid)&&((t=h.registerForm.get("displayName"))==null?null:t.touched)),O(),H("ngIf",((r=h.registerForm.get("displayName"))==null?null:r.invalid)&&((r=h.registerForm.get("displayName"))==null?null:r.touched)),O(4),Qe("error",((i=h.registerForm.get("email"))==null?null:i.invalid)&&((i=h.registerForm.get("email"))==null?null:i.touched)),O(),H("ngIf",((o=h.registerForm.get("email"))==null?null:o.invalid)&&((o=h.registerForm.get("email"))==null?null:o.touched)),O(4),Qe("error",((s=h.registerForm.get("password"))==null?null:s.invalid)&&((s=h.registerForm.get("password"))==null?null:s.touched)),O(),H("ngIf",((a=h.registerForm.get("password"))==null?null:a.invalid)&&((a=h.registerForm.get("password"))==null?null:a.touched)),O(4),Qe("error",((u=h.registerForm.get("confirmPassword"))==null?null:u.invalid)&&((u=h.registerForm.get("confirmPassword"))==null?null:u.touched)),O(),H("ngIf",((l=h.registerForm.get("confirmPassword"))==null?null:l.invalid)&&((l=h.registerForm.get("confirmPassword"))==null?null:l.touched)),O(),H("ngIf",h.errorMessage),O(),H("disabled",h.loading||h.registerForm.invalid),O(),Ue(" ",h.loading?"Creando cuenta...":"Registrarse"," ")}}var Tg=class n{fb=M(bg);authService=M(Bn);router=M(Lt);loginForm;registerForm;isLoginMode=!0;errorMessage="";loading=!1;constructor(){this.loginForm=this.fb.group({email:["",[Te.required,Te.email]],password:["",[Te.required,Te.minLength(6)]]}),this.registerForm=this.fb.group({displayName:["",[Te.required,Te.minLength(3)]],email:["",[Te.required,Te.email]],password:["",[Te.required,Te.minLength(6)]],confirmPassword:["",[Te.required]]})}toggleMode(){this.isLoginMode=!this.isLoginMode,this.errorMessage=""}onLogin(){return y(this,null,function*(){if(this.loginForm.invalid){this.errorMessage="Por favor, completa todos los campos correctamente.";return}this.loading=!0,this.errorMessage="";try{let{email:e,password:t}=this.loginForm.value;yield this.authService.login(e,t),this.router.navigate(["/evaluaciones"])}catch(e){this.errorMessage=this.getErrorMessage(e.code)}finally{this.loading=!1}})}onRegister(){return y(this,null,function*(){if(this.registerForm.invalid){this.errorMessage="Por favor, completa todos los campos correctamente.";return}let{password:e,confirmPassword:t}=this.registerForm.value;if(e!==t){this.errorMessage="Las contrase\xF1as no coinciden.";return}this.loading=!0,this.errorMessage="";try{let{displayName:r,email:i,password:o}=this.registerForm.value;yield this.authService.register(i,o,r),this.router.navigate(["/evaluaciones"])}catch(r){this.errorMessage=this.getErrorMessage(r.code)}finally{this.loading=!1}})}getErrorMessage(e){return{"auth/email-already-in-use":"Este correo electr\xF3nico ya est\xE1 registrado.","auth/invalid-email":"El correo electr\xF3nico no es v\xE1lido.","auth/operation-not-allowed":"Operaci\xF3n no permitida.","auth/weak-password":"La contrase\xF1a es demasiado d\xE9bil.","auth/user-disabled":"Esta cuenta ha sido deshabilitada.","auth/user-not-found":"No existe una cuenta con este correo.","auth/wrong-password":"Contrase\xF1a incorrecta.","auth/invalid-credential":"Credenciales inv\xE1lidas. Verifica tu correo y contrase\xF1a."}[e]||"Ocurri\xF3 un error. Int\xE9ntalo de nuevo."}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rn({type:n,selectors:[["app-login"]],decls:26,vars:5,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"logo-container"],["viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg",1,"logo-icon"],["id","logoGrad","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","#667eea","stop-opacity","1"],["offset","100%",2,"stop-color","#764ba2","stop-opacity","1"],["x","20","y","10","width","60","height","80","rx","5","fill","url(#logoGrad)"],["x","30","y","25","width","40","height","3","rx","1.5","fill","white","opacity","0.8"],["x","30","y","35","width","40","height","3","rx","1.5","fill","white","opacity","0.8"],["x","30","y","45","width","30","height","3","rx","1.5","fill","white","opacity","0.8"],["cx","50","cy","65","r","18","fill","white"],["d","M 42 65 L 48 71 L 58 59","stroke","#667eea","stroke-width","4","stroke-linecap","round","stroke-linejoin","round","fill","none"],[1,"animate-fade-in"],[1,"animate-slide-up"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"toggle-mode"],[3,"click"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","login-email"],["type","email","id","login-email","formControlName","email","placeholder","ejemplo@correo.com"],["class","error-message",4,"ngIf"],["for","login-password"],["type","password","id","login-password","formControlName","password","placeholder","M\xEDnimo 6 caracteres"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error-message"],["for","register-name"],["type","text","id","register-name","formControlName","displayName","placeholder","Tu nombre"],["for","register-email"],["type","email","id","register-email","formControlName","email","placeholder","ejemplo@correo.com"],["for","register-password"],["type","password","id","register-password","formControlName","password","placeholder","M\xEDnimo 6 caracteres"],["for","register-confirm"],["type","password","id","register-confirm","formControlName","confirmPassword","placeholder","Repite tu contrase\xF1a"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),An(),S(4,"svg",4)(5,"defs")(6,"linearGradient",5),Ee(7,"stop",6)(8,"stop",7),b()(),Ee(9,"rect",8)(10,"rect",9)(11,"rect",10)(12,"rect",11)(13,"circle",12)(14,"path",13),b()(),Rn(),S(15,"h1",14),P(16,"Sistema de Evaluaci\xF3n Online"),b(),S(17,"p",15),P(18),b()(),me(19,Kq,14,10,"form",16)(20,e8,24,16,"form",16),S(21,"div",17)(22,"p"),P(23),S(24,"a",18),Ie("click",function(){return r.toggleMode()}),P(25),b()()()()()),t&2&&(O(18),we(r.isLoginMode?"Inicia sesi\xF3n para continuar":"Crea tu cuenta para empezar"),O(),H("ngIf",r.isLoginMode),O(),H("ngIf",!r.isLoginMode),O(3),Ue(" ",r.isLoginMode?"\xBFNo tienes cuenta?":"\xBFYa tienes cuenta?"," "),O(2),Ue(" ",r.isLoginMode?"Reg\xEDstrate":"Inicia sesi\xF3n"," "))},dependencies:[Qn,Ar,Cg,vg,Hi,Qa,fg,Ja,Nl],styles:['.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px;position:relative;overflow:hidden}.login-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_moveBackground 20s linear infinite}@keyframes _ngcontent-%COMP%_moveBackground{0%{transform:translate(0)}to{transform:translate(50px,50px)}}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;padding:40px;width:100%;max-width:450px;position:relative;z-index:1;animation:_ngcontent-%COMP%_slideIn .5s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.logo-icon[_ngcontent-%COMP%]{width:80px;height:80px;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:28px;margin-bottom:10px;font-weight:600}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-out .2s both}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.animate-slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .8s ease-out .4s both}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out both}.form-group[_ngcontent-%COMP%]:nth-child(1){animation-delay:.5s}.form-group[_ngcontent-%COMP%]:nth-child(2){animation-delay:.6s}.form-group[_ngcontent-%COMP%]:nth-child(3){animation-delay:.7s}.form-group[_ngcontent-%COMP%]:nth-child(4){animation-delay:.8s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a;transform:translateY(-2px)}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#e74c3c;animation:_ngcontent-%COMP%_shake .5s}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:12px;margin-top:4px;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.btn[_ngcontent-%COMP%]{padding:14px 24px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;margin-top:10px;position:relative;overflow:hidden}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.btn[_ngcontent-%COMP%]:hover:before{width:300px;height:300px}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 15px #667eea4d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 6px 20px #667eea80}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.toggle-mode[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:20px;border-top:1px solid #e0e0e0;animation:_ngcontent-%COMP%_fadeIn 1s ease-out .9s both}.toggle-mode[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px}.toggle-mode[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;font-weight:600;cursor:pointer;text-decoration:none;margin-left:5px;transition:all .3s ease;position:relative}.toggle-mode[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:2px;bottom:-2px;left:0;background-color:#667eea;transition:width .3s ease}.toggle-mode[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}']})};var zi=class n{firestore=M(es);evaluacionesCollection=Lb(this.firestore,"evaluaciones");respuestasCollection=Lb(this.firestore,"respuestas");crearEvaluacion(e){return y(this,null,function*(){try{console.log("\u{1F4BE} Guardando evaluaci\xF3n:",e);let t=K(L({},e),{fechaCreacion:Le.fromDate(new Date(e.fechaCreacion)),fechaLimite:Le.fromDate(new Date(e.fechaLimite))});console.log("\u{1F4E4} Datos a guardar:",t);let r=yield Fb(this.evaluacionesCollection,t);return console.log("\u2705 Evaluaci\xF3n guardada con ID:",r.id),r.id}catch(t){throw console.error("\u274C Error al crear evaluaci\xF3n:",t),t}})}getEvaluacionesByUser(e){return console.log("\u{1F50D} Buscando evaluaciones para userId:",e),new Z(t=>{let r=ng(this.evaluacionesCollection,Vb("userId","==",e),tg("fechaCreacion","desc")),i=bl(r,o=>{console.log("\u{1F4E6} Evaluaciones recibidas:",o.size);let s=o.docs.map(a=>{let u=a.data();return K(L({id:a.id},u),{fechaCreacion:u.fechaCreacion?.toDate(),fechaLimite:u.fechaLimite?.toDate()})});console.log("\u{1F4CB} Datos procesados:",s),t.next(s)},o=>{console.error("\u274C Error en snapshot:",o),t.error(o)});return()=>i()})}getTodasEvaluaciones(){return new Z(e=>{let t=ng(this.evaluacionesCollection,tg("fechaCreacion","desc")),r=bl(t,i=>{let o=i.docs.map(s=>{let a=s.data();return K(L({id:s.id},a),{fechaCreacion:a.fechaCreacion?.toDate(),fechaLimite:a.fechaLimite?.toDate()})});e.next(o)},i=>{e.error(i)});return()=>r()})}getEvaluacionById(e){return new Z(t=>{let r=eg(this.firestore,`evaluaciones/${e}`),i=bl(r,o=>{if(o.exists()){let s=o.data(),a=K(L({id:o.id},s),{fechaCreacion:s.fechaCreacion?.toDate(),fechaLimite:s.fechaLimite?.toDate()});t.next(a)}else t.next(void 0)},o=>{t.error(o)});return()=>i()})}actualizarEvaluacion(e,t){return y(this,null,function*(){try{let r=eg(this.firestore,`evaluaciones/${e}`),i=L({},t);t.fechaCreacion&&(i.fechaCreacion=Le.fromDate(new Date(t.fechaCreacion))),t.fechaLimite&&(i.fechaLimite=Le.fromDate(new Date(t.fechaLimite))),yield cO(r,i)}catch(r){throw console.error("Error al actualizar evaluaci\xF3n:",r),r}})}eliminarEvaluacion(e){return y(this,null,function*(){try{let t=eg(this.firestore,`evaluaciones/${e}`);yield sO(t)}catch(t){throw console.error("Error al eliminar evaluaci\xF3n:",t),t}})}buscarEvaluaciones(e,t){return this.getEvaluacionesByUser(t).pipe(se(r=>r.filter(i=>i.titulo.toLowerCase().includes(e.toLowerCase())||i.categoria.toLowerCase().includes(e.toLowerCase())||i.descripcion.toLowerCase().includes(e.toLowerCase()))))}filtrarPorEstado(e,t){return this.getEvaluacionesByUser(t).pipe(se(r=>r.filter(i=>i.estado===e)))}filtrarPorCategoria(e,t){return this.getEvaluacionesByUser(t).pipe(se(r=>r.filter(i=>i.categoria===e)))}guardarRespuesta(e){return y(this,null,function*(){try{let t=K(L({},e),{fechaEntrega:Le.fromDate(new Date(e.fechaEntrega))});return(yield Fb(this.respuestasCollection,t)).id}catch(t){throw console.error("Error al guardar respuesta:",t),t}})}getRespuestasByEvaluacion(e){return new Z(t=>{let r=ng(this.respuestasCollection,Vb("evaluacionId","==",e),tg("fechaEntrega","desc")),i=bl(r,o=>{let s=o.docs.map(a=>{let u=a.data();return K(L({id:a.id},u),{fechaEntrega:u.fechaEntrega?.toDate()})});t.next(s)},o=>{t.error(o)});return()=>i()})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};function t8(n,e){if(n&1&&(S(0,"option",35),P(1),b()),n&2){let t=e.$implicit;H("value",t),O(),we(t)}}function n8(n,e){if(n&1){let t=xn();S(0,"button",36),Ie("click",function(){Ht(t);let i=Ne();return zt(i.limpiarFiltros())}),P(1," Limpiar filtros "),b()}}function r8(n,e){n&1&&(S(0,"div",37)(1,"p"),P(2,"Cargando evaluaciones..."),b()())}function i8(n,e){if(n&1){let t=xn();S(0,"button",31),Ie("click",function(){Ht(t);let i=Ne(2);return zt(i.crearNuevaEvaluacion())}),P(1," Crear Primera Evaluaci\xF3n "),b()}}function o8(n,e){if(n&1&&(S(0,"div",38)(1,"div",39),P(2,"\u{1F4CB}"),b(),S(3,"h2"),P(4),b(),S(5,"p"),P(6),b(),me(7,i8,2,0,"button",40),b()),n&2){let t=Ne();O(4),we(t.searchTerm||t.filtroEstado||t.filtroCategoria?"No se encontraron evaluaciones":"No tienes evaluaciones a\xFAn"),O(2),we(t.searchTerm||t.filtroEstado||t.filtroCategoria?"Intenta con otros criterios de b\xFAsqueda":"Comienza creando tu primera evaluaci\xF3n"),O(),H("ngIf",!t.searchTerm&&!t.filtroEstado&&!t.filtroCategoria)}}function s8(n,e){if(n&1){let t=xn();S(0,"div",43)(1,"div",44)(2,"h3"),P(3),b(),S(4,"span",45),P(5),b()(),S(6,"div",46)(7,"p",47),P(8),b(),S(9,"div",48)(10,"div",49)(11,"span",50),P(12,"Categor\xEDa:"),b(),S(13,"span",51),P(14),b()(),S(15,"div",49)(16,"span",50),P(17,"Puntaje m\xE1ximo:"),b(),S(18,"span",51),P(19),b()(),S(20,"div",49)(21,"span",50),P(22,"Fecha creaci\xF3n:"),b(),S(23,"span",51),P(24),b()(),S(25,"div",49)(26,"span",50),P(27,"Fecha l\xEDmite:"),b(),S(28,"span",51),P(29),b()(),S(30,"div",49)(31,"span",50),P(32,"Preguntas:"),b(),S(33,"span",51),P(34),b()()()(),S(35,"div",52)(36,"button",53),Ie("click",function(){let i=Ht(t).$implicit,o=Ne(2);return zt(o.verEstadisticas(i.id))}),P(37," \u{1F4CA} Estad\xEDsticas "),b(),S(38,"button",54),Ie("click",function(){let i=Ht(t).$implicit,o=Ne(2);return zt(o.editarEvaluacion(i.id))}),P(39," \u270F\uFE0F Editar "),b(),S(40,"button",55),Ie("click",function(){let i=Ht(t).$implicit,o=Ne(2);return zt(o.eliminarEvaluacion(i))}),P(41," \u{1F5D1}\uFE0F Eliminar "),b()()()}if(n&2){let t=e.$implicit,r=Ne(2);O(3),we(t.titulo),O(),H("ngClass",r.getEstadoClass(t.estado)),O(),Ue(" ",t.estado," "),O(3),we(t.descripcion),O(6),we(t.categoria),O(5),Ue("",t.puntajeMaximo," pts"),O(5),we(r.formatearFecha(t.fechaCreacion)),O(5),we(r.formatearFecha(t.fechaLimite)),O(5),we((t.preguntas==null?null:t.preguntas.length)||0)}}function a8(n,e){if(n&1&&(S(0,"div",41),me(1,s8,42,9,"div",42),b()),n&2){let t=Ne();O(),H("ngForOf",t.evaluacionesFiltradas)}}var Dg=class n{evaluacionService=M(zi);authService=M(Bn);router=M(Lt);evaluaciones=[];evaluacionesFiltradas=[];loading=!0;searchTerm="";filtroEstado="";filtroCategoria="";categorias=[];ngOnInit(){this.cargarEvaluaciones()}cargarEvaluaciones(){let e=this.authService.getCurrentUser();if(!e){console.log("\u274C No hay usuario autenticado"),this.router.navigate(["/login"]);return}console.log("\u{1F464} Usuario actual:",e.uid,e.email),this.loading=!0,this.evaluacionService.getEvaluacionesByUser(e.uid).subscribe({next:t=>{console.log("\u2705 Evaluaciones cargadas:",t.length),this.evaluaciones=t,this.evaluacionesFiltradas=t,this.loading=!1,this.categorias=[...new Set(t.map(r=>r.categoria))]},error:t=>{console.error("\u274C Error al cargar evaluaciones:",t),console.error("Detalles del error:",t.message),this.loading=!1}})}aplicarFiltros(){let e=[...this.evaluaciones];if(this.searchTerm.trim()){let t=this.searchTerm.toLowerCase();e=e.filter(r=>r.titulo.toLowerCase().includes(t)||r.descripcion.toLowerCase().includes(t)||r.categoria.toLowerCase().includes(t))}this.filtroEstado&&(e=e.filter(t=>t.estado===this.filtroEstado)),this.filtroCategoria&&(e=e.filter(t=>t.categoria===this.filtroCategoria)),this.evaluacionesFiltradas=e}onSearchChange(){this.aplicarFiltros()}onEstadoChange(){this.aplicarFiltros()}onCategoriaChange(){this.aplicarFiltros()}limpiarFiltros(){this.searchTerm="",this.filtroEstado="",this.filtroCategoria="",this.evaluacionesFiltradas=[...this.evaluaciones]}crearNuevaEvaluacion(){this.router.navigate(["/evaluaciones/nueva"])}editarEvaluacion(e){e&&this.router.navigate(["/evaluaciones/editar",e])}eliminarEvaluacion(e){return y(this,null,function*(){if(!(!e.id||!confirm(`\xBFEst\xE1s seguro de eliminar la evaluaci\xF3n "${e.titulo}"?`)))try{yield this.evaluacionService.eliminarEvaluacion(e.id)}catch(r){console.error("Error al eliminar:",r),alert("Error al eliminar la evaluaci\xF3n")}})}verEstadisticas(e){e&&this.router.navigate(["/evaluaciones/estadisticas",e])}getEstadoClass(e){return{activa:"estado-activa",cerrada:"estado-cerrada",borrador:"estado-borrador"}[e]||""}formatearFecha(e){return new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}logout(){return y(this,null,function*(){try{yield this.authService.logout(),this.router.navigate(["/login"])}catch(e){console.error("Error al cerrar sesi\xF3n:",e)}})}get userName(){return this.authService.getCurrentUser()?.displayName||"Usuario"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rn({type:n,selectors:[["app-evaluaciones-list"]],decls:49,vars:10,consts:[[1,"evaluaciones-container"],[1,"header"],[1,"header-content"],[1,"header-left"],["viewBox","0 0 50 50","xmlns","http://www.w3.org/2000/svg",1,"header-icon"],["x","10","y","5","width","30","height","40","rx","2","fill","white","opacity","0.9"],["x","15","y","12","width","20","height","1.5","rx","0.75","fill","white"],["x","15","y","17","width","20","height","1.5","rx","0.75","fill","white"],["x","15","y","22","width","15","height","1.5","rx","0.75","fill","white"],["cx","25","cy","32","r","7","fill","white"],["d","M 21 32 L 24 35 L 29 29","stroke","#667eea","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","fill","none"],[1,"animate-slide-in"],[1,"user-info"],[1,"user-avatar"],[1,"btn","btn-secondary",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","none"],["d","M6 14H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H6","stroke","currentColor","stroke-width","2","stroke-linecap","round"],["d","M11 11L14 8M14 8L11 5M14 8H6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"content"],[1,"toolbar"],[1,"search-box"],["type","text","placeholder","Buscar por t\xEDtulo, descripci\xF3n o categor\xEDa...",1,"search-input",3,"ngModelChange","ngModel"],[1,"search-icon"],[1,"filters"],[1,"filter-select",3,"ngModelChange","ngModel"],["value",""],["value","activa"],["value","borrador"],["value","cerrada"],[3,"value",4,"ngFor","ngForOf"],["class","btn btn-link",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["class","loading",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","evaluaciones-grid",4,"ngIf"],[3,"value"],[1,"btn","btn-link",3,"click"],[1,"loading"],[1,"empty-state"],[1,"empty-icon"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"evaluaciones-grid"],["class","evaluacion-card",4,"ngFor","ngForOf"],[1,"evaluacion-card"],[1,"card-header"],[1,"estado-badge",3,"ngClass"],[1,"card-body"],[1,"descripcion"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"card-actions"],[1,"btn","btn-small","btn-info",3,"click"],[1,"btn","btn-small","btn-secondary",3,"click"],[1,"btn","btn-small","btn-danger",3,"click"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),An(),S(4,"svg",4),Ee(5,"rect",5)(6,"rect",6)(7,"rect",7)(8,"rect",8)(9,"circle",9)(10,"path",10),b(),Rn(),S(11,"h1",11),P(12,"Evaluaciones Online"),b()(),S(13,"div",12)(14,"div",13),P(15),b(),S(16,"span"),P(17),b(),S(18,"button",14),Ie("click",function(){return r.logout()}),An(),S(19,"svg",15),Ee(20,"path",16)(21,"path",17),b(),P(22," Cerrar Sesi\xF3n "),b()()()(),Rn(),S(23,"div",18)(24,"div",19)(25,"div",20)(26,"input",21),Gs("ngModelChange",function(o){return nu(r.searchTerm,o)||(r.searchTerm=o),o}),Ie("ngModelChange",function(){return r.onSearchChange()}),b(),S(27,"span",22),P(28,"\u{1F50D}"),b()(),S(29,"div",23)(30,"select",24),Gs("ngModelChange",function(o){return nu(r.filtroEstado,o)||(r.filtroEstado=o),o}),Ie("ngModelChange",function(){return r.onEstadoChange()}),S(31,"option",25),P(32,"Todos los estados"),b(),S(33,"option",26),P(34,"Activa"),b(),S(35,"option",27),P(36,"Borrador"),b(),S(37,"option",28),P(38,"Cerrada"),b()(),S(39,"select",24),Gs("ngModelChange",function(o){return nu(r.filtroCategoria,o)||(r.filtroCategoria=o),o}),Ie("ngModelChange",function(){return r.onCategoriaChange()}),S(40,"option",25),P(41,"Todas las categor\xEDas"),b(),me(42,t8,2,2,"option",29),b(),me(43,n8,2,0,"button",30),b(),S(44,"button",31),Ie("click",function(){return r.crearNuevaEvaluacion()}),P(45," \u2795 Nueva Evaluaci\xF3n "),b()(),me(46,r8,3,0,"div",32)(47,o8,8,3,"div",33)(48,a8,2,1,"div",34),b()()),t&2&&(O(15),we(r.userName.charAt(0).toUpperCase()),O(2),we(r.userName),O(9),qs("ngModel",r.searchTerm),O(4),qs("ngModel",r.filtroEstado),O(9),qs("ngModel",r.filtroCategoria),O(3),H("ngForOf",r.categorias),O(),H("ngIf",r.searchTerm||r.filtroEstado||r.filtroCategoria),O(3),H("ngIf",r.loading),O(),H("ngIf",!r.loading&&r.evaluacionesFiltradas.length===0),O(),H("ngIf",!r.loading&&r.evaluacionesFiltradas.length>0))},dependencies:[Qn,su,yi,Ar,$O,Ig,wg,Hi,Za,Qa,Yb],styles:['.evaluaciones-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f5f7fa;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:20px 0;box-shadow:0 4px 12px #00000026;position:relative;overflow:hidden}.header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 1px,transparent 1px);background-size:40px 40px;animation:_ngcontent-%COMP%_movePattern 15s linear infinite}@keyframes _ngcontent-%COMP%_movePattern{0%{transform:translate(0) rotate(0)}to{transform:translate(40px,40px) rotate(360deg)}}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:1}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.header-icon[_ngcontent-%COMP%]{width:40px;height:40px;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromLeft .6s ease-out}@keyframes _ngcontent-%COMP%_slideInFromLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;animation:_ngcontent-%COMP%_slideInFromRight .6s ease-out}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#ffffff4d;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;border:2px solid white;animation:_ngcontent-%COMP%_bounceIn .8s ease-out}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.3)}50%{transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}.content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:30px 20px}.toolbar[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:30px;flex-wrap:wrap;align-items:center;animation:_ngcontent-%COMP%_slideUp .6s ease-out .2s both}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.search-box[_ngcontent-%COMP%]{position:relative;flex:1;min-width:250px}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 40px 12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;transition:all .3s ease;background:#fff}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a;transform:translateY(-1px)}.search-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#999;transition:color .3s}.search-input[_ngcontent-%COMP%]:focus ~ .search-icon[_ngcontent-%COMP%]{color:#667eea}.filters[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.filter-select[_ngcontent-%COMP%]{padding:10px 14px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;background:#fff;cursor:pointer;transition:all .3s ease}.filter-select[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 2px 8px #667eea26}.filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.btn[_ngcontent-%COMP%]:active:before{width:300px;height:300px}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 6px #667eea33}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #667eea66}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#667eea;border:2px solid #667eea}.btn-secondary[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff;box-shadow:0 4px 12px #667eea4d}.btn-link[_ngcontent-%COMP%]{background:transparent;color:#667eea;text-decoration:underline}.btn-small[_ngcontent-%COMP%]{padding:8px 12px;font-size:12px}.btn-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;box-shadow:0 4px 6px #3498db33}.btn-info[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #3498db66}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff;box-shadow:0 4px 6px #e74c3c33}.btn-danger[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #e74c3c66}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.loading[_ngcontent-%COMP%]:after{content:"";display:block;width:50px;height:50px;margin:20px auto;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.empty-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:20px;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:30px}.evaluaciones-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.evaluacion-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden;transition:all .3s ease;animation:_ngcontent-%COMP%_cardSlideUp .5s ease-out backwards}.evaluacion-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.evaluacion-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.evaluacion-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.evaluacion-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.evaluacion-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.evaluacion-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}@keyframes _ngcontent-%COMP%_cardSlideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.evaluacion-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 8px 24px #667eea33}.card-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:start;gap:10px;background:linear-gradient(to right,rgba(102,126,234,.02),transparent)}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px;flex:1;transition:color .3s ease}.evaluacion-card[_ngcontent-%COMP%]:hover   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#667eea}.estado-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase;transition:all .3s ease;box-shadow:0 2px 4px #0000001a}.estado-badge[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #00000026}.estado-activa[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4edda,#c3e6cb);color:#155724}.estado-cerrada[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8d7da,#f5c6cb);color:#721c24}.estado-borrador[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffeaa7);color:#856404}.card-body[_ngcontent-%COMP%]{padding:20px}.descripcion[_ngcontent-%COMP%]{color:#666;margin-bottom:20px;line-height:1.5;transition:color .3s ease}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:8px;border-radius:6px;background:#667eea08;transition:all .3s ease}.info-item[_ngcontent-%COMP%]:hover{background:#667eea14;transform:translate(3px)}.info-label[_ngcontent-%COMP%]{font-size:12px;color:#999;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.info-value[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:600}.card-actions[_ngcontent-%COMP%]{padding:15px 20px;border-top:1px solid #f0f0f0;display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap;background:#f8f9fa80}.card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:80px}@media (max-width: 768px){.toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-box[_ngcontent-%COMP%]{width:100%}.filters[_ngcontent-%COMP%]{flex-direction:column}.filter-select[_ngcontent-%COMP%]{width:100%}.evaluaciones-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:15px;text-align:center}}']})};function c8(n,e){n&1&&(S(0,"span",38),P(1," El t\xEDtulo debe tener al menos 3 caracteres "),b())}function u8(n,e){n&1&&(S(0,"span",38),P(1," La categor\xEDa es obligatoria "),b())}function l8(n,e){n&1&&(S(0,"span",38),P(1," La descripci\xF3n debe tener al menos 10 caracteres "),b())}function d8(n,e){n&1&&(S(0,"span",38),P(1," La fecha l\xEDmite es obligatoria "),b())}function h8(n,e){if(n&1){let t=xn();S(0,"button",51),Ie("click",function(){Ht(t);let i=Ne().index,o=Ne();return zt(o.eliminarPregunta(i))}),P(1," \u{1F5D1}\uFE0F Eliminar "),b()}}function f8(n,e){n&1&&(S(0,"span",38),P(1," La pregunta debe tener al menos 5 caracteres "),b())}function p8(n,e){n&1&&(S(0,"span",38),P(1," Debes agregar las opciones "),b())}function g8(n,e){if(n&1&&(S(0,"div",13)(1,"label",42),P(2,"Opciones (una por l\xEDnea) *"),b(),Ee(3,"textarea",52),me(4,p8,2,0,"span",16),b()),n&2){let t,r,i=Ne(),o=i.$implicit,s=i.index;O(),H("for","opciones-"+s),O(2),Qe("error",((t=o.get("opciones"))==null?null:t.invalid)&&((t=o.get("opciones"))==null?null:t.touched)),H("id","opciones-"+s),O(),H("ngIf",((r=o.get("opciones"))==null?null:r.invalid)&&((r=o.get("opciones"))==null?null:r.touched))}}function m8(n,e){n&1&&(S(0,"span",38),P(1," La respuesta correcta es obligatoria "),b())}function y8(n,e){if(n&1){let t=xn();S(0,"div",39)(1,"div",40)(2,"h3"),P(3),b(),me(4,h8,2,0,"button",41),b(),S(5,"div",13)(6,"label",42),P(7,"Texto de la Pregunta *"),b(),Ee(8,"textarea",43),me(9,f8,2,0,"span",16),b(),S(10,"div",12)(11,"div",13)(12,"label",42),P(13,"Tipo de Pregunta *"),b(),S(14,"select",44)(15,"option",45),P(16,"Opci\xF3n M\xFAltiple"),b(),S(17,"option",46),P(18,"Verdadero/Falso"),b(),S(19,"option",47),P(20,"Respuesta Corta"),b()()(),S(21,"div",13)(22,"label",42),P(23,"Puntaje *"),b(),S(24,"input",48),Ie("change",function(){Ht(t);let i=Ne();return zt(i.onPuntajeChange())}),b()()(),me(25,g8,5,5,"div",49),S(26,"div",13)(27,"label",42),P(28,"Respuesta Correcta *"),b(),Ee(29,"input",50),me(30,m8,2,0,"span",16),b()()}if(n&2){let t,r,i,o,s,a,u,l=e.$implicit,h=e.index,p=Ne();H("formGroupName",h),O(3),Ue("Pregunta ",h+1),O(),H("ngIf",p.preguntas.length>1),O(2),H("for","texto-"+h),O(2),Qe("error",((t=l.get("texto"))==null?null:t.invalid)&&((t=l.get("texto"))==null?null:t.touched)),H("id","texto-"+h),O(),H("ngIf",((r=l.get("texto"))==null?null:r.invalid)&&((r=l.get("texto"))==null?null:r.touched)),O(3),H("for","tipo-"+h),O(2),H("id","tipo-"+h),O(8),H("for","puntaje-"+h),O(2),Qe("error",((i=l.get("puntaje"))==null?null:i.invalid)&&((i=l.get("puntaje"))==null?null:i.touched)),H("id","puntaje-"+h),O(),H("ngIf",((o=l.get("tipo"))==null?null:o.value)==="opcion-multiple"),O(2),H("for","respuesta-"+h),O(2),Qe("error",((s=l.get("respuestaCorrecta"))==null?null:s.invalid)&&((s=l.get("respuestaCorrecta"))==null?null:s.touched)),H("id","respuesta-"+h)("placeholder",((a=l.get("tipo"))==null?null:a.value)==="opcion-multiple"?"Escribe la opci\xF3n correcta exactamente como aparece arriba":"Escribe la respuesta correcta"),O(),H("ngIf",((u=l.get("respuestaCorrecta"))==null?null:u.invalid)&&((u=l.get("respuestaCorrecta"))==null?null:u.touched))}}function v8(n,e){n&1&&(S(0,"div",53)(1,"p"),P(2,"No hay preguntas. Agrega al menos una pregunta."),b()())}function _8(n,e){if(n&1&&(S(0,"div",38),P(1),b()),n&2){let t=Ne();O(),Ue(" ",t.errorMessage," ")}}var Ml=class n{fb=M(bg);evaluacionService=M(zi);authService=M(Bn);router=M(Lt);route=M(_n);evaluacionForm;isEditMode=!1;evaluacionId=null;loading=!1;errorMessage="";constructor(){this.evaluacionForm=this.fb.group({titulo:["",[Te.required,Te.minLength(3)]],descripcion:["",[Te.required,Te.minLength(10)]],categoria:["",Te.required],fechaLimite:["",Te.required],puntajeMaximo:[0,[Te.required,Te.min(1)]],estado:["borrador",Te.required],preguntas:this.fb.array([])})}ngOnInit(){this.evaluacionId=this.route.snapshot.paramMap.get("id"),this.evaluacionId?(this.isEditMode=!0,this.cargarEvaluacion()):this.agregarPregunta()}get preguntas(){return this.evaluacionForm.get("preguntas")}crearPreguntaForm(e){return this.fb.group({id:[e?.id||this.generarId()],texto:[e?.texto||"",[Te.required,Te.minLength(5)]],tipo:[e?.tipo||"opcion-multiple",Te.required],opciones:[e?.opciones?.join(`
`)||"",Te.required],respuestaCorrecta:[e?.respuestaCorrecta||"",Te.required],puntaje:[e?.puntaje||1,[Te.required,Te.min(.5)]]})}agregarPregunta(){this.preguntas.push(this.crearPreguntaForm()),this.calcularPuntajeMaximo()}eliminarPregunta(e){this.preguntas.length>1?(this.preguntas.removeAt(e),this.calcularPuntajeMaximo()):alert("Debe haber al menos una pregunta")}calcularPuntajeMaximo(){let e=0;this.preguntas.controls.forEach(t=>{e+=Number(t.get("puntaje")?.value||0)}),this.evaluacionForm.patchValue({puntajeMaximo:e})}onPuntajeChange(){this.calcularPuntajeMaximo()}cargarEvaluacion(){this.evaluacionId&&(this.loading=!0,this.evaluacionService.getEvaluacionById(this.evaluacionId).subscribe({next:e=>{if(e){for(;this.preguntas.length;)this.preguntas.removeAt(0);e.preguntas?.forEach(i=>{this.preguntas.push(this.crearPreguntaForm(i))});let t=new Date(e.fechaLimite),r=this.formatearFechaParaInput(t);this.evaluacionForm.patchValue({titulo:e.titulo,descripcion:e.descripcion,categoria:e.categoria,fechaLimite:r,puntajeMaximo:e.puntajeMaximo,estado:e.estado})}this.loading=!1},error:e=>{console.error("Error al cargar evaluaci\xF3n:",e),this.errorMessage="Error al cargar la evaluaci\xF3n",this.loading=!1}}))}onSubmit(){return y(this,null,function*(){if(this.evaluacionForm.invalid){this.errorMessage="Por favor, completa todos los campos correctamente.",this.marcarCamposComoTocados();return}let e=this.authService.getCurrentUser();if(!e){this.router.navigate(["/login"]);return}this.loading=!0,this.errorMessage="";try{let t=this.evaluacionForm.value,r=t.preguntas.map(o=>({id:o.id,texto:o.texto,tipo:o.tipo,opciones:o.tipo==="opcion-multiple"?o.opciones.split(`
`).filter(s=>s.trim()):void 0,respuestaCorrecta:o.respuestaCorrecta,puntaje:Number(o.puntaje)})),i={titulo:t.titulo,descripcion:t.descripcion,categoria:t.categoria,fechaCreacion:this.isEditMode?new Date:new Date,fechaLimite:new Date(t.fechaLimite),puntajeMaximo:Number(t.puntajeMaximo),estado:t.estado,userId:e.uid,preguntas:r};this.isEditMode&&this.evaluacionId?yield this.evaluacionService.actualizarEvaluacion(this.evaluacionId,i):yield this.evaluacionService.crearEvaluacion(i),this.router.navigate(["/evaluaciones"])}catch(t){console.error("Error al guardar:",t),this.errorMessage="Error al guardar la evaluaci\xF3n. Int\xE9ntalo de nuevo."}finally{this.loading=!1}})}cancelar(){this.router.navigate(["/evaluaciones"])}marcarCamposComoTocados(){Object.keys(this.evaluacionForm.controls).forEach(e=>{this.evaluacionForm.get(e)?.markAsTouched()}),this.preguntas.controls.forEach(e=>{Object.keys(e.controls).forEach(t=>{e.get(t)?.markAsTouched()})})}generarId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}formatearFechaParaInput(e){let t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0");return`${t}-${r}-${i}T${o}:${s}`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rn({type:n,selectors:[["app-evaluacion-form"]],decls:70,vars:19,consts:[[1,"form-container"],[1,"form-header","animate-slide-down"],[1,"header-title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"form-icon"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["points","10 9 9 9 8 9"],[1,"btn","btn-secondary",3,"click"],[1,"evaluacion-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","titulo"],["type","text","id","titulo","formControlName","titulo","placeholder","Ej: Examen de Matem\xE1ticas - Unidad 1"],["class","error-message",4,"ngIf"],["for","categoria"],["type","text","id","categoria","formControlName","categoria","placeholder","Ej: Matem\xE1ticas, Historia, Ciencias"],["for","descripcion"],["id","descripcion","formControlName","descripcion","rows","3","placeholder","Describe el contenido y objetivos de esta evaluaci\xF3n..."],["for","fechaLimite"],["type","datetime-local","id","fechaLimite","formControlName","fechaLimite"],["for","estado"],["id","estado","formControlName","estado"],["value","borrador"],["value","activa"],["value","cerrada"],["for","puntajeMaximo"],["type","number","id","puntajeMaximo","formControlName","puntajeMaximo","readonly","",1,"readonly-input"],[1,"section-header"],["type","button",1,"btn","btn-success",3,"click"],["formArrayName","preguntas",1,"preguntas-list"],["class","pregunta-card",3,"formGroupName",4,"ngFor","ngForOf"],["class","empty-preguntas",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error-message"],[1,"pregunta-card",3,"formGroupName"],[1,"pregunta-header"],["type","button","class","btn btn-danger btn-small",3,"click",4,"ngIf"],[3,"for"],["formControlName","texto","rows","2","placeholder","Escribe la pregunta...",3,"id"],["formControlName","tipo",3,"id"],["value","opcion-multiple"],["value","verdadero-falso"],["value","respuesta-corta"],["type","number","formControlName","puntaje","step","0.5","min","0.5",3,"change","id"],["class","form-group",4,"ngIf"],["type","text","formControlName","respuestaCorrecta",3,"id","placeholder"],["type","button",1,"btn","btn-danger","btn-small",3,"click"],["formControlName","opciones","rows","4","placeholder",`Opci\xF3n 1
Opci\xF3n 2
Opci\xF3n 3
Opci\xF3n 4`,3,"id"],[1,"empty-preguntas"]],template:function(t,r){if(t&1&&(S(0,"div",0)(1,"div",1)(2,"div",2),An(),S(3,"svg",3),Ee(4,"path",4)(5,"polyline",5)(6,"line",6)(7,"line",7)(8,"polyline",8),b(),Rn(),S(9,"h1"),P(10),b()(),S(11,"button",9),Ie("click",function(){return r.cancelar()}),P(12,"\u2190 Volver"),b()(),S(13,"form",10),Ie("ngSubmit",function(){return r.onSubmit()}),S(14,"div",11)(15,"h2"),P(16,"Informaci\xF3n General"),b(),S(17,"div",12)(18,"div",13)(19,"label",14),P(20,"T\xEDtulo de la Evaluaci\xF3n *"),b(),Ee(21,"input",15),me(22,c8,2,0,"span",16),b(),S(23,"div",13)(24,"label",17),P(25,"Categor\xEDa *"),b(),Ee(26,"input",18),me(27,u8,2,0,"span",16),b()(),S(28,"div",13)(29,"label",19),P(30,"Descripci\xF3n *"),b(),Ee(31,"textarea",20),me(32,l8,2,0,"span",16),b(),S(33,"div",12)(34,"div",13)(35,"label",21),P(36,"Fecha y Hora L\xEDmite *"),b(),Ee(37,"input",22),me(38,d8,2,0,"span",16),b(),S(39,"div",13)(40,"label",23),P(41,"Estado *"),b(),S(42,"select",24)(43,"option",25),P(44,"Borrador"),b(),S(45,"option",26),P(46,"Activa"),b(),S(47,"option",27),P(48,"Cerrada"),b()()(),S(49,"div",13)(50,"label",28),P(51,"Puntaje M\xE1ximo"),b(),Ee(52,"input",29),S(53,"small"),P(54,"Se calcula autom\xE1ticamente seg\xFAn las preguntas"),b()()()(),S(55,"div",11)(56,"div",30)(57,"h2"),P(58,"Preguntas"),b(),S(59,"button",31),Ie("click",function(){return r.agregarPregunta()}),P(60," \u2795 Agregar Pregunta "),b()(),S(61,"div",32),me(62,y8,31,21,"div",33)(63,v8,3,0,"div",34),b()(),me(64,_8,2,1,"div",16),S(65,"div",35)(66,"button",36),Ie("click",function(){return r.cancelar()}),P(67,"Cancelar"),b(),S(68,"button",37),P(69),b()()()()),t&2){let i,o,s,a,u,l,h,p;O(10),we(r.isEditMode?"Editar Evaluaci\xF3n":"Nueva Evaluaci\xF3n"),O(3),H("formGroup",r.evaluacionForm),O(8),Qe("error",((i=r.evaluacionForm.get("titulo"))==null?null:i.invalid)&&((i=r.evaluacionForm.get("titulo"))==null?null:i.touched)),O(),H("ngIf",((o=r.evaluacionForm.get("titulo"))==null?null:o.invalid)&&((o=r.evaluacionForm.get("titulo"))==null?null:o.touched)),O(4),Qe("error",((s=r.evaluacionForm.get("categoria"))==null?null:s.invalid)&&((s=r.evaluacionForm.get("categoria"))==null?null:s.touched)),O(),H("ngIf",((a=r.evaluacionForm.get("categoria"))==null?null:a.invalid)&&((a=r.evaluacionForm.get("categoria"))==null?null:a.touched)),O(4),Qe("error",((u=r.evaluacionForm.get("descripcion"))==null?null:u.invalid)&&((u=r.evaluacionForm.get("descripcion"))==null?null:u.touched)),O(),H("ngIf",((l=r.evaluacionForm.get("descripcion"))==null?null:l.invalid)&&((l=r.evaluacionForm.get("descripcion"))==null?null:l.touched)),O(5),Qe("error",((h=r.evaluacionForm.get("fechaLimite"))==null?null:h.invalid)&&((h=r.evaluacionForm.get("fechaLimite"))==null?null:h.touched)),O(),H("ngIf",((p=r.evaluacionForm.get("fechaLimite"))==null?null:p.invalid)&&((p=r.evaluacionForm.get("fechaLimite"))==null?null:p.touched)),O(24),H("ngForOf",r.preguntas.controls),O(),H("ngIf",r.preguntas.length===0),O(),H("ngIf",r.errorMessage),O(4),H("disabled",r.loading||r.evaluacionForm.invalid),O(),Ue(" ",r.loading?"Guardando...":r.isEditMode?"Actualizar Evaluaci\xF3n":"Crear Evaluaci\xF3n"," ")}},dependencies:[Qn,yi,Ar,Cg,vg,Ig,wg,Hi,Qb,Za,Qa,fg,Jb,Ja,Nl,_g,Eg],styles:['.form-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e9ecef);padding:30px 20px;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-header[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto 30px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.animate-slide-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .6s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.form-icon[_ngcontent-%COMP%]{width:40px;height:40px;color:#667eea;animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:32px;margin:0}.evaluacion-form[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.form-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;margin-bottom:20px;box-shadow:0 2px 8px #0000001a;animation:_ngcontent-%COMP%_slideUp .6s ease-out backwards;transition:all .3s ease}.form-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 20px #667eea26}.form-section[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.form-section[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.form-section[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:22px;margin:0 0 25px;padding-bottom:15px;border-bottom:2px solid #f0f0f0;position:relative}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-2px;left:0;width:60px;height:2px;background:linear-gradient(to right,#667eea,#764ba2);animation:_ngcontent-%COMP%_expandWidth .6s ease-out}@keyframes _ngcontent-%COMP%_expandWidth{0%{width:0}to{width:60px}}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding-bottom:15px;border-bottom:2px solid #f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0;border:none}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:20px;animation:_ngcontent-%COMP%_fadeInUp .5s ease-out backwards}.form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.form-section[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:14px;transition:color .3s ease}.form-group[_ngcontent-%COMP%]:focus-within   label[_ngcontent-%COMP%]{color:#667eea}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:14px;font-family:inherit;transition:all .3s ease;background:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a;transform:translateY(-2px)}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%]{border-color:#e74c3c;animation:_ngcontent-%COMP%_shake .4s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-8px)}75%{transform:translate(8px)}}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:12px;opacity:0;animation:_ngcontent-%COMP%_fadeIn .5s ease-out .3s forwards}.readonly-input[_ngcontent-%COMP%]{background-color:#f5f5f5;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:12px;margin-top:4px;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.preguntas-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.pregunta-card[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-radius:12px;padding:20px;transition:all .3s ease;animation:_ngcontent-%COMP%_scaleIn .4s ease-out backwards}.pregunta-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.pregunta-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.pregunta-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.pregunta-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.pregunta-card[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 16px #667eea26;transform:translate(5px)}.pregunta-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #dee2e6}.pregunta-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#495057;font-size:18px;transition:color .3s ease}.pregunta-card[_ngcontent-%COMP%]:hover   .pregunta-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#667eea}.empty-preguntas[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#999}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;max-width:1000px;margin:30px auto 0}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.btn[_ngcontent-%COMP%]:active:before{width:300px;height:300px}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 6px #667eea33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 16px #667eea66}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#667eea;border:2px solid #667eea}.btn-secondary[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff;box-shadow:0 4px 12px #667eea4d}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;box-shadow:0 4px 6px #28a74533}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#218838,#1aa179);transform:translateY(-2px);box-shadow:0 6px 16px #28a74566}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff;box-shadow:0 4px 6px #e74c3c33}.btn-danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#c0392b,#a93226);transform:translateY(-2px);box-shadow:0 6px 16px #e74c3c66}.btn-small[_ngcontent-%COMP%]{padding:8px 16px;font-size:14px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}@media (max-width: 768px){.form-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}.section-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.pregunta-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}']})};function E8(n,e){n&1&&(S(0,"div",12)(1,"p"),P(2,"Cargando estad\xEDsticas..."),b()())}function I8(n,e){n&1&&(S(0,"div",22)(1,"div",23),P(2,"\u{1F4CA}"),b(),S(3,"h2"),P(4,"No hay respuestas registradas"),b(),S(5,"p"),P(6,"A\xFAn no hay estudiantes que hayan completado esta evaluaci\xF3n."),b()())}function w8(n,e){if(n&1&&(S(0,"div",40)(1,"div",41)(2,"span",42),P(3),b(),S(4,"span",43),P(5),b()(),S(6,"div",44),Ee(7,"div",45),b()()),n&2){let t=e.$implicit,r=Ne(3);O(3),Ue("",t.rango," pts"),O(2),Ue("",t.cantidad," estudiantes"),O(2),Hs("width",r.getBarWidth(t.cantidad))}}function b8(n,e){if(n&1&&(S(0,"tr")(1,"td"),P(2),b(),S(3,"td"),P(4),b(),S(5,"td")(6,"strong"),P(7),b(),P(8),b(),S(9,"td")(10,"span",46),P(11),b()(),S(12,"td")(13,"span",47),P(14),b()()()),n&2){let t=e.$implicit,r=Ne(3);O(2),we(t.userName),O(2),we(r.formatearFecha(t.fechaEntrega)),O(3),we(r.redondear(t.puntajeObtenido)),O(),Ue(" / ",r.evaluacion.puntajeMaximo),O(2),H("ngClass",t.estado==="completada"?"estado-activa":"estado-borrador"),O(),Ue(" ",t.estado," "),O(2),H("ngClass",t.puntajeObtenido>=r.evaluacion.puntajeMaximo*.6?"success":"danger"),O(),Ue(" ",r.redondear(t.puntajeObtenido/r.evaluacion.puntajeMaximo*100),"% ")}}function C8(n,e){if(n&1&&(S(0,"div",24)(1,"div",25)(2,"h3"),P(3,"\u{1F4C8} Resumen General"),b(),S(4,"div",26)(5,"div",27)(6,"span",28),P(7,"Total de respuestas:"),b(),S(8,"span",29),P(9),b()(),S(10,"div",27)(11,"span",28),P(12,"Promedio general:"),b(),S(13,"span",29),P(14),b()(),S(15,"div",27)(16,"span",28),P(17,"Puntaje m\xE1s alto:"),b(),S(18,"span",30),P(19),b()(),S(20,"div",27)(21,"span",28),P(22,"Puntaje m\xE1s bajo:"),b(),S(23,"span",31),P(24),b()()()(),S(25,"div",25)(26,"h3"),P(27,"\u2713 Aprobaci\xF3n"),b(),S(28,"div",26)(29,"div",27)(30,"span",28),P(31,"Aprobados:"),b(),S(32,"span",30),P(33),b()(),S(34,"div",27)(35,"span",28),P(36,"Reprobados:"),b(),S(37,"span",31),P(38),b()()(),S(39,"div",32),Ee(40,"div",33)(41,"div",34),b()(),S(42,"div",35)(43,"h3"),P(44,"\u{1F4CA} Distribuci\xF3n de Puntajes"),b(),S(45,"div",36),me(46,w8,8,4,"div",37),b()(),S(47,"div",35)(48,"h3"),P(49,"\u{1F4DD} Respuestas Individuales"),b(),S(50,"div",38)(51,"table")(52,"thead")(53,"tr")(54,"th"),P(55,"Estudiante"),b(),S(56,"th"),P(57,"Fecha de Entrega"),b(),S(58,"th"),P(59,"Puntaje"),b(),S(60,"th"),P(61,"Estado"),b(),S(62,"th"),P(63,"Porcentaje"),b()()(),S(64,"tbody"),me(65,b8,15,8,"tr",39),b()()()()()),n&2){let t=Ne(2);O(9),we(t.estadisticas.totalRespuestas),O(5),zs("",t.redondear(t.estadisticas.promedioGeneral)," / ",t.evaluacion.puntajeMaximo),O(5),we(t.redondear(t.estadisticas.puntajeMaximo)),O(5),we(t.redondear(t.estadisticas.puntajeMinimo)),O(9),zs("",t.estadisticas.aprobados," (",t.redondear(t.estadisticas.porcentajeAprobacion),"%)"),O(5),zs("",t.estadisticas.reprobados," (",t.redondear(100-t.estadisticas.porcentajeAprobacion),"%)"),O(2),Hs("width",t.estadisticas.porcentajeAprobacion+"%"),O(),Hs("width",100-t.estadisticas.porcentajeAprobacion+"%"),O(5),H("ngForOf",t.estadisticas.distribucionPuntajes),O(19),H("ngForOf",t.respuestas)}}function T8(n,e){if(n&1&&(S(0,"div")(1,"div",13)(2,"h2"),P(3),b(),S(4,"p",14),P(5),b(),S(6,"div",15)(7,"div",16)(8,"span",17),P(9,"Categor\xEDa:"),b(),S(10,"span",18),P(11),b()(),S(12,"div",16)(13,"span",17),P(14,"Estado:"),b(),S(15,"span",19),P(16),b()(),S(17,"div",16)(18,"span",17),P(19,"Fecha l\xEDmite:"),b(),S(20,"span",18),P(21),b()(),S(22,"div",16)(23,"span",17),P(24,"Puntaje m\xE1ximo:"),b(),S(25,"span",18),P(26),b()(),S(27,"div",16)(28,"span",17),P(29,"Total preguntas:"),b(),S(30,"span",18),P(31),b()()()(),me(32,I8,7,0,"div",20)(33,C8,66,15,"div",21),b()),n&2){let t=Ne();O(3),we(t.evaluacion.titulo),O(2),we(t.evaluacion.descripcion),O(6),we(t.evaluacion.categoria),O(4),H("ngClass","estado-"+t.evaluacion.estado),O(),we(t.evaluacion.estado),O(5),we(t.formatearFecha(t.evaluacion.fechaLimite)),O(5),Ue("",t.evaluacion.puntajeMaximo," puntos"),O(5),we((t.evaluacion.preguntas==null?null:t.evaluacion.preguntas.length)||0),O(),H("ngIf",!t.estadisticas),O(),H("ngIf",t.estadisticas)}}var Sg=class n{evaluacionService=M(zi);router=M(Lt);route=M(_n);evaluacion=null;respuestas=[];estadisticas=null;loading=!0;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.cargarDatos(e)}cargarDatos(e){this.loading=!0,this.evaluacionService.getEvaluacionById(e).subscribe({next:t=>{this.evaluacion=t||null,this.evaluacionService.getRespuestasByEvaluacion(e).subscribe({next:r=>{this.respuestas=r,this.calcularEstadisticas(),this.loading=!1},error:r=>{console.error("Error al cargar respuestas:",r),this.loading=!1}})},error:t=>{console.error("Error al cargar evaluaci\xF3n:",t),this.loading=!1}})}calcularEstadisticas(){if(!this.evaluacion||this.respuestas.length===0){this.estadisticas=null;return}let e=this.respuestas.filter(v=>v.estado==="completada").map(v=>v.puntajeObtenido);if(e.length===0){this.estadisticas=null;return}let t=e.length,i=e.reduce((v,A)=>v+A,0)/t,o=Math.max(...e),s=Math.min(...e),a=this.evaluacion.puntajeMaximo*.6,u=e.filter(v=>v>=a).length,l=t-u,h=u/t*100,p=this.evaluacion.puntajeMaximo,g=[{rango:`0-${Math.floor(p*.25)}`,cantidad:e.filter(v=>v<p*.25).length},{rango:`${Math.floor(p*.25)}-${Math.floor(p*.5)}`,cantidad:e.filter(v=>v>=p*.25&&v<p*.5).length},{rango:`${Math.floor(p*.5)}-${Math.floor(p*.75)}`,cantidad:e.filter(v=>v>=p*.5&&v<p*.75).length},{rango:`${Math.floor(p*.75)}-${p}`,cantidad:e.filter(v=>v>=p*.75).length}];this.estadisticas={totalRespuestas:t,promedioGeneral:i,puntajeMaximo:o,puntajeMinimo:s,aprobados:u,reprobados:l,porcentajeAprobacion:h,distribucionPuntajes:g}}volver(){this.router.navigate(["/evaluaciones"])}formatearFecha(e){return new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}redondear(e){return Math.round(e*100)/100}getBarWidth(e){return!this.estadisticas||this.estadisticas.totalRespuestas===0?"0%":`${e/this.estadisticas.totalRespuestas*100}%`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rn({type:n,selectors:[["app-estadisticas"]],decls:15,vars:2,consts:[[1,"estadisticas-container"],[1,"header"],[1,"header-content","animate-slide-down"],[1,"header-title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"stats-icon"],["x1","18","y1","20","x2","18","y2","10"],["x1","12","y1","20","x2","12","y2","4"],["x1","6","y1","20","x2","6","y2","14"],[1,"btn","btn-secondary",3,"click"],[1,"content"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"loading"],[1,"info-card"],[1,"descripcion"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"info-value","badge",3,"ngClass"],["class","empty-state",4,"ngIf"],["class","estadisticas-grid",4,"ngIf"],[1,"empty-state"],[1,"empty-icon"],[1,"estadisticas-grid"],[1,"stats-card"],[1,"stats-list"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value","highlight"],[1,"stat-value","success"],[1,"stat-value","danger"],[1,"progress-bar"],[1,"progress-fill","success"],[1,"progress-fill","danger"],[1,"stats-card","full-width"],[1,"distribution-chart"],["class","distribution-item",4,"ngFor","ngForOf"],[1,"respuestas-table"],[4,"ngFor","ngForOf"],[1,"distribution-item"],[1,"distribution-header"],[1,"range-label"],[1,"range-count"],[1,"distribution-bar"],[1,"bar-fill"],[1,"badge",3,"ngClass"],[3,"ngClass"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),An(),S(4,"svg",4),Ee(5,"line",5)(6,"line",6)(7,"line",7),b(),Rn(),S(8,"h1"),P(9,"Estad\xEDsticas de Evaluaci\xF3n"),b()(),S(10,"button",8),Ie("click",function(){return r.volver()}),P(11,"\u2190 Volver a Evaluaciones"),b()()(),S(12,"div",9),me(13,E8,3,0,"div",10)(14,T8,34,10,"div",11),b()()),t&2&&(O(13),H("ngIf",r.loading),O(),H("ngIf",!r.loading&&r.evaluacion))},dependencies:[Qn,su,yi,Ar],styles:['.estadisticas-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e9ecef);animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:20px 0;box-shadow:0 4px 12px #00000026;position:relative;overflow:hidden}.header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 1px,transparent 1px);background-size:30px 30px;animation:_ngcontent-%COMP%_movePattern 20s linear infinite}@keyframes _ngcontent-%COMP%_movePattern{0%{transform:translate(0) rotate(0)}to{transform:translate(30px,30px) rotate(360deg)}}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px;position:relative;z-index:1}.animate-slide-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .6s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.stats-icon[_ngcontent-%COMP%]{width:36px;height:36px;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px}.content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:30px 20px}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.loading[_ngcontent-%COMP%]:after{content:"";display:block;width:50px;height:50px;margin:20px auto;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;margin-bottom:30px;box-shadow:0 2px 8px #0000001a;animation:_ngcontent-%COMP%_slideUp .6s ease-out;transition:all .3s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.info-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 24px #667eea26}.info-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin:0 0 15px;font-size:24px;position:relative;padding-bottom:10px}.info-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:60px;height:3px;background:linear-gradient(to right,#667eea,#764ba2);animation:_ngcontent-%COMP%_expandWidth .8s ease-out}@keyframes _ngcontent-%COMP%_expandWidth{0%{width:0}to{width:60px}}.descripcion[_ngcontent-%COMP%]{color:#666;margin-bottom:25px;line-height:1.6}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;padding:12px;border-radius:8px;background:#667eea08;transition:all .3s ease;animation:_ngcontent-%COMP%_fadeInUp .5s ease-out backwards}.info-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.info-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.info-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.info-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.info-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.info-item[_ngcontent-%COMP%]:hover{background:#667eea14;transform:translateY(-3px);box-shadow:0 4px 12px #667eea1a}.info-label[_ngcontent-%COMP%]{font-size:13px;color:#999;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.info-value[_ngcontent-%COMP%]{font-size:15px;color:#333;font-weight:600}.badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase;transition:all .3s ease;box-shadow:0 2px 4px #0000001a}.badge[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #00000026}.estado-activa[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4edda,#c3e6cb);color:#155724}.estado-cerrada[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8d7da,#f5c6cb);color:#721c24}.estado-borrador[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffeaa7);color:#856404}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.empty-icon[_ngcontent-%COMP%]{font-size:80px;margin-bottom:20px;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}.estadisticas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 8px #0000001a;transition:all .3s ease;animation:_ngcontent-%COMP%_slideUp .5s ease-out backwards}.stats-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.stats-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.stats-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.stats-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.stats-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #667eea26;transform:translateY(-5px)}.stats-card.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.stats-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:18px;padding-bottom:15px;border-bottom:2px solid #f0f0f0;position:relative}.stats-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-2px;left:0;width:40px;height:2px;background:linear-gradient(to right,#667eea,#764ba2)}.stats-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background:#f8f9fa;border-radius:8px;transition:all .3s ease;animation:_ngcontent-%COMP%_fadeInLeft .5s ease-out backwards}.stat-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.stat-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.stat-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.stat-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.stat-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.stat-item[_ngcontent-%COMP%]:hover{background:#667eea14;transform:translate(5px)}.stat-label[_ngcontent-%COMP%]{color:#666;font-size:14px}.stat-value[_ngcontent-%COMP%]{color:#333;font-size:16px;font-weight:700;transition:transform .3s ease}.stat-item[_ngcontent-%COMP%]:hover   .stat-value[_ngcontent-%COMP%]{transform:scale(1.1)}.stat-value.highlight[_ngcontent-%COMP%]{color:#667eea}.stat-value.success[_ngcontent-%COMP%]{color:#28a745}.stat-value.danger[_ngcontent-%COMP%]{color:#e74c3c}.progress-bar[_ngcontent-%COMP%]{display:flex;height:30px;border-radius:8px;overflow:hidden;margin-top:20px;box-shadow:0 2px 4px #0000001a}.progress-fill[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;transition:width 1s ease-out;animation:_ngcontent-%COMP%_fillProgress 1.5s ease-out}@keyframes _ngcontent-%COMP%_fillProgress{0%{width:0!important}}.progress-fill[_ngcontent-%COMP%]{color:#fff;font-size:12px;font-weight:600;transition:width 1s ease-out}.progress-fill.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997)}.progress-fill.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b)}.distribution-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.distribution-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.distribution-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.range-label[_ngcontent-%COMP%]{font-weight:600;color:#333}.range-count[_ngcontent-%COMP%]{color:#666;font-size:14px}.distribution-bar[_ngcontent-%COMP%]{height:30px;background:#f0f0f0;border-radius:8px;overflow:hidden;box-shadow:inset 0 2px 4px #0000001a}.bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,#667eea,#764ba2);transition:width 1s ease-out;display:flex;align-items:center;padding:0 10px;animation:_ngcontent-%COMP%_fillProgress 1.5s ease-out}.respuestas-table[_ngcontent-%COMP%]{overflow-x:auto;animation:_ngcontent-%COMP%_slideUp .6s ease-out .5s backwards}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef)}th[_ngcontent-%COMP%]{text-align:left;padding:12px;font-weight:600;color:#333;border-bottom:2px solid #667eea;text-transform:uppercase;font-size:12px;letter-spacing:.5px}td[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #f0f0f0;color:#666;transition:all .3s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#667eea0d;transform:scale(1.01)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{color:#333}.success[_ngcontent-%COMP%]{color:#28a745;font-weight:600}.danger[_ngcontent-%COMP%]{color:#e74c3c;font-weight:600}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#667eea4d;transform:translate(-50%,-50%);transition:width .6s,height .6s}.btn[_ngcontent-%COMP%]:active:before{width:300px;height:300px}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#667eea;border:2px solid white;box-shadow:0 2px 8px #0000001a}.btn-secondary[_ngcontent-%COMP%]:hover{background:#fffffff2;transform:translateY(-2px);box-shadow:0 4px 12px #00000026}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.estadisticas-grid[_ngcontent-%COMP%], .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}table[_ngcontent-%COMP%]{font-size:12px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px}}']})};var xl=()=>{let n=M(Bn),e=M(Lt);return n.getUser().pipe(se(t=>t?!0:(e.navigate(["/login"]),!1)))},HO=()=>{let n=M(Bn),e=M(Lt);return n.getUser().pipe(se(t=>t?(e.navigate(["/evaluaciones"]),!1):!0))};var zO=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Tg,canActivate:[HO]},{path:"evaluaciones",component:Dg,canActivate:[xl]},{path:"evaluaciones/nueva",component:Ml,canActivate:[xl]},{path:"evaluaciones/editar/:id",component:Ml,canActivate:[xl]},{path:"evaluaciones/estadisticas/:id",component:Sg,canActivate:[xl]},{path:"**",redirectTo:"/login"}];var qO={providers:[by(),Mv({eventCoalescing:!0}),C_(zO),PR(()=>NR(uO.firebase)),IN(()=>CN()),oO(()=>aO())]};var Ag=class n{title=tn("Sistema_de_evaluacion_online");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=rn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Ee(0,"router-outlet")},dependencies:[Au],encapsulation:2})};e_(Ag,qO).catch(n=>console.error(n));
